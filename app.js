/* SysLab Trivia — app.js (v2)
   - שם שחקן תומך עברית/אנגלית
   - בנק שאלות מורחב
   - עזרות: 50:50 / רמז / דילוג
   - ניתוח טעויות בסוף (Modal)
   - כפתור יציאה הועבר לראש המשחק (לא אחרי תשובה)
*/

const QUESTION_BANK = [

  //Networking
  {
  "cat": "Networking",
  "diff": "easy",
  "q": "משתמש מדווח שהוא לא מצליח לגלוש לאינטרנט אך מצליח לבצע ping לכתובת 8.8.8.8. מה התקלה הסבירה ביותר?",
  "a": [
    "תקלה ב-DNS",
    "תקלה ב-Switch",
    "תקלה ב-NAT",
    "תקלה בכבל רשת"
  ],
  "c": 0,
  "exp": "אם ניתן לבצע ping ל-IP אך לא לגלוש לפי שם, סביר ששרת ה-DNS אינו מתרגם שמות לכתובות IP ולכן הדפדפן לא מצליח לפתוח אתרים."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "כאשר מחשב מקבל כתובת 169.254.x.x לאחר אתחול, מה זה מעיד לגבי תהליך קבלת הכתובת?",
  "a": [
    "הוגדרה כתובת סטטית שגויה",
    "לא התקבלה כתובת משרת DHCP",
    "ה-Gateway לא זמין",
    "יש כפילות כתובות ברשת"
  ],
  "c": 1,
  "exp": "טווח זה נקרא APIPA ומוקצה אוטומטית כאשר תחנה לא מצליחה ליצור קשר עם שרת DHCP לקבלת כתובת תקינה."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "ברשת משרדית קטנה, איזה רכיב אחראי להעברת תעבורה בין מחשבים באותה רשת מקומית בלבד?",
  "a": [
    "Router",
    "Firewall",
    "Switch",
    "DNS Server"
  ],
  "c": 2,
  "exp": "Switch פועל בשכבה 2 ומעביר Frames בתוך אותה רשת לפי כתובת MAC, ללא ניתוב בין רשתות שונות."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "מה המשמעות של Subnet Mask 255.255.255.0 בסביבה משרדית סטנדרטית?",
  "a": [
    "הרשת תומכת עד 254 תחנות",
    "יש רק 24 תחנות אפשריות",
    "הרשת ציבורית",
    "אין צורך ב-Gateway"
  ],
  "c": 0,
  "exp": "מסכה זו ידועה גם כ-/24 ומאפשרת 254 כתובות שימושיות למחשבים באותו סאבנט."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "כאשר שני מחשבים באותו סאבנט מתקשרים ביניהם, דרך איזה רכיב התעבורה תעבור בדרך כלל?",
  "a": [
    "Router",
    "Switch",
    "DHCP",
    "Gateway ציבורי"
  ],
  "c": 1,
  "exp": "כאשר התקשורת מתבצעת בתוך אותו סאבנט, אין צורך בנתב והתעבורה תעבור דרך ה-Switch בלבד."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "מהי הסיבה המרכזית לשימוש ב-Default Gateway ברשת ארגונית?",
  "a": [
    "ניהול משתמשים",
    "שליחת תעבורה לרשתות חיצוניות",
    "תרגום שמות דומיין",
    "הצפנת מידע"
  ],
  "c": 1,
  "exp": "Gateway משמש כנקודת יציאה מהרשת המקומית ומאפשר תקשורת עם סאבנטים אחרים או עם האינטרנט."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "מה תפקיד שרת DHCP בסביבת Active Directory?",
  "a": [
    "להצפין תעבורה",
    "להקצות כתובות IP והגדרות רשת אוטומטית",
    "לנהל משתמשים",
    "לסנן חיבורים"
  ],
  "c": 1,
  "exp": "DHCP מחלק אוטומטית IP, Gateway ו-DNS וכך מונע צורך בהגדרה ידנית בכל תחנה."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "כאשר משתמש מצליח לגלוש אך שיחות Teams נתקעות ומתנתקות, איזה מדד רשת יש לבדוק קודם?",
  "a": [
    "Latency",
    "Subnet Mask",
    "MAC Address",
    "DNS Zone"
  ],
  "c": 0,
  "exp": "Latency גבוה או Packet Loss משפיעים במיוחד על תקשורת בזמן אמת כמו שיחות וידאו."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "איזו פקודה תציג את כל הגדרות הרשת המלאות של מחשב Windows?",
  "a": [
    "ping",
    "tracert",
    "ipconfig /all",
    "nslookup"
  ],
  "c": 2,
  "exp": "ipconfig /all מציגה כתובת IP, מסכה, Gateway, DNS ועוד מידע חיוני לאבחון."
},
{
  "cat": "Networking",
  "diff": "easy",
  "q": "מה קורה אם מוגדרת כתובת Gateway שגויה במחשב?",
  "a": [
    "לא תהיה תקשורת פנימית",
    "לא תהיה יציאה לרשתות אחרות",
    "DNS יפסיק לעבוד",
    "Switch יקרוס"
  ],
  "c": 1,
  "exp": "המחשב עדיין יוכל לתקשר בתוך הסאבנט אך לא יוכל לצאת לרשתות חיצוניות."
},

{
  "cat": "Networking",
  "diff": "medium",
  "q": "בארגון גדול קיימים מספר סאבנטים שונים. איזה רכיב מאפשר לתחנות בסאבנט אחד לקבל כתובת משרת DHCP שנמצא בסאבנט אחר?",
  "a": [
    "ARP",
    "DHCP Relay",
    "STP",
    "VLAN"
  ],
  "c": 1,
  "exp": "DHCP Relay מעביר בקשות Broadcast לשרת DHCP הנמצא ברשת אחרת דרך Router."
},
{
  "cat": "Networking",
  "diff": "medium",
  "q": "מה היתרון המרכזי של שימוש ב-VLAN בסביבה ארגונית?",
  "a": [
    "הצפנה",
    "שיפור מהירות אינטרנט",
    "הפרדה לוגית ושיפור אבטחה",
    "הגדלת טווח IP"
  ],
  "c": 2,
  "exp": "VLAN מאפשר הפרדה בין מחלקות שונות על אותה תשתית וכך מצמצם Broadcast ומשפר אבטחה."
},
{
  "cat": "Networking",
  "diff": "medium",
  "q": "מדוע NAT חיוני ברוב הרשתות הביתיות והארגוניות?",
  "a": [
    "כדי לאפשר למספר מחשבים להשתמש בכתובת ציבורית אחת",
    "כדי להצפין תעבורה",
    "כדי למנוע DHCP",
    "כדי להחליף Switch"
  ],
  "c": 0,
  "exp": "NAT מתרגם כתובות פרטיות לכתובת ציבורית אחת וכך מאפשר יציאה משותפת לאינטרנט."
},
{
  "cat": "Networking",
  "diff": "medium",
  "q": "כאשר מתרחשת לולאה בין שני Switches, איזה מנגנון מונע קריסת רשת?",
  "a": [
    "STP",
    "DNS",
    "ARP",
    "CIDR"
  ],
  "c": 0,
  "exp": "STP מזהה לולאות Layer 2 וחוסם קישורים מיותרים כדי למנוע הצפת Broadcast."
},
{
  "cat": "Networking",
  "diff": "medium",
  "q": "מה ההבדל העיקרי בין Throughput ל-Bandwidth?",
  "a": [
    "אין הבדל",
    "Bandwidth תיאורטי, Throughput בפועל",
    "Throughput הוא DNS",
    "Bandwidth הוא IP"
  ],
  "c": 1,
  "exp": "Bandwidth הוא קצב מקסימלי אפשרי ואילו Throughput הוא הקצב האמיתי שמושג בפועל."
},

{
  "cat": "Networking",
  "diff": "hard",
  "q": "מנהל רשת מזהה Duplex Mismatch בין שרת ל-Switch. איזה סימפטום סביר שיופיע?",
  "a": [
    "Latency גבוה ואובדן חבילות",
    "IP לא חוקי",
    "DNS לא נפתר",
    "Gateway חסום"
  ],
  "c": 0,
  "exp": "Duplex Mismatch גורם להתנגשויות ואובדן חבילות, מה שיוביל לביצועים איטיים במיוחד."
},
{
  "cat": "Networking",
  "diff": "hard",
  "q": "כאשר מגדירים CIDR כ-/26, כמה כתובות שימושיות קיימות?",
  "a": [
    "62",
    "126",
    "254",
    "30"
  ],
  "c": 0,
  "exp": "/26 נותן 64 כתובות סה\"כ, מתוכן 62 שימושיות לאחר הורדת Network ו-Broadcast."
},
{
  "cat": "Networking",
  "diff": "hard",
  "q": "מהי המטרה המרכזית של ACL בנתב ארגוני?",
  "a": [
    "סינון ושליטה בתעבורה לפי חוקים",
    "הצפנה",
    "ניהול משתמשים",
    "הקצאת IP"
  ],
  "c": 0,
  "exp": "ACL מאפשר להגדיר אילו כתובות או פורטים מורשים לעבור וכך לשלוט בגישה בין רשתות."
},
{
  "cat": "Networking",
  "diff": "hard",
  "q": "במצב של Packet Loss גבוה במיוחד, איזו בדיקה ראשונית מומלצת?",
  "a": [
    "בדיקת כבלים ומהירות קישור",
    "שינוי Subnet Mask",
    "מחיקת DNS Cache",
    "הגדרת VLAN חדש"
  ],
  "c": 0,
  "exp": "Packet Loss נגרם לעיתים מבעיות פיזיות, עומס או Duplex Mismatch ולכן בדיקה פיזית וקישוריות היא התחלה נכונה."
},
{
  "cat": "Networking",
  "diff": "hard",
  "q": "מה קורה כאשר MTU קטן מדי ברשת VPN?",
  "a": [
    "פיצול חבילות וביצועים ירודים",
    "DNS נופל",
    "IP משתנה",
    "Switch מפסיק לעבוד"
  ],
  "c": 0,
  "exp": "MTU קטן גורם לפיצול חבילות (Fragmentation) מה שמאט את הביצועים במיוחד ב-VPN."
},

  //DHCP

  {
  "cat": "DHCP",
  "diff": "easy",
  "q": "מה התפקיד המרכזי של DHCP ברשת?",
  "a": [
    "לתרגם שמות דומיין לכתובות IP ברשת בצורה מעשית ומורחבת",
    "להקצות כתובות IP אוטומטית לתחנות",
    "לנהל הרשאות משתמשים בדומיין ברשת",
    "לנתב תעבורה בין רשתות שונות ברשת"
  ],
  "c": 1,
  "exp": "DHCP מקצה אוטומטית כתובות IP והגדרות רשת לתחנות במקום הגדרה ידנית."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "איזה רכיב פונה ל-DHCP לקבלת כתובת?",
  "a": [
    "תחנת קצה שמוגדרת כ-DHCP Client",
    "שרת קבצים ברשת הארגונית ברשת בצורה מעשית ומורחבת",
    "נתב שמחבר בין סאבנטים ברשת",
    "שרת DNS פנימי ברשת"
  ],
  "c": 0,
  "exp": "DHCP Client הוא התחנה שמבקשת כתובת והגדרות רשת מהשרת."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "איזה פרטים DHCP מספק ללקוח?",
  "a": [
    "שם משתמש וסיסמה ברשת",
    "הרשאות לתיקיות ברשת",
    "IP, Subnet Mask ו-Default Gateway",
    "מדיניות אבטחה ברשת בצורה מעשית ומורחבת"
  ],
  "c": 2,
  "exp": "DHCP מספק ללקוח כתובת IP, מסכת רשת, Gateway ולעיתים גם DNS."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "מה יקרה אם DHCP לא זמין?",
  "a": [
    "DNS יקרוס מיד ברשת",
    "הרשת תפסיק לעבוד לגמרי ברשת",
    "ה-Switch יכבה פורטים ברשת בצורה מעשית ומורחבת",
    "התחנה לא תקבל כתובת אוטומטית ברשת"
  ],
  "c": 3,
  "exp": "כאשר DHCP לא זמין התחנה לא תקבל כתובת דינמית ועלולה לקבל APIPA."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "מה זה DHCP Server?",
  "a": [
    "שרת שמתרגם שמות דומיין ברשת",
    "שרת שמנתב תעבורה החוצה ברשת בצורה מעשית ומורחבת",
    "שרת שמחלק הגדרות רשת ללקוחות ברשת",
    "שרת שמאחסן קבצים ברשת"
  ],
  "c": 2,
  "exp": "DHCP Server הוא השרת שמחלק כתובות והגדרות רשת ללקוחות."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "מה זה DHCP Client?",
  "a": [
    "שירות DNS פנימי ברשת בצורה מעשית ומורחבת",
    "שרת שמנהל Scope ברשת",
    "תחנה שמבקשת כתובת ופרטי רשת ברשת",
    "נתב שמבצע NAT ברשת"
  ],
  "c": 2,
  "exp": "DHCP Client הוא שירות במחשב שמבקש ומחדש כתובת מהשרת."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "מתי משתמשים ב-DHCP?",
  "a": [
    "כשרוצים הקצאת כתובות אוטומטית ברשת",
    "כשרוצים לנתב רשתות ברשת",
    "כשרוצים להצפין תעבורה ברשת",
    "כשרוצים לנהל משתמשים ברשת בצורה מעשית ומורחבת"
  ],
  "c": 0,
  "exp": "משתמשים ב-DHCP כאשר רוצים ניהול מרכזי והקצאה אוטומטית של כתובות."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "מה היתרון של DHCP לעומת IP ידני?",
  "a": [
    "הצפנה מובנית ברשת בצורה מעשית ומורחבת",
    "מהירות רשת גבוהה יותר ברשת",
    "אבטחה טובה יותר ברשת",
    "ניהול קל ומניעת טעויות אנוש ברשת"
  ],
  "c": 3,
  "exp": "DHCP מפחית טעויות אנוש ומאפשר ניהול מרכזי של כתובות."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "היכן מוגדר DHCP Client ב-Windows?",
  "a": [
    "בשירות DHCP Client במערכת ברשת",
    "ב-GPO ייעודי ברשת",
    "ב-Active Directory ברשת בצורה מעשית ומורחבת",
    "בשרת DNS ברשת"
  ],
  "c": 0,
  "exp": "DHCP Client פועל כשירות מערכת במערכת ההפעלה Windows."
},
{
  "cat": "DHCP",
  "diff": "easy",
  "q": "איזה סוג כתובת DHCP מחלק?",
  "a": [
    "כתובת MAC ברשת",
    "כתובת ציבורית קבועה ברשת בצורה מעשית ומורחבת",
    "כתובת דינמית לפי Lease ברשת",
    "כתובת DNS בלבד ברשת"
  ],
  "c": 2,
  "exp": "DHCP מחלק כתובת דינמית שמושכרת ללקוח לפרק זמן מוגדר."
},

{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה זה DHCP Scope?",
  "a": [
    "קבוצת משתמשים בדומיין ברשת בצורה מעשית ומורחבת",
    "טווח כתובות ששרת DHCP רשאי לחלק",
    "טבלת ניתוב של נתב ברשת",
    "אזור DNS ברשת"
  ],
  "c": 1,
  "exp": "Scope הוא טווח כתובות שהשרת רשאי לחלק ללקוחות."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה זה Lease ב-DHCP?",
  "a": [
    "הרשאת גישה זמנית ברשת בצורה מעשית ומורחבת",
    "כתובת קבועה שלא משתנה ברשת",
    "משך הזמן שבו כתובת מושכרת ללקוח",
    "קישור פיזי ברשת"
  ],
  "c": 2,
  "exp": "Lease הוא פרק הזמן שבו הכתובת מוקצית ללקוח לפני חידוש."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה קורה כשה-Lease פג?",
  "a": [
    "הלקוח מבקש חידוש או כתובת חדשה",
    "ה-Switch חוסם את התחנה ברשת",
    "הכרטיס מתנתק פיזית ברשת",
    "ה-DNS מפסיק לפעול ברשת בצורה מעשית ומורחבת"
  ],
  "c": 0,
  "exp": "כאשר ה-Lease פג הלקוח מנסה לחדש את הכתובת מהשרת."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה זה DHCP Reservation?",
  "a": [
    "טווח כתובות אסור ברשת",
    "שיוך IP קבוע לכתובת MAC ברשת",
    "כלל Firewall ברשת בצורה מעשית ומורחבת",
    "ניתוב קבוע ברשת"
  ],
  "c": 1,
  "exp": "Reservation משייך כתובת קבועה ל-MAC דרך שרת DHCP."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "למה משתמשים ב-Exclusion?",
  "a": [
    "לשנות Subnet Mask ברשת בצורה מעשית ומורחבת",
    "להצפין תעבורה ברשת",
    "למנוע חלוקה של כתובות ידניות ברשת",
    "להאיץ את הרשת ברשת"
  ],
  "c": 2,
  "exp": "Exclusion מונע מהשרת לחלק כתובות שמוקצות ידנית."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה ההבדל בין Reservation ל-IP ידני?",
  "a": [
    "Reservation פחות יציב ברשת בצורה מעשית ומורחבת",
    "אין הבדל מעשי ברשת",
    "IP ידני תמיד עדיף ברשת",
    "Reservation מנוהל ע\"י DHCP ברשת"
  ],
  "c": 3,
  "exp": "Reservation נשאר מנוהל דרך DHCP בעוד IP ידני מוגדר מקומית."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה יגרום ל-IP Conflict ב-DHCP?",
  "a": [
    "Gateway לא מוגדר ברשת בצורה מעשית ומורחבת",
    "שתי תחנות עם אותה כתובת ברשת",
    "Subnet Mask שגוי ברשת",
    "DNS שגוי ברשת"
  ],
  "c": 1,
  "exp": "IP Conflict מתרחש כאשר שתי תחנות מקבלות או מוגדרות עם אותה כתובת."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "איך תחנה משחררת כתובת DHCP?",
  "a": [
    "באמצעות פקודת release ברשת",
    "על ידי שינוי DNS ברשת בצורה מעשית ומורחבת",
    "על ידי כיבוי ה-Switch ברשת",
    "באמצעות שינוי Gateway ברשת"
  ],
  "c": 0,
  "exp": "תחנה משחררת כתובת באמצעות פקודת ipconfig /release."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה תפקיד DHCP Options?",
  "a": [
    "להעביר ללקוח פרמטרים נוספים ברשת",
    "לשנות מהירות רשת ברשת",
    "לנהל משתמשים ברשת בצורה מעשית ומורחבת",
    "להצפין תעבורה ברשת"
  ],
  "c": 0,
  "exp": "DHCP Options מעבירות מידע נוסף כמו DNS ו-Gateway ללקוח."
},
{
  "cat": "DHCP",
  "diff": "medium",
  "q": "מה זה DHCP Failover?",
  "a": [
    "שיתוף עומס ושרידות בין שרתים ברשת",
    "שכפול DNS Zones ברשת",
    "ניתוב מתקדם ברשת בצורה מעשית ומורחבת",
    "הצפנת תעבורה ברשת"
  ],
  "c": 0,
  "exp": "DHCP Failover מאפשר שרידות והמשכיות שירות בין שני שרתים."
},

{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה סדר הודעות DHCP?",
  "a": [
    "Offer, Discover, Request, Acknowledge בצורה מעשית ומורחבת",
    "Request, Discover, Offer, Acknowledge",
    "Discover, Offer, Request, Acknowledge",
    "Acknowledge, Offer, Request, Discover"
  ],
  "c": 2,
  "exp": "סדר הודעות DHCP נקרא DORA וכולל Discover, Offer, Request ו-Acknowledge."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה המשמעות של 169.254.x.x?",
  "a": [
    "כתובת ציבורית מהספק ברשת",
    "כתובת Gateway ברשת בצורה מעשית ומורחבת",
    "כתובת DNS ברשת",
    "כתובת זמנית ללא מענה מ-DHCP ברשת"
  ],
  "c": 3,
  "exp": "טווח 169.254 מציין שהתחנה לא קיבלה מענה משרת DHCP."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה זה DHCP Relay?",
  "a": [
    "העברת בקשות DHCP בין סאבנטים ברשת",
    "שכפול Scope בין שרתים ברשת",
    "הצפנת תעבורה ברשת",
    "בדיקת Lease ברשת בצורה מעשית ומורחבת"
  ],
  "c": 0,
  "exp": "DHCP Relay מאפשר העברת בקשות DHCP דרך ראוטר לסאבנט אחר."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מתי צריך DHCP Relay?",
  "a": [
    "כששרת DHCP לא באותו סאבנט ברשת",
    "כשיש NAT ברשת בצורה מעשית ומורחבת",
    "כשיש VLAN אחד בלבד ברשת",
    "כשיש DNS תקול ברשת"
  ],
  "c": 0,
  "exp": "Relay נדרש כאשר שרת DHCP נמצא בסאבנט שונה מהלקוח."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה יקרה אם שני שרתי DHCP מחלקים אותו Scope?",
  "a": [
    "DNS יפסיק לעבוד ברשת בצורה מעשית ומורחבת",
    "יתכנו התנגשויות וכתובות כפולות",
    "הרשת תעבוד מהר יותר ברשת",
    "לא תהיה השפעה ברשת"
  ],
  "c": 1,
  "exp": "שני שרתים עם אותו Scope עלולים לגרום להתנגשויות כתובות."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה היתרון ב-DHCP Failover?",
  "a": [
    "ניהול משתמשים ברשת",
    "המשכיות שירות גם בנפילת שרת ברשת",
    "מהירות רשת גבוהה יותר ברשת",
    "אבטחה משופרת ברשת בצורה מעשית ומורחבת"
  ],
  "c": 1,
  "exp": "DHCP Failover מאפשר המשכיות שירות גם במקרה של נפילת שרת."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה תפקיד DHCP Option 003?",
  "a": [
    "הגדרת MAC ברשת",
    "הגדרת Default Gateway ללקוח ברשת",
    "הגדרת DNS ברשת",
    "הגדרת Lease ברשת בצורה מעשית ומורחבת"
  ],
  "c": 1,
  "exp": "Option 003 מגדיר ללקוח את כתובת ה-Default Gateway."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה תפקיד DHCP Option 006?",
  "a": [
    "הגדרת Subnet Mask ברשת בצורה מעשית ומורחבת",
    "הגדרת Gateway ברשת",
    "הגדרת שרת DNS ללקוח ברשת",
    "הגדרת Domain ברשת"
  ],
  "c": 2,
  "exp": "Option 006 מגדיר ללקוח את כתובת שרת ה-DNS."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "למה Scope חייב להיות Active?",
  "a": [
    "כדי ש-DNS יעבוד ברשת",
    "כדי שה-Switch יעבוד ברשת",
    "כדי ששרת DHCP יחלק כתובות ברשת",
    "כדי שהנתב ינתב ברשת בצורה מעשית ומורחבת"
  ],
  "c": 2,
  "exp": "Scope חייב להיות פעיל כדי שהשרת יוכל לחלק כתובות."
},
{
  "cat": "DHCP",
  "diff": "hard",
  "q": "מה קורה אם Lease קצר מדי?",
  "a": [
    "DNS לא יציב ברשת",
    "אבטחה חלשה ברשת",
    "ריבוי חידושים ועומס מיותר ברשת",
    "Subnet Mask משתנה ברשת בצורה מעשית ומורחבת"
  ],
  "c": 2,
  "exp": "Lease קצר מדי גורם לחידושים תכופים ולעומס מיותר על השרת."
},

  //DNS

  {
  "cat": "DNS",
  "diff": "easy",
  "q": "מה התפקיד המרכזי של DNS?",
  "a": [
    "לתרגם שמות דומיין לכתובות IP ברשת",
    "להקצות כתובות IP לתחנות ברשת בצורה מעשית ומורחבת",
    "להצפין תעבורת רשת ברשת",
    "לנתב תעבורה בין רשתות ברשת"
  ],
  "c": 0,
  "exp": "DNS מתרגם שמות דומיין לכתובות IP כדי לאפשר גישה לפי שם ולא לפי מספר."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "למה משתמשים ב-DNS ולא רק ב-IP?",
  "a": [
    "DNS מהיר יותר מתקשורת IP ברשת",
    "IP עובד רק ברשת מקומית",
    "קל יותר לזכור שמות מאשר כתובות מספריות",
    "DNS מספק אבטחה מובנית"
  ],
  "c": 2,
  "exp": "שמות דומיין קלים לזכירה ומאפשרים שינוי IP מבלי שהמשתמש ירגיש."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "מה זה Domain Name?",
  "a": [
    "כתובת Gateway",
    "שם טקסטואלי שמייצג כתובת IP",
    "שם משתמש במערכת",
    "כתובת פיזית של כרטיס רשת"
  ],
  "c": 1,
  "exp": "Domain Name הוא שם לוגי שממופה לכתובת IP דרך שרת DNS."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "מה זה DNS Server?",
  "a": [
    "שרת שמבצע ניתוב",
    "שרת שמאחסן קבצים",
    "שרת שמחלק כתובות IP",
    "שרת שעונה לבקשות תרגום שמות"
  ],
  "c": 3,
  "exp": "DNS Server מקבל שאילתות ומחזיר כתובת IP המתאימה לשם המבוקש."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "מה יקרה אם DNS לא זמין?",
  "a": [
    "לא תתקבל כתובת IP",
    "גישה לפי שם לא תעבוד אך IP כן",
    "הרשת תפסיק לעבוד לגמרי",
    "ה-Switch יכבה פורטים"
  ],
  "c": 1,
  "exp": "כאשר DNS לא זמין ניתן להגיע ליעד לפי IP אך לא לפי שם דומיין."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "איזה פורט משמש DNS בדרך כלל?",
  "a": [
    "פורט 21",
    "פורט 80",
    "פורט 443",
    "פורט 53"
  ],
  "c": 3,
  "exp": "DNS משתמש בדרך כלל בפורט 53 בפרוטוקול UDP."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "מה זה FQDN?",
  "a": [
    "שם קצר של מחשב",
    "שם שרת בלבד",
    "כתובת IP ציבורית",
    "שם דומיין מלא כולל כל הרמות"
  ],
  "c": 3,
  "exp": "FQDN הוא שם דומיין מלא הכולל את כל הרמות עד הסיומת העליונה."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "מה זה TLD?",
  "a": [
    "פרוטוקול רשת",
    "כתובת IP פרטית",
    "סיומת עליונה של דומיין",
    "שם שרת מקומי"
  ],
  "c": 2,
  "exp": "TLD היא הסיומת העליונה של הדומיין כמו com או org."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "מה זה DNS Cache?",
  "a": [
    "טבלת MAC",
    "טבלת ניתוב",
    "שמירת תוצאות תרגום זמנית",
    "גיבוי שרת"
  ],
  "c": 2,
  "exp": "DNS Cache שומר תוצאות תרגום זמנית כדי להאיץ שאילתות עתידיות."
},
{
  "cat": "DNS",
  "diff": "easy",
  "q": "איזה פרוטוקול DNS משתמש לרוב בשאילתות רגילות?",
  "a": [
    "TCP",
    "ICMP",
    "UDP",
    "ARP"
  ],
  "c": 2,
  "exp": "DNS משתמש לרוב ב-UDP עבור שאילתות רגילות מהירות."
},

{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה רשומת A?",
  "a": [
    "מיפוי שם ל-IPv4",
    "Alias",
    "מיפוי IP לשם",
    "רשומת דואר"
  ],
  "c": 0,
  "exp": "רשומת A ממפה שם דומיין לכתובת IPv4."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה רשומת AAAA?",
  "a": [
    "מיפוי ל-IPv4",
    "רשומת Gateway",
    "מיפוי ל-IPv6",
    "רשומת Cache"
  ],
  "c": 2,
  "exp": "רשומת AAAA ממפה שם דומיין לכתובת IPv6."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה CNAME?",
  "a": [
    "רשומת דואר",
    "רשומת Subnet",
    "Alias שמפנה לשם אחר",
    "רשומת IP"
  ],
  "c": 2,
  "exp": "CNAME הוא כינוי שמפנה לשם דומיין אחר."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה רשומת MX?",
  "a": [
    "רשומת דואר",
    "רשומת Gateway",
    "רשומת דואר לדומיין",
    "Alias"
  ],
  "c": 2,
  "exp": "רשומת MX מגדירה איזה שרת אחראי לקבלת דואר."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה TTL?",
  "a": [
    "זמן Lease",
    "זמן תגובה",
    "משך שמירת רשומה ב-Cache",
    "משך חיבור לשרת"
  ],
  "c": 2,
  "exp": "TTL קובע כמה זמן הרשומה נשמרת ב-Cache לפני רענון."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה Forward Lookup Zone?",
  "a": [
    "תרגום IP לשם",
    "תרגום שם ל-IP",
    "גיבוי רשומות",
    "ניהול משתמשים"
  ],
  "c": 1,
  "exp": "Forward Lookup Zone משמש לתרגום שם דומיין לכתובת IP."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה זה Reverse Lookup Zone?",
  "a": [
    "תרגום IP לשם",
    "תרגום שם ל-IP",
    "ניהול Scope",
    "ניהול שרתים"
  ],
  "c": 0,
  "exp": "Reverse Lookup Zone משמש לתרגום כתובת IP לשם דומיין."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מה תפקיד Forwarders?",
  "a": [
    "העברת שאילתות לשרת חיצוני",
    "ניהול משתמשים",
    "שכפול רשומות",
    "הצפנה"
  ],
  "c": 0,
  "exp": "Forwarders מעבירים שאילתות לא מוכרות לשרת DNS חיצוני."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "מתי DNS משתמש ב-TCP?",
  "a": [
    "בגלישה רגילה",
    "בהעברת Zone או תשובות גדולות",
    "ב-DHCP",
    "לעולם לא"
  ],
  "c": 1,
  "exp": "DNS משתמש ב-TCP בהעברת אזורים או כאשר התשובה גדולה מדי ל-UDP."
},
{
  "cat": "DNS",
  "diff": "medium",
  "q": "למה DNS תקול נראה כמו בעיית רשת?",
  "a": [
    "שמות לא נפתרים למרות שיש תקשורת",
    "MTU שגוי",
    "Gateway שגוי",
    "כבל מנותק"
  ],
  "c": 0,
  "exp": "כאשר DNS לא פועל יש תקשורת אך שמות דומיין לא מתורגמים."
},

{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה ההבדל בין Primary ל-Secondary Zone?",
  "a": [
    "אין הבדל",
    "Primary ניתן לעריכה ו-Secondary לקריאה בלבד",
    "Secondary מהיר יותר",
    "Primary רק ב-AD"
  ],
  "c": 1,
  "exp": "Primary הוא אזור מקור לעריכה בעוד Secondary הוא עותק לקריאה בלבד."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה זה Zone Transfer?",
  "a": [
    "העברת רשומות בין שרתי DNS",
    "ניקוי Cache",
    "בדיקת זמינות",
    "תרגום שמות"
  ],
  "c": 0,
  "exp": "Zone Transfer הוא תהליך שכפול רשומות בין שרתי DNS."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה זה Conditional Forwarder?",
  "a": [
    "הפניית שאילתות לדומיין מסוים לשרת ייעודי",
    "שכפול אזורים",
    "הפניית כל התעבורה החוצה",
    "Alias"
  ],
  "c": 0,
  "exp": "Conditional Forwarder מפנה שאילתות לדומיין מסוים לשרת מוגדר."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "למה TTL קצר מדי בעייתי?",
  "a": [
    "פוגע באבטחה",
    "מונע Zone Transfer",
    "מבטל Cache",
    "יוצר עומס שאילתות גבוה"
  ],
  "c": 3,
  "exp": "TTL קצר מדי גורם לריבוי שאילתות ולעומס על השרת."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה תפקיד רשומת PTR?",
  "a": [
    "מיפוי שם ל-IP",
    "Alias",
    "מיפוי IP לשם דומיין",
    "שרת דואר"
  ],
  "c": 2,
  "exp": "PTR משמש לתרגום כתובת IP לשם דומיין ב-Reverse Lookup."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה זה DNS Spoofing?",
  "a": [
    "עומס על שרת",
    "תקלה ב-Cache",
    "נפילת DNS",
    "החזרת תשובות שגויות במזיד"
  ],
  "c": 3,
  "exp": "DNS Spoofing הוא התקפה שבה מוחזרות תשובות שגויות במכוון."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה זה DNS Cache Poisoning?",
  "a": [
    "גיבוי רשומות",
    "הזרקת רשומות שגויות ל-Cache",
    "ניקוי Cache",
    "שכפול Zones"
  ],
  "c": 1,
  "exp": "Cache Poisoning הוא הזרקת מידע שגוי ל-DNS Cache כדי להטעות משתמשים."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "למה חשוב לאבטח Zone Transfer?",
  "a": [
    "למנוע DHCP",
    "לאפשר DNS Relay",
    "לשפר מהירות",
    "למנוע דליפת מידע על הדומיין"
  ],
  "c": 3,
  "exp": "Zone Transfer פתוח עלול לחשוף מידע רגיש על מבנה הדומיין."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מה ההבדל בין Iterative ל-Recursive Query?",
  "a": [
    "אין הבדל",
    "Recursive פנימי בלבד",
    "Iterative מהיר יותר",
    "Recursive מחזיר תשובה מלאה ו-Iterative מפנה הלאה"
  ],
  "c": 3,
  "exp": "Recursive מחזיר תשובה מלאה ללקוח בעוד Iterative מפנה אותו לשרת הבא."
},
{
  "cat": "DNS",
  "diff": "hard",
  "q": "מתי בדיקת IP עובדת אך שם לא?",
  "a": [
    "אין Gateway",
    "אין כבל",
    "יש בעיית DNS אך תקשורת תקינה",
    "אין Subnet Mask"
  ],
  "c": 2,
  "exp": "כאשר DNS לא פועל ניתן להגיע ליעד לפי IP אך לא לפי שם."
},

  //Active Directory

  {
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Active Directory?",
  "a": [
    "פרוטוקול רשת לניתוב",
    "שרת לאחסון קבצים בלבד",
    "שירות להצפנת תעבורה",
    "שירות לניהול משתמשים, מחשבים והרשאות"
  ],
  "c": 3,
  "exp": "Active Directory הוא שירות מרכזי לניהול זהויות והרשאות בארגון."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Domain ב-AD?",
  "a": [
    "סוג של VLAN",
    "קבוצת שרתים פיזיים",
    "מסגרת ניהול מרכזית למשתמשים ומחשבים",
    "שם מחשב מקומי"
  ],
  "c": 2,
  "exp": "Domain הוא גבול ניהולי שמכיל משתמשים, מחשבים ומדיניות."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Domain Controller?",
  "a": [
    "שרת שמחלק כתובות IP",
    "שרת שמאמת משתמשים ומנהל את ה-AD",
    "שרת קבצים בלבד",
    "שרת DNS חיצוני"
  ],
  "c": 1,
  "exp": "Domain Controller אחראי על אימות משתמשים וניהול מסד הנתונים של הדומיין."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה OU?",
  "a": [
    "שרת אימות",
    "יחידת ארגון לסידור אובייקטים",
    "מדיניות אבטחה",
    "קבוצת משתמשים"
  ],
  "c": 1,
  "exp": "OU משמשת לארגון משתמשים ומחשבים ולהחלת מדיניות."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה User Object?",
  "a": [
    "אובייקט שמייצג משתמש בדומיין",
    "אובייקט שמייצג מחשב בלבד",
    "יחידת אחסון",
    "קבוצת שרתים"
  ],
  "c": 0,
  "exp": "User Object מייצג חשבון משתמש עם פרטי התחברות והרשאות."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Computer Object?",
  "a": [
    "אובייקט שמייצג מחשב בדומיין",
    "שרת פיזי בלבד",
    "משתמש עם הרשאות מוגברות",
    "קבוצת אבטחה"
  ],
  "c": 0,
  "exp": "Computer Object מייצג תחנה או שרת שמחוברים לדומיין."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Authentication?",
  "a": [
    "שכפול נתונים",
    "מתן הרשאות",
    "אימות זהות המשתמש",
    "הצפנת תעבורה"
  ],
  "c": 2,
  "exp": "Authentication הוא תהליך אימות זהות המשתמש בעת ההתחברות."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Authorization?",
  "a": [
    "קביעת הרשאות לאחר אימות",
    "בדיקת סיסמה",
    "שכפול נתונים",
    "הצפנה"
  ],
  "c": 0,
  "exp": "Authorization קובע לאילו משאבים המשתמש רשאי לגשת."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Group Policy?",
  "a": [
    "שירות DNS",
    "פרוטוקול רשת",
    "שרת קבצים",
    "מדיניות מרכזית להגדרת מחשבים ומשתמשים"
  ],
  "c": 3,
  "exp": "Group Policy מאפשר להחיל הגדרות מרכזיות על משתמשים ומחשבים."
},
{
  "cat": "Active Directory",
  "diff": "easy",
  "q": "מה זה Logon?",
  "a": [
    "כיבוי שרת",
    "תהליך התחברות משתמש למערכת",
    "עדכון DNS",
    "גיבוי קבצים"
  ],
  "c": 1,
  "exp": "Logon הוא תהליך ההתחברות של משתמש לדומיין."
},

{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה ההבדל בין Authentication ל-Authorization?",
  "a": [
    "אין הבדל",
    "Authorization מזהה משתמש",
    "Authentication מזהה משתמש ו-Authorization קובע הרשאות",
    "Authentication קובע הרשאות"
  ],
  "c": 2,
  "exp": "Authentication בודק זהות ו-Authorization קובע הרשאות גישה."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה זה Security Group?",
  "a": [
    "קבוצה לצורכי מייל בלבד",
    "OU מיוחד",
    "שרת ניהול",
    "קבוצה שמשמשת להקצאת הרשאות"
  ],
  "c": 3,
  "exp": "Security Group משמשת להקצאת הרשאות למשאבים."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה זה Distribution Group?",
  "a": [
    "קבוצה להקצאת הרשאות",
    "Policy",
    "קבוצה לצורכי דיוור בלבד",
    "שרת אימות"
  ],
  "c": 2,
  "exp": "Distribution Group משמשת להפצת דואר בלבד."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה סדר עיבוד Group Policy?",
  "a": [
    "Local, Site, Domain, OU",
    "OU, Domain, Site, Local",
    "Domain, OU, Site, Local",
    "Site, Local, Domain, OU"
  ],
  "c": 0,
  "exp": "סדר העיבוד הוא LSDOU מהלוקאלי ועד ל-OU."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה זה Inheritance ב-GPO?",
  "a": [
    "מחיקת Policy",
    "הרצת סקריפט",
    "שכפול GPO",
    "העברת מדיניות מיחידה עליונה לתחתונה"
  ],
  "c": 3,
  "exp": "Inheritance מאפשר למדיניות לעבור מיחידה עליונה ליחידה תחתונה."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה עושה gpupdate /force?",
  "a": [
    "מעדכן DNS Cache",
    "מחדש כתובת IP",
    "מכריח רענון של מדיניות קבוצתית",
    "מפעיל מחדש שרת"
  ],
  "c": 2,
  "exp": "הפקודה מרעננת את מדיניות ה-Group Policy באופן מיידי."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה זה Roaming Profile?",
  "a": [
    "פרופיל משתמש שנודד בין מחשבים",
    "חשבון אדמין",
    "מדיניות אבטחה",
    "שרת קבצים"
  ],
  "c": 0,
  "exp": "Roaming Profile מאפשר למשתמש לקבל את ההגדרות שלו בכל מחשב בדומיין."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "איפה מקשרים GPO?",
  "a": [
    "ל-Domain, OU או Site",
    "רק לשרת DC",
    "רק לקבוצות",
    "רק למשתמש בודד"
  ],
  "c": 0,
  "exp": "ניתן לקשר GPO ל-Domain, OU או Site."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה זה Login Script?",
  "a": [
    "Policy אבטחה",
    "Task Scheduler",
    "שירות רשת",
    "סקריפט שרץ בעת התחברות משתמש"
  ],
  "c": 3,
  "exp": "Login Script רץ אוטומטית כאשר המשתמש מתחבר."
},
{
  "cat": "Active Directory",
  "diff": "medium",
  "q": "מה זה Fine-Grained Password Policy?",
  "a": [
    "מדיניות סיסמה ברמת OU",
    "מדיניות סיסמה מותאמת לקבוצה מסוימת",
    "מדיניות DNS",
    "מדיניות DHCP"
  ],
  "c": 1,
  "exp": "Fine-Grained מאפשרת להגדיר מדיניות סיסמה שונה לקבוצות שונות."
},

{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה FSMO Role?",
  "a": [
    "תפקיד ייחודי בדומיין או ב-Forest",
    "שרת גיבוי",
    "קבוצת משתמשים",
    "Policy מתקדם"
  ],
  "c": 0,
  "exp": "FSMO הם תפקידים מיוחדים שמבוצעים על ידי DC אחד בלבד."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Replication ב-AD?",
  "a": [
    "הצפנת נתונים",
    "גיבוי קבצים",
    "ניהול משתמשים",
    "סנכרון נתונים בין Domain Controllers"
  ],
  "c": 3,
  "exp": "Replication מסנכרן שינויים בין כל ה-DCs."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Global Catalog?",
  "a": [
    "OU ראשי",
    "מאגר חלקי לחיפוש אובייקטים ב-Forest",
    "שרת DNS חיצוני",
    "Policy מיוחד"
  ],
  "c": 1,
  "exp": "Global Catalog מאפשר חיפוש מהיר בכל ה-Forest."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Kerberos?",
  "a": [
    "שירות DNS",
    "פרוטוקול ניתוב",
    "Group Policy",
    "פרוטוקול אימות ברירת מחדל ב-AD"
  ],
  "c": 3,
  "exp": "Kerberos הוא פרוטוקול האימות המרכזי בדומיין."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה SYSVOL?",
  "a": [
    "תיקיה שמכילה קבצי GPO וסקריפטים",
    "תיקיית משתמשים",
    "תיקיית DNS",
    "תיקיית DHCP"
  ],
  "c": 0,
  "exp": "SYSVOL מכיל את קבצי המדיניות שמופצים לכל ה-DCs."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Trust בין דומיינים?",
  "a": [
    "שכפול GPO",
    "קשר שמאפשר גישה בין דומיינים",
    "אימות DNS",
    "גיבוי משתמשים"
  ],
  "c": 1,
  "exp": "Trust מאפשר למשתמשים בדומיין אחד לגשת למשאבים בדומיין אחר."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Forest?",
  "a": [
    "OU גדול",
    "קבוצת שרתים",
    "אוסף של Trees ודומיינים",
    "Policy מרכזי"
  ],
  "c": 2,
  "exp": "Forest הוא המבנה העליון שמכיל מספר Trees ודומיינים."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Loopback Processing?",
  "a": [
    "ביטול Policy",
    "הרצת Script",
    "יישום GPO לפי מיקום המחשב",
    "שכפול משתמשים"
  ],
  "c": 2,
  "exp": "Loopback מאפשר להחיל מדיניות משתמש לפי מיקום המחשב."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מה זה Read-Only Domain Controller?",
  "a": [
    "DC ללא הרשאות",
    "DC לקריאה בלבד ללא כתיבה למסד",
    "שרת DNS",
    "שרת DHCP"
  ],
  "c": 1,
  "exp": "RODC הוא Domain Controller שמחזיק עותק לקריאה בלבד של ה-AD."
},
{
  "cat": "Active Directory",
  "diff": "hard",
  "q": "מתי משתמש לא יקבל GPO?",
  "a": [
    "כאשר DNS תקין",
    "כאשר יש DHCP",
    "כאשר GPO לא מקושר ל-OU הנכון",
    "כאשר יש Gateway"
  ],
  "c": 2,
  "exp": "אם ה-GPO לא מקושר נכון או שהמשתמש לא בטווח ה-OU הוא לא יחול."
},

  //GPO

    {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה זה GPO?",
    "a": [
      "קבוצת אבטחה",
      "פרוטוקול רשת",
      "מדיניות מרכזית להגדרת מחשבים ומשתמשים",
      "שרת DNS"
    ],
    "c": 2,
    "exp": "GPO הוא מנגנון ב-Active Directory שמאפשר לנהל ולהחיל הגדרות בצורה מרכזית על מחשבים ומשתמשים בדומיין."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "איפה מנהלים GPO?",
    "a": [
      "Event Viewer",
      "Group Policy Management",
      "DHCP Console",
      "Task Manager"
    ],
    "c": 1,
    "exp": "ניהול GPO מתבצע דרך Group Policy Management Console שמאפשר יצירה, קישור ועריכה של מדיניות."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "על מה ניתן להחיל GPO?",
    "a": [
      "רק על משתמש יחיד",
      "רק על שרתים",
      "רק על קבוצות",
      "על Domain, OU או Site"
    ],
    "c": 3,
    "exp": "GPO מקושר ל-Domain, OU או Site ומשפיע על כל האובייקטים שבתוכם."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה זה Computer Configuration?",
    "a": [
      "הגדרות שחלות על מחשב",
      "מדיניות DNS",
      "הרשאות קבצים",
      "הגדרות משתמש"
    ],
    "c": 0,
    "exp": "Computer Configuration מכיל מדיניות שחלה על המחשב עצמו ללא קשר למשתמש שמתחבר."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה זה User Configuration?",
    "a": [
      "הגדרות שחלות על משתמש",
      "הגדרות BIOS",
      "מדיניות DHCP",
      "מדיניות רשת"
    ],
    "c": 0,
    "exp": "User Configuration כולל מדיניות שמוחלת בעת התחברות המשתמש למערכת."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה עושה gpupdate /force?",
    "a": [
      "מחדש IP",
      "מכריח רענון מדיניות",
      "מעדכן DNS",
      "מפעיל שרת מחדש"
    ],
    "c": 1,
    "exp": "הפקודה מרעננת ומחילה מחדש את כל מדיניות הקבוצה באופן מיידי."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה זה Link ל-GPO?",
    "a": [
      "קישור GPO ל-OU או Domain",
      "מחיקת GPO",
      "שכפול GPO",
      "הרשאת משתמש"
    ],
    "c": 0,
    "exp": "Link קובע היכן המדיניות תחול; ללא קישור ה-GPO לא יופעל."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה זה Inheritance?",
    "a": [
      "שכפול GPO",
      "מחיקת Policy",
      "ירושת מדיניות מיחידה עליונה",
      "איפוס הגדרות"
    ],
    "c": 2,
    "exp": "Inheritance מאפשר ל-OU לקבל מדיניות שמגיעה מה-Domain או OU שמעליו."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מה זה Enforced?",
    "a": [
      "מדיניות זמנית",
      "מדיניות מקומית",
      "מדיניות שמנצחת אחרות",
      "Policy לא פעיל"
    ],
    "c": 2,
    "exp": "Enforced גורם ל-GPO לגבור גם אם קיימת חסימת ירושה ביחידה תחתונה."
  },
  {
    "cat": "GPO",
    "diff": "easy",
    "q": "מתי GPO מתעדכן אוטומטית?",
    "a": [
      "רק ב-Startup",
      "כל כ-90 דקות בערך",
      "רק ב-Logon",
      "רק ידנית"
    ],
    "c": 1,
    "exp": "ברירת המחדל היא רענון מדיניות כל כ-90 דקות עם תוספת זמן אקראית."
  },

  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה סדר עיבוד GPO?",
    "a": [
      "OU, Domain, Site, Local",
      "Local, Site, Domain, OU",
      "Domain, OU, Site, Local",
      "Site, Local, OU, Domain"
    ],
    "c": 1,
    "exp": "סדר העיבוד הוא Local, Site, Domain, OU והאחרון בסדר גובר במקרה של התנגשות."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה Block Inheritance?",
    "a": [
      "חסימת ירושת מדיניות מלמעלה",
      "כפיית GPO",
      "שכפול Policy",
      "מחיקת GPO"
    ],
    "c": 0,
    "exp": "Block Inheritance מונע מ-OU לקבל מדיניות שמגיעה מיחידות עליונות."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה Security Filtering?",
    "a": [
      "ניהול DHCP",
      "ניהול DNS",
      "הגבלת החלת GPO לפי הרשאות",
      "ניהול Firewall"
    ],
    "c": 2,
    "exp": "Security Filtering מאפשר להחיל GPO רק על משתמשים או קבוצות עם הרשאות מתאימות."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה WMI Filter?",
    "a": [
      "פילטר משתמשים",
      "סינון GPO לפי תנאי מערכת",
      "הרצת Script",
      "Policy אבטחה"
    ],
    "c": 1,
    "exp": "WMI Filter מאפשר להחיל GPO רק אם מתקיימים תנאים מסוימים במחשב."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה GPO Preferences?",
    "a": [
      "הגדרות גמישות שאינן נאכפות",
      "מדיניות אבטחה",
      "מדיניות קשיחה בלבד",
      "ניהול DNS"
    ],
    "c": 0,
    "exp": "Preferences מאפשרות להגדיר ערכים שניתן לשנות על ידי המשתמש לאחר ההחלה."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה Loopback Processing?",
    "a": [
      "איפוס GPO",
      "שכפול משתמשים",
      "יישום מדיניות משתמש לפי מיקום המחשב",
      "מחיקת Policy"
    ],
    "c": 2,
    "exp": "Loopback גורם למדיניות המשתמש להיקבע לפי ה-OU של המחשב ולא של המשתמש."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "איזו הרשאה נדרשת להחלת GPO?",
    "a": [
      "Read + Apply Group Policy",
      "Full Control בלבד",
      "Write בלבד",
      "Execute"
    ],
    "c": 0,
    "exp": "ללא הרשאות Read ו-Apply Group Policy המדיניות לא תחול."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה Link Order?",
    "a": [
      "קובע VLAN",
      "קובע עדיפות בין GPOs",
      "קובע DNS",
      "קובע DHCP"
    ],
    "c": 1,
    "exp": "Link Order מגדיר איזה GPO יגבר כאשר קיימות כמה מדיניות מקושרות."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "מה זה RSoP?",
    "a": [
      "שכפול GPO",
      "תצוגת המדיניות שחלה בפועל",
      "איפוס Policy",
      "גיבוי GPO"
    ],
    "c": 1,
    "exp": "RSoP מציג את התוצאה הסופית של המדיניות שהוחלה על משתמש או מחשב."
  },
  {
    "cat": "GPO",
    "diff": "medium",
    "q": "איזה כלי מציג מדיניות בפועל?",
    "a": [
      "gpresult או rsop.msc",
      "services.msc",
      "eventvwr",
      "dns.msc"
    ],
    "c": 0,
    "exp": "gpresult ו-rsop.msc מאפשרים לבדוק אילו מדיניות חלות בפועל."
  },

  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מה ההבדל בין Merge ל-Replace ב-Loopback?",
    "a": [
      "Merge משלב; Replace מחליף לחלוטין",
      "אין הבדל",
      "Replace תמיד עדיף",
      "Merge מוחק GPO"
    ],
    "c": 0,
    "exp": "ב-Merge המדיניות משולבת עם הקיימת וב-Replace היא מחליפה אותה לגמרי."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מה תפקיד SYSVOL?",
    "a": [
      "אחסון קבצי מדיניות וסקריפטים",
      "אחסון DNS",
      "אחסון DHCP",
      "אחסון משתמשים"
    ],
    "c": 0,
    "exp": "SYSVOL הוא שיתוף קריטי ב-DC שמכיל את קבצי ה-GPO והסקריפטים."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מה קורה כשיש GPO סותר?",
    "a": [
      "האחרון בסדר העיבוד גובר",
      "שניהם מבוטלים",
      "הראשון מנצח תמיד",
      "המערכת מתעלמת"
    ],
    "c": 0,
    "exp": "כאשר יש התנגשות, המדיניות האחרונה לפי סדר העיבוד היא שקובעת."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מה זה Starter GPO?",
    "a": [
      "תבנית בסיס ליצירת GPO חדש",
      "Policy זמני",
      "GPO מקומי",
      "קבוצת אבטחה"
    ],
    "c": 0,
    "exp": "Starter GPO משמש כתבנית בסיסית ליצירת מדיניות חדשה עם הגדרות מוכנות."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "למה GPO לא מוחל למרות שהוא מקושר?",
    "a": [
      "בעיה בהרשאות Apply",
      "DNS תקין מדי",
      "MTU נמוך",
      "Gateway שגוי"
    ],
    "c": 0,
    "exp": "ברוב המקרים מדובר בחוסר הרשאות Apply Group Policy למשתמש או לקבוצה."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מה זה Enforced לעומת Block Inheritance?",
    "a": [
      "Enforced גובר גם על Block Inheritance",
      "אין קשר ביניהם",
      "Block תמיד חזק יותר",
      "שניהם זהים"
    ],
    "c": 0,
    "exp": "Enforced מבטיח שהמדיניות תחול גם אם קיימת חסימת ירושה ביחידה תחתונה."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מתי תשתמש ב-Loopback Replace?",
    "a": [
      "כשרוצים לבטל מדיניות משתמש רגילה ולהחיל רק מדיניות מחשב",
      "לשיפור DNS",
      "להאצת רשת",
      "למחיקת GPO"
    ],
    "c": 0,
    "exp": "Replace מוחק את מדיניות המשתמש הרגילה ומחיל רק את זו שמוגדרת לפי מחשב."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מה משפיע יותר – OU עמוק או Domain?",
    "a": [
      "OU עמוק יותר",
      "Domain תמיד",
      "אין משמעות לסדר",
      "Site תמיד"
    ],
    "c": 0,
    "exp": "מדיניות שמוגדרת ב-OU עמוק יותר בעץ גוברת על מדיניות ברמת Domain."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מתי משתמש לא יקבל GPO למרות שיש Link?",
    "a": [
      "כאשר אין לו הרשאת Apply",
      "כאשר DHCP פעיל",
      "כאשר DNS תקין",
      "כאשר יש Gateway"
    ],
    "c": 0,
    "exp": "אם למשתמש או לקבוצה אין הרשאת Apply Group Policy, המדיניות לא תחול."
  },
  {
    "cat": "GPO",
    "diff": "hard",
    "q": "מהו Random Offset ברענון GPO?",
    "a": [
      "השהייה אקראית שנוספת לזמן הרענון",
      "איפוס מדיניות",
      "בדיקת DNS",
      "בדיקת DHCP"
    ],
    "c": 0,
    "exp": "Random Offset מונע עומס על ה-DC בכך שכל המחשבים לא מרעננים מדיניות באותו רגע."
  },
  
  //File Server

    {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה זה File Server?",
    "a": [
      "שרת DNS פנימי בסביבת קבצים",
      "שרת שמרכז אחסון קבצים ושיתופים בסביבת קבצים",
      "שרת אימות משתמשים בסביבת קבצים בצורה מורחבת",
      "שרת שמבצע ניתוב בסביבת קבצים"
    ],
    "c": 1,
    "exp": "File Server הוא שרת שמיועד לריכוז קבצים ותיקיות ולשיתוף שלהם ברשת, כדי שמשתמשים יוכלו לעבוד על אותם משאבים בצורה מסודרת ומבוקרת."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה זה Share?",
    "a": [
      "Policy ב-AD בסביבת קבצים",
      "קבוצת משתמשים בסביבת קבצים",
      "כונן פיזי בלבד בסביבת קבצים בצורה מורחבת",
      "תיקיה שמוגדרת לגישה ברשת בסביבת קבצים"
    ],
    "c": 3,
    "exp": "Share הוא פרסום תיקייה ברשת כך שמשתמשים יכולים לגשת אליה דרך נתיב רשת (UNC), בהתאם להרשאות שניתנו."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה זה NTFS Permission?",
    "a": [
      "הרשאות DHCP בסביבת קבצים",
      "הרשאות Firewall בסביבת קבצים בצורה מורחבת",
      "הרשאות רשת בסביבת קבצים",
      "הרשאות על קבצים ותיקיות בסביבת קבצים"
    ],
    "c": 3,
    "exp": "NTFS Permissions הן ההרשאות ברמת מערכת הקבצים של Windows, והן קובעות מי יכול לקרוא/לכתוב/למחוק קבצים ותיקיות בדיסק עצמו."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה זה Share Permission?",
    "a": [
      "הרשאות לקבצים מקומיים בסביבת קבצים",
      "הרשאות גישה לשיתוף ברשת בסביבת קבצים",
      "הרשאות GPO בסביבת קבצים בצורה מורחבת",
      "הרשאות DNS בסביבת קבצים"
    ],
    "c": 1,
    "exp": "Share Permissions הן ההרשאות ברמת השיתוף (הרשת). הן משפיעות על גישה דרך SMB לשיתוף עצמו, בנוסף להרשאות NTFS."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "איפה עדיף לנהל הרשאות?",
    "a": [
      "רק ב-DNS בסביבת קבצים",
      "ב-NTFS ולא ב-Share בסביבת קבצים",
      "רק ב-Share בסביבת קבצים בצורה מורחבת",
      "רק ב-GPO בסביבת קבצים"
    ],
    "c": 1,
    "exp": "Best Practice: להשאיר Share Permissions יחסית פתוחות (למשל Authenticated Users = Change/Read לפי הצורך) ולנהל בפירוט את ההרשאות ב-NTFS, כי שם השליטה מדויקת יותר."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה ההרשאה Read מאפשרת?",
    "a": [
      "כתיבה מלאה בסביבת קבצים בצורה מורחבת",
      "קריאה ללא שינוי בסביבת קבצים",
      "שינוי הרשאות בסביבת קבצים",
      "מחיקת קבצים בסביבת קבצים"
    ],
    "c": 1,
    "exp": "Read מאפשר לראות רשימת קבצים/תיקיות ולפתוח קבצים לקריאה בלבד, בלי יכולת לשנות, למחוק או ליצור תוכן חדש."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה ההרשאה Modify מאפשרת?",
    "a": [
      "גישה מרחוק בסביבת קבצים",
      "שליטה מלאה בסביבת קבצים",
      "קריאה בלבד בסביבת קבצים בצורה מורחבת",
      "שינוי ומחיקה ללא שינוי הרשאות בסביבת קבצים"
    ],
    "c": 3,
    "exp": "Modify מאפשר לקרוא, לכתוב, לשנות ולמחוק קבצים/תיקיות, אבל לא מאפשר לשנות הרשאות (Permissions) או לקחת בעלות (Ownership)."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה ההרשאה Full Control מאפשרת?",
    "a": [
      "שליטה מלאה כולל הרשאות בסביבת קבצים",
      "קריאה בלבד בסביבת קבצים",
      "כתיבה ללא מחיקה בסביבת קבצים",
      "גישה זמנית בסביבת קבצים בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Full Control נותן את כל היכולות: קריאה/כתיבה/מחיקה וגם שינוי הרשאות ולקיחת בעלות. לכן נותנים אותו רק לאדמינים או בעלי אחריות."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "מה זה Home Folder?",
    "a": [
      "תיקיה לשרתים בסביבת קבצים",
      "תיקיית מערכת בסביבת קבצים",
      "תיקיה אישית למשתמש בסביבת קבצים",
      "תיקיה זמנית בסביבת קבצים בצורה מורחבת"
    ],
    "c": 2,
    "exp": "Home Folder היא תיקייה אישית שמוקצית למשתמש (למשל H:), בדרך כלל עם הרשאות שרק המשתמש ואדמינים יוכלו לגשת אליה."
  },
  {
    "cat": "File Server",
    "diff": "easy",
    "q": "איך ממפים כונן רשת?",
    "a": [
      "רק דרך DNS בסביבת קבצים",
      "באמצעות GPO או ידנית בסביבת קבצים",
      "רק דרך DHCP בסביבת קבצים",
      "רק בשרת בסביבת קבצים בצורה מורחבת"
    ],
    "c": 1,
    "exp": "אפשר למפות כונן ידנית (Map Network Drive) או בצורה ארגונית דרך GPO Preferences (Drive Maps), כדי שכל המשתמשים יקבלו אותו אוטומטית."
  },

  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה קובע הרשאה אפקטיבית?",
    "a": [
      "השילוב בין Share ו-NTFS בסביבת קבצים",
      "רק NTFS Permission בסביבת קבצים",
      "Policy מקומית בסביבת קבצים",
      "רק Share Permission בסביבת קבצים בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Effective Permissions נקבעות לפי שילוב של Share + NTFS, ובפועל ההרשאה המחמירה יותר מנצחת (כלומר אם אחד מהם Read והשני Modify – בפועל תהיה Read)."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "למה משתמש רואה כונן אך לא נכנס?",
    "a": [
      "בעיה ב-Gateway בסביבת קבצים",
      "DNS לא תקין בסביבת קבצים",
      "DHCP לא מחלק כתובת בסביבת קבצים בצורה מורחבת",
      "אין לו הרשאות NTFS מתאימות בסביבת קבצים"
    ],
    "c": 3,
    "exp": "כונן יכול להיות ממופה (GPO/Script) ועדיין להיכשל בפתיחה אם למשתמש אין הרשאות NTFS מתאימות על התיקייה או על אחד מהרכיבים בדרך."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה זה Access-Based Enumeration?",
    "a": [
      "שכפול שרתים בסביבת קבצים בצורה מורחבת",
      "גיבוי קבצים בסביבת קבצים",
      "הצפנת קבצים בסביבת קבצים",
      "הצגת תיקיות רק למורשים בסביבת קבצים"
    ],
    "c": 3,
    "exp": "ABE גורם לכך שמשתמשים יראו בשיתוף רק תיקיות/קבצים שיש להם הרשאות אליהם, מה שמקטין בלבול וגם מונע “רמזים” על מבנה תיקיות שאסור להם לדעת שקיים."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה זה DFS Namespace?",
    "a": [
      "מבנה לוגי לאיחוד שיתופים בסביבת קבצים",
      "Policy ב-GPO בסביבת קבצים",
      "פרוטוקול רשת בסביבת קבצים",
      "סוג RAID בסביבת קבצים בצורה מורחבת"
    ],
    "c": 0,
    "exp": "DFS Namespace נותן “כתובת” לוגית אחת לשיתופים (למשל \\\\domain\\shares), כדי שלא תהיה תלות בשם שרת יחיד, וכדי לנהל ניתוב לשיתופים בצורה מסודרת."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה זה DFS Replication?",
    "a": [
      "Firewall בסביבת קבצים",
      "סנכרון תיקיות בין שרתים בסביבת קבצים",
      "גיבוי ידני בסביבת קבצים",
      "הרשאות רשת בסביבת קבצים בצורה מורחבת"
    ],
    "c": 1,
    "exp": "DFS-R מסנכרן תיקיות בין שרתים, כדי שיהיו עותקים במספר מקומות. זה תורם לזמינות ולביצועים, אבל לא מחליף גיבוי אמיתי."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה זה Quota?",
    "a": [
      "הגבלת נפח אחסון למשתמש בסביבת קבצים",
      "ניהול GPO בסביבת קבצים בצורה מורחבת",
      "הצפנת קבצים בסביבת קבצים",
      "ניהול DNS בסביבת קבצים"
    ],
    "c": 0,
    "exp": "Quota היא מגבלת נפח (למשל 10GB למשתמש) כדי למנוע מצב שמשתמש אחד “חונק” את הדיסק של השרת ושובר לכולם את השיתופים."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה זה File Screening?",
    "a": [
      "חסימת סוגי קבצים בסביבת קבצים",
      "שיתוף מדפסות בסביבת קבצים",
      "הצפנת שיתופים בסביבת קבצים",
      "שכפול קבצים בסביבת קבצים בצורה מורחבת"
    ],
    "c": 0,
    "exp": "File Screening (ב-FSRM) מאפשר לחסום סוגי קבצים לפי סיומות/כללים, לדוגמה לחסום mp3/exe כדי למנוע שימוש לא רצוי או סיכון אבטחתי."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה זה Shadow Copies?",
    "a": [
      "שמירת גרסאות קודמות של קבצים בסביבת קבצים",
      "הצפנה אוטומטית בסביבת קבצים",
      "Replication בסביבת קבצים בצורה מורחבת",
      "גיבוי לענן בסביבת קבצים"
    ],
    "c": 0,
    "exp": "Shadow Copies יוצרות נקודות בזמן שמאפשרות לשחזר “Previous Versions” של קבצים/תיקיות, וזה מציל חיים כשמשתמש מוחק או דורס קובץ בטעות."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "איפה מגדירים FSRM?",
    "a": [
      "ב-DC בלבד בסביבת קבצים",
      "ב-GPO בסביבת קבצים בצורה מורחבת",
      "בשרת File Server בסביבת קבצים",
      "ב-DNS Server בסביבת קבצים"
    ],
    "c": 2,
    "exp": "FSRM (File Server Resource Manager) מוגדר על שרת הקבצים עצמו ומאפשר Quotas, File Screening, דוחות אחסון ועוד יכולות ניהול מתקדמות."
  },
  {
    "cat": "File Server",
    "diff": "medium",
    "q": "מה עדיף: הרשאות למשתמש או לקבוצה?",
    "a": [
      "לקבוצה ולא למשתמש בסביבת קבצים",
      "אין הבדל בסביבת קבצים בצורה מורחבת",
      "למשתמש בלבד בסביבת קבצים",
      "לשרת בסביבת קבצים"
    ],
    "c": 0,
    "exp": "Best Practice: לעבוד עם קבוצות (Role-Based Access). זה הופך ניהול הרשאות לקל, עקבי ובטוח יותר מאשר לתת הרשאות פר-משתמש."
  },

  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה ההבדל בין Share ל-NTFS Permission?",
    "a": [
      "Share שולט בגישה מרחוק; NTFS בקבצים עצמם",
      "אין הבדל בסביבת קבצים",
      "Share חזק יותר תמיד בסביבת קבצים",
      "NTFS שולט ברשת בסביבת קבצים בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Share Permissions משפיעות רק כשנכנסים דרך הרשת לשיתוף, בעוד NTFS Permissions חלות תמיד על הקבצים בדיסק. בפועל Effective נקבע לפי שניהם יחד."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "למה לא לתת Full Control למשתמשים?",
    "a": [
      "כי זה מאט את הרשת בסביבת קבצים",
      "כי זה פוגע ב-DNS בסביבת קבצים",
      "כדי למנוע שינוי הרשאות ומחיקות בסביבת קבצים",
      "כי זה שובר DHCP בסביבת קבצים בצורה מורחבת"
    ],
    "c": 2,
    "exp": "Full Control מאפשר שינוי הרשאות ולקיחת בעלות, מה שיכול לגרום לנעילת תיקיות, מחיקות מסוכנות או עקיפת מודל הרשאות ארגוני. נותנים אותו רק לאדמינים."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה קורה אם Share=Read ו-NTFS=Modify?",
    "a": [
      "ההרשאה תהיה Modify בסביבת קבצים בצורה מורחבת",
      "Full Control בסביבת קבצים",
      "ההרשאה האפקטיבית תהיה Read בסביבת קבצים",
      "אין גישה בסביבת קבצים"
    ],
    "c": 2,
    "exp": "הרשאה אפקטיבית היא המחמירה. אם Share מגביל ל-Read, אז גם אם NTFS מאפשר Modify, המשתמש עדיין ייתקע עם Read בלבד דרך השיתוף."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה זה Offline Files?",
    "a": [
      "הצפנת קבצים בסביבת קבצים",
      "שכפול שרתים בסביבת קבצים בצורה מורחבת",
      "שמירת עותק מקומי לקבצים משותפים בסביבת קבצים",
      "Quota בסביבת קבצים"
    ],
    "c": 2,
    "exp": "Offline Files מאפשר לשמור Cache מקומי של קבצים משיתוף, כדי שהמשתמש יוכל לעבוד גם בלי חיבור לרשת, ואז המערכת מסנכרנת כשחוזרים אונליין."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה זה SMB?",
    "a": [
      "פרוטוקול DNS בסביבת קבצים",
      "פרוטוקול ניתוב בסביבת קבצים בצורה מורחבת",
      "פרוטוקול הצפנה בסביבת קבצים",
      "פרוטוקול לשיתוף קבצים ב-Windows בסביבת קבצים"
    ],
    "c": 3,
    "exp": "SMB (Server Message Block) הוא הפרוטוקול העיקרי ב-Windows לשיתופי קבצים/מדפסות. בעיות SMB יכולות לגרום לניתוקים, איטיות או כשל גישה לשיתופים."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "למה Access-Based Enumeration חשוב?",
    "a": [
      "מאיץ העתקת קבצים בסביבת קבצים",
      "משפר DNS בסביבת קבצים",
      "מנהל DHCP בסביבת קבצים בצורה מורחבת",
      "מונע חשיפת תיקיות לא מורשות בסביבת קבצים"
    ],
    "c": 3,
    "exp": "ABE מונע ממשתמש לראות תיקיות שאין לו הרשאה אליהן. זה לא “אבטחה מלאה”, אבל זה מצמצם חשיפה, בלבול ועומס על ה-Helpdesk."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה זה File Server Cluster?",
    "a": [
      "שרת גיבוי בלבד בסביבת קבצים בצורה מורחבת",
      "יתירות וגישה רציפה לקבצים בסביבת קבצים",
      "Policy מתקדם בסביבת קבצים",
      "סוג RAID בסביבת קבצים"
    ],
    "c": 1,
    "exp": "File Server Cluster מספק High Availability: אם שרת/Node נופל, שירות הקבצים עובר ל-Node אחר כדי לשמור על זמינות השיתופים."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה זה DFS Failover?",
    "a": [
      "Quota בסביבת קבצים בצורה מורחבת",
      "הרשאות קבצים בסביבת קבצים",
      "מעבר אוטומטי לשרת חלופי בסביבת קבצים",
      "גיבוי ידני בסביבת קבצים"
    ],
    "c": 2,
    "exp": "DFS יכול להפנות משתמשים אוטומטית לשרת חלופי (Target אחר) כאשר יעד ראשי לא זמין, וכך לשמור על רציפות עבודה בלי לשנות נתיבים אצל המשתמשים."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "למה משתמש רואה תיקיה אך לא קובץ?",
    "a": [
      "DHCP לא פעיל בסביבת קבצים",
      "DNS לא תקין בסביבת קבצים",
      "בעיה ב-SMB בסביבת קבצים בצורה מורחבת",
      "אין הרשאות NTFS על הקובץ בסביבת קבצים"
    ],
    "c": 3,
    "exp": "יכול להיות שלמשתמש יש הרשאה על התיקייה (List/Read) אבל אין לו הרשאות על קובץ ספציפי בתוכה. NTFS יכול להיות שונה לכל קובץ."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה Best Practice בהרשאות שיתופים?",
    "a": [
      "הרשאות Share סגורות בסביבת קבצים בצורה מורחבת",
      "הרשאות Share פתוחות ו-NTFS מדויקות",
      "Full Control לכולם בסביבת קבצים",
      "ניהול לפי משתמש בסביבת קבצים"
    ],
    "c": 1,
    "exp": "הגישה הנפוצה: Share Permissions יחסית פתוחות (כדי לא להיתקע עם מגבלות כפולות), ואת השליטה המדויקת עושים ב-NTFS לפי קבוצות ותפקידים."
  },
  {
    "cat": "File Server",
    "diff": "hard",
    "q": "מה בדיקה מהירה שתעזור להבין למה משתמש לא נכנס לשיתוף (למרות שהוא ממופה)?",
    "a": [
      "לבדוק רק שהשרת נדלק",
      "לבדוק gpupdate /force במחשב של השרת",
      "לבדוק Effective Access/Permissions על התיקייה עבור המשתמש",
      "לבדוק רק את ה-Subnet Mask של המשתמש"
    ],
    "c": 2,
    "exp": "Effective Access (או בדיקת הרשאות אפקטיביות) מאפשר לראות בפועל האם המשתמש מקבל או נחסם בהרשאות NTFS/Share, וזה חוסך זמן מול ניחושים."
  },

  //RAID

    {
    "cat": "RAID",
    "diff": "easy",
    "q": "מה זה RAID?",
    "a": [
      "שילוב דיסקים לשיפור שרידות או ביצועים",
      "פרוטוקול רשת במערך אחסון",
      "מערכת הפעלה במערך אחסון",
      "שרת לגיבוי ענן במערך אחסון בצורה מורחבת"
    ],
    "c": 0,
    "exp": "RAID הוא שיטה לשילוב כמה דיסקים למערך אחד, כדי לקבל או ביצועים טובים יותר, או שרידות טובה יותר, או שילוב של שניהם – בהתאם לרמת ה-RAID."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "מה המטרה העיקרית של RAID?",
    "a": [
      "קיצור זמני אתחול במערך אחסון",
      "שרידות ו/או ביצועים במערך אחסון",
      "הצפנת נתונים במערך אחסון",
      "ניהול משתמשים במערך אחסון בצורה מורחבת"
    ],
    "c": 1,
    "exp": "המטרה של RAID היא לשפר שרידות (להמשיך לעבוד גם אם דיסק נופל) ו/או לשפר ביצועים (חלוקת עבודה בין דיסקים), לפי סוג המערך."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "RAID נחשב גיבוי?",
    "a": [
      "כן, תמיד במערך אחסון",
      "רק ב-RAID 5 במערך אחסון",
      "רק ב-RAID 1 במערך אחסון בצורה מורחבת",
      "לא, הוא לא מחליף גיבוי במערך אחסון"
    ],
    "c": 3,
    "exp": "RAID לא מחליף גיבוי: הוא מגן בעיקר מכשל דיסק. הוא לא מציל ממחיקה בטעות, כופר/וירוסים, או תקלה לוגית/אנושית."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "כמה דיסקים מינימום צריך ל-RAID 1?",
    "a": [
      "דיסק אחד במערך אחסון",
      "שני דיסקים במערך אחסון",
      "שלושה דיסקים במערך אחסון בצורה מורחבת",
      "ארבעה דיסקים במערך אחסון"
    ],
    "c": 1,
    "exp": "RAID 1 הוא Mirror, כלומר אותו מידע נכתב לשני דיסקים במקביל. לכן חייבים מינימום 2 דיסקים כדי שתהיה יתירות."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "מה קורה ב-RAID 0 אם דיסק נופל?",
    "a": [
      "רק חלק מהמידע במערך אחסון",
      "כל המידע אובד במערך אחסון",
      "המערכת ממשיכה רגיל במערך אחסון בצורה מורחבת",
      "רק הביצועים נפגעים במערך אחסון"
    ],
    "c": 1,
    "exp": "ב-RAID 0 אין יתירות בכלל. הנתונים מפוצלים בין דיסקים, ולכן נפילה של דיסק אחד גורמת לאובדן כל המידע במערך."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "מה היתרון של RAID 1?",
    "a": [
      "יתירות מלאה במערך אחסון",
      "ביצועים מקסימליים במערך אחסון",
      "נפח גדול במערך אחסון",
      "חיסכון בדיסקים במערך אחסון בצורה מורחבת"
    ],
    "c": 0,
    "exp": "RAID 1 מספק יתירות גבוהה: אם דיסק אחד נופל, השני עדיין מכיל את כל המידע. החיסרון הוא שנפח האחסון האפקטיבי קטן (כמעט חצי)."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "מה זה Parity?",
    "a": [
      "מידע לחישוב ושחזור נתונים במערך אחסון",
      "גיבוי מלא במערך אחסון",
      "קובץ מערכת במערך אחסון בצורה מורחבת",
      "הצפנה במערך אחסון"
    ],
    "c": 0,
    "exp": "Parity הוא מידע מתמטי שנשמר במערך כדי לאפשר שחזור נתונים אם דיסק נופל. זה לא עותק מלא, אלא מידע שחזור."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "איזה RAID משתמש ב-Parity?",
    "a": [
      "RAID 0 במערך אחסון",
      "RAID 10 במערך אחסון",
      "RAID 1 במערך אחסון בצורה מורחבת",
      "RAID 5 במערך אחסון"
    ],
    "c": 3,
    "exp": "RAID 5 משתמש ב-Parity כדי לאפשר שרידות בנפילת דיסק אחד. הנתונים וה-Parity מפוזרים בין הדיסקים."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "איזה RAID נותן ביצועים הכי גבוהים?",
    "a": [
      "RAID 6 במערך אחסון בצורה מורחבת",
      "RAID 0 במערך אחסון",
      "RAID 1 במערך אחסון",
      "RAID 5 במערך אחסון"
    ],
    "c": 1,
    "exp": "RAID 0 לרוב נותן ביצועים הכי גבוהים כי הוא מפצל נתונים בין דיסקים (Striping) בלי תוספת חישובי Parity או כתיבה כפולה."
  },
  {
    "cat": "RAID",
    "diff": "easy",
    "q": "מה החיסרון המרכזי של RAID 0?",
    "a": [
      "יקר במערך אחסון",
      "אין שרידות במערך אחסון",
      "איטי במערך אחסון בצורה מורחבת",
      "נפח נמוך במערך אחסון"
    ],
    "c": 1,
    "exp": "החיסרון הוא אפס שרידות: מספיק שדיסק אחד ייפול כדי שכל המערך יקרוס. לכן RAID 0 מתאים רק למקומות שלא חשובים מבחינת נתונים."
  },

  {
    "cat": "RAID",
    "diff": "medium",
    "q": "כמה דיסקים מינימום צריך ל-RAID 5?",
    "a": [
      "שני דיסקים במערך אחסון בצורה מורחבת",
      "דיסק אחד במערך אחסון",
      "ארבעה דיסקים במערך אחסון",
      "שלושה דיסקים במערך אחסון"
    ],
    "c": 3,
    "exp": "RAID 5 דורש מינימום 3 דיסקים, כי צריך גם פיזור נתונים וגם Parity. עם פחות מ-3 אין אפשרות ליישם Parity בצורה תקינה."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "כמה דיסקים יכולים ליפול ב-RAID 5?",
    "a": [
      "אף דיסק במערך אחסון",
      "שלושה דיסקים במערך אחסון בצורה מורחבת",
      "דיסק אחד במערך אחסון",
      "שני דיסקים במערך אחסון"
    ],
    "c": 2,
    "exp": "RAID 5 הוא Single Parity, ולכן יכול לסבול נפילה של דיסק אחד בלבד. אם שני דיסקים נופלים – אין מספיק מידע לשחזור."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "כמה דיסקים יכולים ליפול ב-RAID 6?",
    "a": [
      "דיסק אחד במערך אחסון",
      "שני דיסקים במערך אחסון",
      "שלושה דיסקים במערך אחסון",
      "אף דיסק במערך אחסון בצורה מורחבת"
    ],
    "c": 1,
    "exp": "RAID 6 הוא Double Parity ולכן מסוגל לשרוד נפילה של שני דיסקים. זה יתרון משמעותי במיוחד בדיסקים גדולים וזמני Rebuild ארוכים."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "מה היתרון של RAID 10?",
    "a": [
      "נפח מקסימלי במערך אחסון",
      "עלות נמוכה במערך אחסון בצורה מורחבת",
      "ביצועים טובים ושרידות במערך אחסון",
      "Parity כפול במערך אחסון"
    ],
    "c": 2,
    "exp": "RAID 10 משלב Mirror (RAID 1) ו-Striping (RAID 0), ולכן נותן גם ביצועים טובים וגם שרידות טובה – אבל דורש יותר דיסקים."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "מה החיסרון של RAID 6?",
    "a": [
      "אין שרידות במערך אחסון",
      "אין Parity במערך אחסון",
      "כתיבה איטית יותר במערך אחסון",
      "דורש שני דיסקים בלבד במערך אחסון בצורה מורחבת"
    ],
    "c": 2,
    "exp": "ב-RAID 6 יש Parity כפול, ולכן בכתיבה יש יותר חישובים ויותר פעולות דיסק. זה יכול להאט ביצועי כתיבה לעומת RAID 10 או RAID 0."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "מה ההבדל בין Hardware RAID ל-Software RAID?",
    "a": [
      "בקר ייעודי לעומת ניהול תוכנתי במערך אחסון",
      "Hardware תמיד איטי יותר במערך אחסון בצורה מורחבת",
      "Software תמיד יקר יותר במערך אחסון",
      "אין הבדל במערך אחסון"
    ],
    "c": 0,
    "exp": "Hardware RAID משתמש בבקר ייעודי שמוריד עומס מהמערכת, בעוד Software RAID מנוהל ע\"י מערכת ההפעלה וצורך יותר משאבי CPU/RAM ותלוי ביישום תוכנתי."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "למה Rebuild ב-RAID מסוכן?",
    "a": [
      "כי עוצר את השרת במערך אחסון בצורה מורחבת",
      "עומס גבוה בזמן שחזור במערך אחסון",
      "כי מוחק נתונים במערך אחסון",
      "כי מבטל Parity במערך אחסון"
    ],
    "c": 1,
    "exp": "בזמן Rebuild יש עומס גבוה על הדיסקים והבקר, והמערך נמצא במצב פגיע. אם דיסק נוסף נופל או יש שגיאות קריאה – אפשר לאבד את כל המידע."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "מתי עדיף RAID 6 על RAID 5?",
    "a": [
      "כשיש מעט דיסקים במערך אחסון",
      "כשהביצועים קריטיים במערך אחסון בצורה מורחבת",
      "כשהנפח קטן במערך אחסון",
      "כשיש דיסקים גדולים במערך אחסון"
    ],
    "c": 3,
    "exp": "כשדיסקים גדולים, זמן Rebuild ארוך מאוד ולכן הסיכון לנפילה נוספת גדל. RAID 6 נותן שכבת הגנה נוספת (שני דיסקים יכולים ליפול)."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "מה קורה בזמן Rebuild?",
    "a": [
      "הנתונים נמחקים במערך אחסון",
      "המערכת עובדת לאט יותר במערך אחסון",
      "אין גישה לקבצים במערך אחסון",
      "השרת נכבה במערך אחסון בצורה מורחבת"
    ],
    "c": 1,
    "exp": "בזמן Rebuild המערכת בדרך כלל ממשיכה לעבוד, אבל עם ביצועים נמוכים יותר, כי הדיסקים עובדים קשה על שחזור נתונים במקביל לפעילות רגילה."
  },
  {
    "cat": "RAID",
    "diff": "medium",
    "q": "איזה RAID מתאים לשרת קבצים?",
    "a": [
      "בלי RAID במערך אחסון",
      "RAID 6 או RAID 10 במערך אחסון",
      "RAID 0 בלבד במערך אחסון",
      "RAID 1 בלבד במערך אחסון בצורה מורחבת"
    ],
    "c": 1,
    "exp": "לשרת קבצים לרוב רוצים שרידות גבוהה. RAID 10 נותן ביצועים טובים, RAID 6 נותן שרידות חזקה יותר במחיר כתיבה איטית יותר – תלוי בצורך."
  },

  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מה קורה אם נופל דיסק שני ב-RAID 5 בזמן Rebuild?",
    "a": [
      "אובדן מלא של המידע במערך אחסון",
      "רק האטה במערך אחסון",
      "שחזור אוטומטי במערך אחסון",
      "אין השפעה במערך אחסון בצורה מורחבת"
    ],
    "c": 0,
    "exp": "RAID 5 מסוגל להתמודד עם נפילה של דיסק אחד בלבד. נפילה של דיסק שני בזמן Rebuild שוברת את היכולת לשחזר ולכן בדרך כלל גורמת לאובדן מלא של המערך."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "למה RAID לא מחליף גיבוי?",
    "a": [
      "כי הוא דורש שרת במערך אחסון",
      "כי הוא לא מגן ממחיקה או וירוסים במערך אחסון",
      "כי הוא יקר במערך אחסון בצורה מורחבת",
      "כי הוא איטי במערך אחסון"
    ],
    "c": 1,
    "exp": "RAID מגן מכשל דיסק, אבל לא מגן מאירועי תוכנה/אדם: מחיקה, הצפנה ע\"י כופר, פגיעה בקבצים או טעויות ניהול. גיבוי הוא שכבת הגנה אחרת."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מה ההבדל בין RAID 0+1 ל-RAID 10?",
    "a": [
      "אין הבדל מעשי במערך אחסון בצורה מורחבת",
      "RAID 10 עמיד יותר לנפילות במערך אחסון",
      "10 פחות שריד במערך אחסון",
      "0+1 מהיר יותר במערך אחסון"
    ],
    "c": 1,
    "exp": "RAID 10 בנוי כ-Mirror של Stripes (או להפך), והוא לרוב עמיד יותר כי הוא יכול לשרוד נפילות מסוימות בלי להפיל חצי מערך שלם כמו 0+1."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "איזה RAID מאפשר ליפול דיסק אחד מכל Mirror?",
    "a": [
      "RAID 0 במערך אחסון",
      "RAID 10 במערך אחסון",
      "RAID 6 במערך אחסון בצורה מורחבת",
      "RAID 5 במערך אחסון"
    ],
    "c": 1,
    "exp": "ב-RAID 10 יש זוגות Mirror. אפשר שייפול דיסק אחד מכל זוג, ועדיין המערך יחזיק – כל עוד לא נופלים שני דיסקים מאותו זוג."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מה זה Hot Spare?",
    "a": [
      "דיסק מוכן להחלפה אוטומטית במערך אחסון",
      "דיסק וירטואלי במערך אחסון",
      "דיסק לגיבוי ידני במערך אחסון",
      "דיסק איטי במערך אחסון בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Hot Spare הוא דיסק שמחובר למערך וממתין. ברגע שדיסק נופל, המערכת יכולה להתחיל Rebuild אוטומטי אל ה-Hot Spare בלי לחכות לטכנאי."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "למה דיסקים גדולים בעייתיים ב-RAID 5?",
    "a": [
      "אין תמיכה במערך אחסון בצורה מורחבת",
      "Parity קטן במערך אחסון",
      "זמן Rebuild ארוך וסיכון גבוה במערך אחסון",
      "ביצועים טובים מדי במערך אחסון"
    ],
    "c": 2,
    "exp": "ככל שהדיסק גדול יותר, Rebuild לוקח יותר זמן. בזמן הזה המערך פגיע, והסיכוי לשגיאות קריאה או נפילה נוספת גדל – מה שעלול להפיל את כל המערך ב-RAID 5."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מה זה Write Penalty ב-RAID 5/6?",
    "a": [
      "מחיקת נתונים במערך אחסון בצורה מורחבת",
      "קריאה איטית במערך אחסון",
      "פעולות כתיבה נוספות בגלל Parity במערך אחסון",
      "הצפנה במערך אחסון"
    ],
    "c": 2,
    "exp": "Write Penalty אומר שכתיבה דורשת יותר פעולות: קריאה של בלוקים, חישוב Parity וכתיבה מחדש. לכן ביצועי כתיבה ב-RAID 5/6 לרוב נמוכים יותר."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מה זה Stripe Size?",
    "a": [
      "סוג RAID במערך אחסון",
      "גודל דיסק פיזי במערך אחסון בצורה מורחבת",
      "גודל בלוק הנתונים בדיסקים במערך אחסון",
      "כמות Parity במערך אחסון"
    ],
    "c": 2,
    "exp": "Stripe Size הוא גודל החלקים שבהם הנתונים מפוצלים בין דיסקים. בחירה נכונה משפיעה על ביצועים לפי סוג העבודה (קבצים קטנים מול קבצים גדולים)."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מה RAID מומלץ ל-DB עם ביצועים ושרידות?",
    "a": [
      "RAID 10 במערך אחסון",
      "RAID 0 במערך אחסון",
      "RAID 5 במערך אחסון בצורה מורחבת",
      "RAID 1 במערך אחסון"
    ],
    "c": 0,
    "exp": "מסדי נתונים עושים הרבה כתיבות. RAID 10 לרוב עדיף כי הוא נותן כתיבה מהירה בלי Write Penalty של Parity, ועדיין מספק שרידות טובה."
  },
  {
    "cat": "RAID",
    "diff": "hard",
    "q": "מתי תבחר Software RAID?",
    "a": [
      "רק בשרתים גדולים במערך אחסון",
      "כשאין בקר ייעודי במערך אחסון",
      "רק ב-RAID 10 במערך אחסון",
      "אף פעם במערך אחסון בצורה מורחבת"
    ],
    "c": 1,
    "exp": "בוחרים Software RAID כשאין בקר RAID ייעודי או כשמעדיפים פתרון פשוט וזול. צריך לזכור שהוא תלוי במערכת ההפעלה ויכול לצרוך יותר משאבים."
  },

  //WDS

  {
  "cat": "WDS",
  "diff": "easy",
  "q": "מה זה WDS?",
  "a": [
    "שירות לניהול משתמשים",
    "שירות לפריסת מערכות הפעלה דרך הרשת",
    "שרת DNS מתקדם",
    "פרוטוקול ניתוב"
  ],
  "c": 1,
  "exp": "WDS הוא שירות של Microsoft שמאפשר לפרוס ולהתקין מערכות הפעלה דרך הרשת בצורה מרכזית וללא צורך במדיה פיזית."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "איזה פרוטוקול משמש את WDS לאתחול?",
  "a": [
    "PXE",
    "HTTP",
    "RDP",
    "SMB"
  ],
  "c": 0,
  "exp": "PXE מאפשר למחשב לבצע אתחול דרך הרשת ולקבל קובץ Boot משרת WDS במקום מדיסק מקומי."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "מה נדרש בתחנה כדי לעבוד עם WDS?",
  "a": [
    "דיסק SSD",
    "מערכת הפעלה קיימת",
    "כרטיס רשת שתומך PXE",
    "חשבון Domain"
  ],
  "c": 2,
  "exp": "כרטיס רשת שתומך PXE הוא תנאי בסיסי כדי לאפשר אתחול רשת וחיבור ראשוני לשרת WDS."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "איזה שרת חייב לעבוד יחד עם WDS?",
  "a": [
    "DNS",
    "File Server",
    "DHCP",
    "AD בלבד"
  ],
  "c": 2,
  "exp": "DHCP מספק ללקוח כתובת IP ופרטי רשת. ללא DHCP תהליך PXE לא יכול להתחיל."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "מה זה Boot Image?",
  "a": [
    "קובץ ISO מלא",
    "קובץ אתחול שמתחיל את תהליך ההתקנה",
    "קובץ GPO",
    "קובץ רישוי"
  ],
  "c": 1,
  "exp": "Boot Image מכיל סביבת WinPE שמאפשרת להפעיל את תהליך ההתקנה ולבחור Image להתקנה."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "מה זה Install Image?",
  "a": [
    "קובץ PXE",
    "תמונת מערכת להפצה",
    "קובץ משתמש",
    "קובץ רישוי"
  ],
  "c": 1,
  "exp": "Install Image היא התמונה שמכילה את מערכת ההפעלה עצמה שמותקנת על התחנה."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "באיזה פורמט בדרך כלל משתמש WDS?",
  "a": [
    "ISO",
    "ZIP",
    "WIM",
    "VHD"
  ],
  "c": 2,
  "exp": "WIM הוא פורמט Image של Microsoft שמאפשר אחסון והפצה יעילה של מערכות הפעלה."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "מה זה PXE Boot?",
  "a": [
    "אתחול דרך USB",
    "אתחול דרך הרשת",
    "אתחול מדיסק מקומי",
    "אתחול מ-ISO"
  ],
  "c": 1,
  "exp": "PXE Boot מאפשר למחשב לעלות מהרשת ולקבל קובץ אתחול משרת WDS במקום מהדיסק."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "מה תפקיד DHCP בתהליך WDS?",
  "a": [
    "הקצאת כתובת IP ללקוח",
    "ניהול משתמשים",
    "שכפול Image",
    "ניהול GPO"
  ],
  "c": 0,
  "exp": "DHCP נותן ללקוח כתובת IP ופרטי רשת שמאפשרים לו לפנות לשרת WDS."
},
{
  "cat": "WDS",
  "diff": "easy",
  "q": "איפה מנוהל WDS?",
  "a": [
    "WDS Console",
    "DNS Manager",
    "Group Policy",
    "Server Manager בלבד"
  ],
  "c": 0,
  "exp": "WDS מנוהל דרך קונסולה ייעודית שבה מגדירים PXE, מוסיפים Images ומנהלים תחנות."
},

{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה ההבדל בין Boot Image ל-Install Image?",
  "a": [
    "אין הבדל",
    "Boot מתקין מערכת מלאה",
    "Boot מתחיל את תהליך ההתקנה; Install מתקין מערכת",
    "Install מפעיל PXE"
  ],
  "c": 2,
  "exp": "Boot Image טוען סביבת WinPE להתחלת התהליך, ואילו Install Image מכיל את מערכת ההפעלה עצמה."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה זה Capture Image?",
  "a": [
    "תמונה שנוצרת מתחנה מוכנה",
    "תמונת DNS",
    "תמונת PXE",
    "תמונת רישוי"
  ],
  "c": 0,
  "exp": "Capture Image מאפשרת ללכוד תחנה שהותקנה והוגדרה מראש ולהפוך אותה ל-Image להפצה."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה זה Multicast ב-WDS?",
  "a": [
    "הפצת Image לשרת אחד",
    "הפצת Image למספר תחנות במקביל",
    "העתקה ידנית",
    "ניהול משתמשים"
  ],
  "c": 1,
  "exp": "Multicast מאפשר לשלוח Image אחד למספר מחשבים בו זמנית ובכך לחסוך רוחב פס."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "איך מזהים תחנה ב-WDS?",
  "a": [
    "לפי Domain",
    "לפי IP",
    "לפי MAC Address",
    "לפי שם משתמש"
  ],
  "c": 2,
  "exp": "הזיהוי נעשה לפי כתובת MAC של כרטיס הרשת שהיא ייחודית לכל תחנה."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה זה PXE Response Policy?",
  "a": [
    "קביעת מי רשאי לבצע PXE",
    "ניהול קבצים",
    "הגדרת DNS",
    "ניהול GPO"
  ],
  "c": 0,
  "exp": "מדיניות זו קובעת האם השרת יענה לכל לקוח PXE או רק למחשבים מאושרים."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה יקרה אם DHCP לא זמין?",
  "a": [
    "PXE לא יתחיל",
    "DNS יקרוס",
    "רק Multicast יכשל",
    "ההתקנה תמשיך רגיל"
  ],
  "c": 0,
  "exp": "ללא DHCP הלקוח לא יקבל כתובת IP ולכן לא יוכל להתחיל את תהליך האתחול מהרשת."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה זה Prestage Computer?",
  "a": [
    "רישום תחנה מראש ב-AD",
    "מחיקת תחנה",
    "התקנת דרייברים",
    "הגדרת DHCP"
  ],
  "c": 0,
  "exp": "Prestage מאפשר לרשום מחשב מראש ב-Active Directory כדי לשלוט בהרשאות ובהגדרות ההתקנה."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "למה WDS צריך הרשאות ב-AD?",
  "a": [
    "כדי לנהל DNS",
    "כדי ליצור ולנהל אובייקטי מחשב",
    "כדי לנהל משתמשים",
    "כדי לנהל GPO"
  ],
  "c": 1,
  "exp": "WDS יוצר ומנהל אובייקטי מחשב ב-Active Directory במהלך תהליך ההתקנה."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מתי משתמשים ב-Capture Image?",
  "a": [
    "כשיוצרים Image מותאם אישית",
    "כשמגדירים DNS",
    "כשמתקינים DHCP",
    "כשמריצים GPO"
  ],
  "c": 0,
  "exp": "Capture Image משמש כאשר רוצים להפיץ תצורה מותאמת שהוכנה מראש על תחנה אחת."
},
{
  "cat": "WDS",
  "diff": "medium",
  "q": "מה היתרון של Multicast?",
  "a": [
    "חיסכון בתעבורת רשת",
    "שיפור DNS",
    "מהירות דיסק גבוהה",
    "אבטחה גבוהה יותר"
  ],
  "c": 0,
  "exp": "Multicast מפחית עומס על הרשת כי אותו Image נשלח פעם אחת לכל התחנות יחד."
},

{
  "cat": "WDS",
  "diff": "hard",
  "q": "מה ההבדל בין Standalone ל-Integrated WDS?",
  "a": [
    "Standalone מהיר יותר",
    "Integrated משתמש ב-AD; Standalone לא",
    "אין הבדל",
    "Integrated לא תומך PXE"
  ],
  "c": 1,
  "exp": "במצב Integrated השרת משולב עם Active Directory ומאפשר שליטה מתקדמת, בעוד Standalone פועל ללא AD."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "מה זה Option 66/67 ב-DHCP?",
  "a": [
    "הגדרת Gateway",
    "הגדרת Lease",
    "הפניית לקוח PXE לשרת ולקובץ אתחול",
    "הגדרת DNS"
  ],
  "c": 2,
  "exp": "Options 66 ו-67 מגדירים ללקוח PXE לאיזה שרת לפנות ואיזה קובץ אתחול להוריד."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "מתי צריך Option 66/67?",
  "a": [
    "רק ב-Multicast",
    "תמיד",
    "רק ב-AD",
    "כש-DHCP ו-WDS על שרתים שונים"
  ],
  "c": 3,
  "exp": "כאשר DHCP ו-WDS לא נמצאים על אותו שרת יש צורך להגדיר ידנית את אפשרויות PXE."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "למה PXE-E53 מופיע?",
  "a": [
    "בעיה בדיסק",
    "לקוח לא קיבל Boot Filename",
    "DNS לא זמין",
    "כרטיס רשת תקול"
  ],
  "c": 1,
  "exp": "השגיאה PXE-E53 מצביעה על כך שהלקוח לא קיבל מהשרת קובץ אתחול מתאים."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "מה תפקיד TFTP ב-WDS?",
  "a": [
    "ניהול משתמשים",
    "העברת קבצי אתחול ללקוח",
    "שכפול נתונים",
    "העברת Image מלא"
  ],
  "c": 1,
  "exp": "TFTP משמש להעברת קבצי Boot קטנים ללקוח במהלך תהליך האתחול הראשוני."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "למה WDS צריך NTFS?",
  "a": [
    "כדי לאחסן Images ותיקיות מערכת",
    "כדי לשפר DNS",
    "כדי לנהל DHCP",
    "כדי להצפין נתונים"
  ],
  "c": 0,
  "exp": "WDS דורש מחיצה בפורמט NTFS כדי לאחסן Images והרשאות מערכת בצורה תקינה."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "מה קורה אם Image לא תואם חומרה?",
  "a": [
    "PXE לא יתחיל",
    "WDS יקרוס",
    "התקנה תיכשל או תיתקע",
    "DHCP יפסיק"
  ],
  "c": 2,
  "exp": "חוסר התאמה בדרייברים עלול לגרום להתקנה להיתקע או להיכשל באמצע התהליך."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "מה זה Driver Injection ב-WDS?",
  "a": [
    "הוספת דרייברים ל-Boot או Install Image",
    "שכפול Image",
    "הצפנת Image",
    "ניהול GPO"
  ],
  "c": 0,
  "exp": "Driver Injection מאפשר לשלב דרייברים ישירות בתוך ה-Image כדי להבטיח תאימות לחומרה."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "למה Prestage מגביר אבטחה?",
  "a": [
    "מאיץ התקנה",
    "מבטל PXE",
    "רק תחנות מוכרות יכולות להתקין",
    "משפר Multicast"
  ],
  "c": 2,
  "exp": "כאשר תחנות נרשמות מראש ב-AD, רק מחשבים מאושרים יכולים לבצע התקנה דרך PXE."
},
{
  "cat": "WDS",
  "diff": "hard",
  "q": "מתי עדיף WDS על התקנה ידנית?",
  "a": [
    "בהתקנה של הרבה תחנות",
    "בהתקנה בודדת",
    "בשרת יחיד",
    "במעבדה קטנה"
  ],
  "c": 0,
  "exp": "כאשר יש צורך לפרוס מערכת לעשרות או מאות מחשבים, WDS חוסך זמן ומשאבים בצורה משמעותית."
},

  //Troubleshooting

  {
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "משתמש לא יכול להתחבר לדומיין. מה בדיקה ראשונה?",
  "a": [
    "בדיקת חיבור רשת ו-IP",
    "מחיקת המשתמש מה-AD",
    "שינוי RAID",
    "התקנת Windows מחדש"
  ],
  "c": 0,
  "exp": "לפני כל דבר מתקדם, בודקים שיש תקשורת בסיסית וכתובת IP תקינה. בלי רשת אין אימות מול ה-DC."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "משתמש לא מקבל IP. מה החשוד העיקרי?",
  "a": [
    "DNS שגוי",
    "DHCP לא זמין",
    "GPO לא מוחל",
    "בעיה ב-NTFS"
  ],
  "c": 1,
  "exp": "כאשר אין כתובת IP אוטומטית, בדרך כלל שירות DHCP לא פעיל או לא נגיש מהרשת."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "יש IP אבל אין גלישה לפי שם. מה הבעיה?",
  "a": [
    "SMB לא עובד",
    "DNS לא תקין",
    "RAID נפל",
    "GPO חסום"
  ],
  "c": 1,
  "exp": "אם ניתן לגלוש לפי IP אך לא לפי שם, מדובר לרוב בבעיה ב-DNS או ב-Name Resolution."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "כונן רשת לא מופיע. מה בדיקה ראשונה?",
  "a": [
    "בדיקת RAID",
    "בדיקת DNS",
    "בדיקת GPO והקבוצות",
    "התקנת דרייבר"
  ],
  "c": 2,
  "exp": "כונני רשת בדרך כלל ממופים דרך GPO או קבוצות אבטחה, לכן שם מתחילים לבדוק."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "המשתמש רואה כונן אך לא נכנס. למה?",
  "a": [
    "אין הרשאות NTFS",
    "DHCP תקול",
    "בעיה ב-PXE",
    "DNS לא עובד"
  ],
  "c": 0,
  "exp": "גם אם השיתוף קיים, הרשאות NTFS קובעות בפועל מי יכול לגשת לקבצים."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "Ping לא עובד. מה בדיקה בסיסית?",
  "a": [
    "בדיקת AD",
    "בדיקת GPO",
    "בדיקת חיבור פיזי",
    "בדיקת RAID"
  ],
  "c": 2,
  "exp": "בודקים קודם כבל רשת, סוויץ' וחיבור פיזי. תמיד מתחילים מ-Layer 1."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "יש ping ל-IP אבל לא לשם. מה הבעיה?",
  "a": [
    "Gateway",
    "DNS",
    "RAID",
    "GPO"
  ],
  "c": 1,
  "exp": "כאשר IP עובד אך שם לא, מדובר בבעיה במנגנון תרגום שמות – כלומר DNS."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "תחנה מקבלת 169.254.x.x. מה זה אומר?",
  "a": [
    "DNS לא זמין",
    "אין DHCP",
    "בעיה ב-GPO",
    "Gateway שגוי"
  ],
  "c": 1,
  "exp": "כתובת APIPA מצביעה על כך שהתחנה לא הצליחה לקבל כתובת משרת DHCP."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "RDP לא נפתח אך ping עובד. מה לבדוק?",
  "a": [
    "Firewall או שירות RDP",
    "DNS",
    "DHCP",
    "RAID"
  ],
  "c": 0,
  "exp": "Ping בודק תקשורת בסיסית בלבד. RDP דורש שהפורט פתוח ושירות Remote Desktop פעיל."
},
{
  "cat": "Troubleshooting",
  "diff": "easy",
  "q": "משתמש לא מקבל GPO. מה הסיבה הנפוצה?",
  "a": [
    "RAID תקין",
    "DHCP פעיל",
    "DNS תקין",
    "GPO לא מקושר ל-OU"
  ],
  "c": 3,
  "exp": "אם אין Link בין ה-GPO ל-OU המתאים, המדיניות כלל לא תוחל על המשתמש."
},

{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "אחרי Restart GPO נעלם. מה בדיקה?",
  "a": [
    "בדיקת סדר OU ו-Inheritance",
    "בדיקת RAID",
    "בדיקת DNS",
    "בדיקת DHCP"
  ],
  "c": 0,
  "exp": "ייתכן שיש Block Inheritance או סדר עדיפויות שמבטל את ה-GPO לאחר אתחול."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "כונן H לא נוצר למשתמש. מה לבדוק?",
  "a": [
    "Profile Path והקבוצות",
    "DNS",
    "PXE",
    "RAID"
  ],
  "c": 0,
  "exp": "כונן אישי לרוב תלוי ב-Home Folder או בקבוצת אבטחה מתאימה."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "WDS לא מגיב ב-PXE. מה בדיקה ראשונה?",
  "a": [
    "DNS",
    "GPO",
    "DHCP ו-PXE Options",
    "RAID"
  ],
  "c": 2,
  "exp": "PXE תלוי ב-DHCP ובהגדרות Option 66/67 כדי לדעת לאן לפנות."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "משתמש מקבל IP אבל אין Domain Logon. למה?",
  "a": [
    "RAID לא תקין",
    "DNS מצביע החוצה",
    "Firewall כבוי",
    "GPO חסום"
  ],
  "c": 1,
  "exp": "אם DNS לא מצביע ל-DC פנימי, התחנה לא תמצא את בקר הדומיין לצורך אימות."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "DFS לא מציג תיקיות. מה הסיבה?",
  "a": [
    "DNS",
    "הרשאות או Replication",
    "DHCP",
    "GPO"
  ],
  "c": 1,
  "exp": "DFS תלוי גם בהרשאות וגם בסנכרון בין שרתים."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "קובץ נמחק בטעות. מה פתרון מהיר?",
  "a": [
    "DNS Flush",
    "Shadow Copies",
    "gpupdate",
    "RAID Rebuild"
  ],
  "c": 1,
  "exp": "Shadow Copies מאפשרים לשחזר גרסאות קודמות של קבצים ללא צורך בגיבוי מלא."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "Server איטי בזמן Rebuild. למה?",
  "a": [
    "DNS תקול",
    "עומס דיסקים",
    "DHCP איטי",
    "GPO כבד"
  ],
  "c": 1,
  "exp": "במהלך Rebuild של RAID יש עומס גבוה על הדיסקים מה שמאט את הביצועים."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "משתמש לא רואה תיקיות DFS. למה?",
  "a": [
    "Access-Based Enumeration",
    "DHCP",
    "DNS",
    "GPO"
  ],
  "c": 0,
  "exp": "אם Access-Based Enumeration פעיל, משתמשים רואים רק תיקיות שיש להם הרשאה אליהן."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "gpupdate /force נכשל. מה לבדוק?",
  "a": [
    "RAID",
    "PXE",
    "חיבור לדומיין ו-DNS",
    "DHCP"
  ],
  "c": 2,
  "exp": "יישום GPO תלוי בתקשורת תקינה עם בקר הדומיין ו-DNS פנימי."
},
{
  "cat": "Troubleshooting",
  "diff": "medium",
  "q": "אחרי שינוי GPO אין שינוי בתחנה. למה?",
  "a": [
    "DNS",
    "RAID",
    "צריך Logoff או Restart",
    "PXE"
  ],
  "c": 2,
  "exp": "חלק מה-GPOים מוחלים רק לאחר יציאה מהמשתמש או אתחול המחשב."
},

{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "יש IP, DNS תקין, אבל אין Domain Logon. מה עמוק?",
  "a": [
    "Secure Channel שבור",
    "PXE שגוי",
    "RAID לא תקין",
    "DHCP איטי"
  ],
  "c": 0,
  "exp": "אם ה-Trust בין התחנה ל-DC נשבר, נדרש Reset ל-Computer Account."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "שני משתמשים מקבלים IP זהה. למה?",
  "a": [
    "GPO",
    "IP Conflict",
    "DNS Cache",
    "RAID"
  ],
  "c": 1,
  "exp": "IP Conflict מתרחש כאשר שתי תחנות משתמשות באותה כתובת – ידנית או דרך DHCP שגוי."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "PXE-E53 מופיע. מה הסיבה?",
  "a": [
    "אין Boot Filename",
    "DNS לא עובד",
    "RAID תקול",
    "GPO חסום"
  ],
  "c": 0,
  "exp": "השגיאה מצביעה על כך שהלקוח לא קיבל קובץ אתחול משרת PXE."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "כוננים מופיעים אך ריקים. למה?",
  "a": [
    "DHCP",
    "DNS",
    "הרשאות NTFS חסרות",
    "PXE"
  ],
  "c": 2,
  "exp": "שיתוף קיים אך הרשאות NTFS לא מאפשרות גישה לתוכן."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "RDP נתקע בלוגין. מה לבדוק?",
  "a": [
    "Loopback או GPO סותר",
    "DHCP",
    "RAID",
    "DNS"
  ],
  "c": 0,
  "exp": "מדיניות GPO או Loopback על מחשב היעד עלולה לחסום התחברות תקינה."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "DFS עובד משרת אחד ולא משני. למה?",
  "a": [
    "GPO",
    "DHCP",
    "Replication לא תקין",
    "DNS"
  ],
  "c": 2,
  "exp": "אם הסנכרון בין שרתי DFS לא תקין, חלק מהתיקיות לא יוצגו מכל שרת."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "תחנה נופלת מהדומיין פתאום. למה?",
  "a": [
    "DNS Cache",
    "בעיה ב-Computer Account",
    "RAID",
    "PXE"
  ],
  "c": 1,
  "exp": "אם חשבון המחשב ב-AD נפגם או נמחק, הקשר עם הדומיין נשבר."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "Kerberos נכשל אך NTLM עובד. למה?",
  "a": [
    "PXE",
    "RAID",
    "זמן מערכת לא מסונכרן",
    "DNS"
  ],
  "c": 2,
  "exp": "Kerberos רגיש להפרשי זמן. Time Skew יגרום לכשל באימות."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "Domain איטי בכל התחנות. חשוד ראשון?",
  "a": [
    "SMB",
    "DNS",
    "RAID",
    "PXE"
  ],
  "c": 1,
  "exp": "Active Directory תלוי ב-DNS פנימי. בעיה שם תגרום לאיטיות בכל התחנות."
},
{
  "cat": "Troubleshooting",
  "diff": "hard",
  "q": "בעיה מופיעה רק אחרי Restart. למה?",
  "a": [
    "RAID",
    "Startup GPO",
    "DNS",
    "DHCP"
  ],
  "c": 1,
  "exp": "מדיניות Startup מוחלת רק באתחול ולכן הבעיה מופיעה רק לאחר Restart."
},

  //NSX

    {
    "cat": "NSX",
    "diff": "easy",
    "q": "מה זה NSX של VMware?",
    "a": [
      "מערכת הפעלה לשרתים בסביבת וירטואליזציה",
      "Hypervisor בסביבת וירטואליזציה בצורה מורחבת",
      "פלטפורמה לוירטואליזציית רשת בסביבת וירטואליזציה",
      "שרת DNS בסביבת וירטואליזציה"
    ],
    "c": 2,
    "exp": "NSX הוא פתרון Network Virtualization שמאפשר לבנות רשתות לוגיות, אבטחה וניתוב בצורה תוכנתית מעל התשתית הפיזית."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "באיזה שכבה NSX פועל בעיקר?",
    "a": [
      "שכבת BIOS בסביבת וירטואליזציה",
      "שכבת התוכנה מעל התשתית בסביבת וירטואליזציה",
      "שכבת אחסון בסביבת וירטואליזציה",
      "שכבה פיזית בלבד בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "NSX הוא Software-Defined: הוא מוסיף שכבת רשת לוגית שמנוהלת בתוכנה ולא תלויה במתגים פיזיים בלבד."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "מה היתרון המרכזי של NSX?",
    "a": [
      "ניהול רשת גמיש בלי תלות בחומרה בסביבת וירטואליזציה",
      "הצפנת קבצים בסביבת וירטואליזציה",
      "ביצועי דיסקים בסביבת וירטואליזציה",
      "ניהול משתמשים בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 0,
    "exp": "NSX מאפשר ליצור ולשנות רשתות, אבטחה וחיבורים במהירות באמצעות מדיניות, בלי להחליף או להגדיר ידנית ציוד פיזי."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "NSX משמש בעיקר באיזה סביבה?",
    "a": [
      "מחשבים אישיים בסביבת וירטואליזציה",
      "טלפונים ניידים בסביבת וירטואליזציה",
      "סביבות וירטואליות בסביבת וירטואליזציה",
      "שרתים פיזיים בלבד בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 2,
    "exp": "NSX מיועד בעיקר לסביבות וירטואליות (VMs/Hosts) כדי לנהל רשתות ואבטחה ברמת התוכנה בתוך הדאטה סנטר."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "מה זה Logical Switch ב-NSX?",
    "a": [
      "Firewall בסביבת וירטואליזציה בצורה מורחבת",
      "רשת וירטואלית ל-VMs בסביבת וירטואליזציה",
      "מתג פיזי בסביבת וירטואליזציה",
      "כרטיס רשת בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "Logical Switch הוא מתג/רשת לוגית בתוך NSX שמחברת מכונות וירטואליות כאילו הן באותו סוויץ' — בלי קשר למיקום הפיזי שלהן."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "מה זה Microsegmentation?",
    "a": [
      "חלוקת דיסקים בסביבת וירטואליזציה",
      "הפרדה ואבטחה בין מכונות וירטואליות",
      "ניהול משתמשים בסביבת וירטואליזציה בצורה מורחבת",
      "גיבוי נתונים בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "Microsegmentation היא חלוקת רשת לאזורים קטנים מאוד (אפילו VM מול VM) עם כללי Firewall מדויקים כדי לצמצם תנועה ואיומים פנימיים."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "NSX מחליף מתגים פיזיים?",
    "a": [
      "כן לגמרי בסביבת וירטואליזציה",
      "רק ב-LAN בסביבת וירטואליזציה",
      "לא, הוא עובד מעליהם בסביבת וירטואליזציה",
      "רק ב-WAN בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 2,
    "exp": "NSX פועל כ-Overlay מעל הרשת הפיזית: הוא לא מבטל אותה, אלא מוסיף שכבת רשת וירטואלית מנוהלת תוכנה."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "מה זה Distributed Firewall?",
    "a": [
      "Firewall פיזי בסביבת וירטואליזציה",
      "Firewall לאפליקציות בסביבת וירטואליזציה",
      "Firewall בענן ציבורי בסביבת וירטואליזציה בצורה מורחבת",
      "Firewall שפועל על כל Host בסביבת וירטואליזציה"
    ],
    "c": 3,
    "exp": "Distributed Firewall נאכף קרוב מאוד ל-VMs ברמת ה-Host, מה שמאפשר אבטחה טובה וביצועים גבוהים לתעבורה פנימית."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "NSX קשור יותר ל-Network או Computer?",
    "a": [
      "Storage בסביבת וירטואליזציה",
      "Network בסביבת וירטואליזציה",
      "User Management בסביבת וירטואליזציה בצורה מורחבת",
      "Computer בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "NSX הוא מוצר רשת: הוא עוסק במתגים לוגיים, ניתוב, Firewall, Overlay ואבטחת תעבורה בין רכיבים."
  },
  {
    "cat": "NSX",
    "diff": "easy",
    "q": "מי מפתח את NSX?",
    "a": [
      "VMware בסביבת וירטואליזציה",
      "Cisco בסביבת וירטואליזציה בצורה מורחבת",
      "Microsoft בסביבת וירטואליזציה",
      "Google בסביבת וירטואליזציה"
    ],
    "c": 0,
    "exp": "NSX הוא מוצר של VMware (כיום תחת Broadcom), ונחשב לפלטפורמת Network Virtualization מובילה בדאטה סנטרים."
  },

  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה זה NSX Manager?",
    "a": [
      "Hypervisor בסביבת וירטואליזציה",
      "רכיב הניהול המרכזי של NSX בסביבת וירטואליזציה",
      "Storage Controller בסביבת וירטואליזציה",
      "שרת DNS בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "NSX Manager הוא רכיב הניהול שממנו מגדירים מדיניות, רשתות, אבטחה, ופריסה של רכיבי NSX בסביבה."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה זה Transport Zone?",
    "a": [
      "קבוצת דיסקים בסביבת וירטואליזציה",
      "קבוצת Hosts שיכולה לשתף רשתות לוגיות",
      "רשת פיזית בסביבת וירטואליזציה",
      "קבוצת משתמשים בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Transport Zone מגדיר את גבול ההפצה של רשתות לוגיות: אילו Hosts/Clusters יכולים להשתתף באותה Overlay."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה זה Overlay Network?",
    "a": [
      "רשת ניהול בסביבת וירטואליזציה",
      "רשת וירטואלית מעל הרשת הפיזית בסביבת וירטואליזציה",
      "רשת פיזית בסביבת וירטואליזציה",
      "רשת אחסון בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Overlay היא שכבת רשת וירטואלית שרצה “מעל” התשתית הפיזית ומאפשרת גמישות בלי לשנות את הרשת הפיזית."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "איזה פרוטוקול נפוץ ב-Overlay?",
    "a": [
      "VXLAN או GENEVE בסביבת וירטואליזציה",
      "ICMP בסביבת וירטואליזציה בצורה מורחבת",
      "FTP בסביבת וירטואליזציה",
      "TCP בלבד בסביבת וירטואליזציה"
    ],
    "c": 0,
    "exp": "VXLAN/GENEVE הם פרוטוקולים לעטיפת תעבורה (encapsulation) כדי להעביר רשת לוגית בתוך תעבורה של הרשת הפיזית."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה זה Logical Router?",
    "a": [
      "Firewall בסביבת וירטואליזציה בצורה מורחבת",
      "נתב וירטואלי לניתוב בין רשתות בסביבת וירטואליזציה",
      "Load Balancer בסביבת וירטואליזציה",
      "נתב פיזי בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "Logical Router מאפשר ניתוב בין רשתות לוגיות בתוך הסביבה הווירטואלית בלי להזדקק לנתב פיזי לכל שינוי."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "למה משתמשים ב-Microsegmentation?",
    "a": [
      "להאצת DNS בסביבת וירטואליזציה",
      "להקטנת תנועה ואיומים פנימיים בסביבת וירטואליזציה",
      "להגדלת נפח דיסק בסביבת וירטואליזציה",
      "להתקנת OS בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "המטרה היא לצמצם תנועה מיותרת ולמנוע תנועה רוחבית של תוקף בתוך הדאטה סנטר בין שרתים ומכונות."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה זה Edge Node?",
    "a": [
      "Storage Node בסביבת וירטואליזציה",
      "Host רגיל בסביבת וירטואליזציה בצורה מורחבת",
      "רכיב שמחבר רשת וירטואלית לפיזית בסביבת וירטואליזציה",
      "שרת DNS בסביבת וירטואליזציה"
    ],
    "c": 2,
    "exp": "Edge Node מטפל בדרך כלל ב-North-South, NAT, Load Balancing ושערים שמחברים Overlay לרשת הפיזית/החוצה."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "NSX עובד עם איזה Hypervisor?",
    "a": [
      "Xen בסביבת וירטואליזציה",
      "vSphere בסביבת וירטואליזציה",
      "Hyper-V בלבד בסביבת וירטואליזציה",
      "KVM בלבד בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "NSX משולב חזק עם VMware vSphere ומאפשר אכיפה וניהול רשת ברמת ה-Host וה-VM."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה זה Security Policy ב-NSX?",
    "a": [
      "מדיניות דיסקים בסביבת וירטואליזציה בצורה מורחבת",
      "מדיניות DNS בסביבת וירטואליזציה",
      "כללים לשליטה בתעבורה בסביבת וירטואליזציה",
      "מדיניות משתמשים בסביבת וירטואליזציה"
    ],
    "c": 2,
    "exp": "Security Policy היא סט כללים שמגדיר מי מדבר עם מי, באילו פורטים, ובאיזה כיוון — לעיתים עד רמת אפליקציה."
  },
  {
    "cat": "NSX",
    "diff": "medium",
    "q": "מה היתרון של Distributed Firewall?",
    "a": [
      "אחסון טוב יותר בסביבת וירטואליזציה",
      "אכיפה קרובה ל-VM בסביבת וירטואליזציה",
      "פחות כללים בסביבת וירטואליזציה בצורה מורחבת",
      "ניהול משתמשים בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "כשהאכיפה קרובה ל-VM, מקבלים ביצועים טובים יותר ושליטה מדויקת על תעבורה פנימית (East-West)."
  },

  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה ההבדל בין North-South ל-East-West Traffic?",
    "a": [
      "אין הבדל בסביבת וירטואליזציה בצורה מורחבת",
      "North-South פנימי בסביבת וירטואליזציה",
      "East-West פנימי; North-South החוצה",
      "שניהם אותו דבר בסביבת וירטואליזציה"
    ],
    "c": 2,
    "exp": "East-West הוא תעבורה פנימית בין שרתים/VMs, בעוד North-South היא תעבורה שיוצאת או נכנסת לדאטה סנטר."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "למה Microsegmentation חשוב ל-East-West?",
    "a": [
      "כי RAID מושפע בסביבת וירטואליזציה",
      "כי רוב התקיפות פנימיות בסביבת וירטואליזציה",
      "כי DNS איטי בסביבת וירטואליזציה",
      "כי DHCP תלוי בזה בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "ברוב הארגונים, תוקף שמצליח להיכנס מנסה להתפשט פנימה. Microsegmentation מצמצם תנועה רוחבית לפי עקרון Zero Trust."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה זה Tier-0 Router?",
    "a": [
      "Switch לוגי בסביבת וירטואליזציה",
      "נתב מרכזי לחיבור חיצוני בסביבת וירטואליזציה",
      "נתב פנימי בסביבת וירטואליזציה בצורה מורחבת",
      "Firewall בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "Tier-0 הוא שכבת ה-Gateway העליונה שמחוברת לרשת החיצונית ומספקת יציאה/כניסה ל-North-South."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה זה Tier-1 Router?",
    "a": [
      "נתב לוגי לרשתות פנימיות בסביבת וירטואליזציה",
      "נתב אינטרנט בסביבת וירטואליזציה",
      "DNS Server בסביבת וירטואליזציה",
      "Firewall בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Tier-1 מטפל בניתוב של רשתות פנימיות ואפליקציות ומתחבר בדרך כלל ל-Tier-0 ליציאה החוצה."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה קורה אם NSX Manager נופל?",
    "a": [
      "DNS מפסיק בסביבת וירטואליזציה",
      "כל הרשת נופלת בסביבת וירטואליזציה בצורה מורחבת",
      "ניהול נפגע אך תעבורה ממשיכה בסביבת וירטואליזציה",
      "כל ה-VMs נכבים בסביבת וירטואליזציה"
    ],
    "c": 2,
    "exp": "NSX Manager הוא Control/Management; בדרך כלל Data Plane ממשיך להעביר תעבורה, אבל אי אפשר לנהל/לשנות מדיניות עד שיחזור."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה זה Control Plane ב-NSX?",
    "a": [
      "ניהול ולמידת טופולוגיה בסביבת וירטואליזציה",
      "העברת תעבורה בסביבת וירטואליזציה בצורה מורחבת",
      "אחסון נתונים בסביבת וירטואליזציה",
      "הרשאות משתמשים בסביבת וירטואליזציה"
    ],
    "c": 0,
    "exp": "Control Plane אחראי להבנת הטופולוגיה, הפצת מידע והחלטות ניתוב/מדיניות לרכיבים שמבצעים את האכיפה בפועל."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה זה Data Plane ב-NSX?",
    "a": [
      "ניהול מדיניות בסביבת וירטואליזציה",
      "העברת תעבורה בפועל בסביבת וירטואליזציה",
      "גיבוי נתונים בסביבת וירטואליזציה בצורה מורחבת",
      "ניהול משתמשים בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "Data Plane הוא החלק שמעביר את התעבורה בפועל (packets/flows) בהתאם למדיניות שהוגדרה ונאכפת במערכת."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה זה Management Plane?",
    "a": [
      "Firewall בסביבת וירטואליזציה בצורה מורחבת",
      "ניהול והגדרה של NSX בסביבת וירטואליזציה",
      "Storage בסביבת וירטואליזציה",
      "העברת תעבורה בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "Management Plane כולל את ממשקי הניהול והקונפיגורציה שמאפשרים להגדיר Policies, אובייקטים, משתמשים ואינטגרציות."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "למה NSX תומך ב-Zero Trust?",
    "a": [
      "אחסון זול בסביבת וירטואליזציה בצורה מורחבת",
      "אבטחה בין כל רכיב בסביבת וירטואליזציה",
      "ניהול פשוט בסביבת וירטואליזציה",
      "ביצועים גבוהים בסביבת וירטואליזציה"
    ],
    "c": 1,
    "exp": "NSX מאפשר לאכוף כללים פנימיים בין שרתים/VMs כך שלא סומכים אוטומטית על תעבורה פנימית, אלא מאשרים רק מה שנדרש."
  },
  {
    "cat": "NSX",
    "diff": "hard",
    "q": "מה אתגר נפוץ בהטמעת NSX?",
    "a": [
      "חוסר תאימות ל-Windows בסביבת וירטואליזציה",
      "מורכבות תכנון ואפיון בסביבת וירטואליזציה",
      "חוסר תמיכה ב-DNS בסביבת וירטואליזציה",
      "בעיות RAID בסביבת וירטואליזציה בצורה מורחבת"
    ],
    "c": 1,
    "exp": "NSX חזק מאוד, אבל דורש תכנון נכון של טופולוגיה, Zones, Edges ומדיניות אבטחה כדי לא לייצר כאוס תפעולי."
  },

  //Subnet Mask

    {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה התפקיד של Subnet Mask?",
    "a": [
      "להגדיר Gateway בסביבת רשת",
      "להצפין תעבורה בסביבת רשת",
      "לחלק כתובות IP בסביבת רשת בצורה מורחבת",
      "להפריד בין חלק הרשת לחלק התחנה ב-IP"
    ],
    "c": 3,
    "exp": "Subnet Mask מגדיר אילו ביטים בכתובת ה-IP שייכים לרשת ואילו שייכים לתחנה, וכך קובע את גבולות הסאבנט."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה מסכה 255.255.255.0 מייצגת?",
    "a": [
      "רשת עם 16 ביטים לרשת בסביבת רשת",
      "רשת עם 24 ביטים לרשת בסביבת רשת",
      "רשת ללא סאבנט בסביבת רשת",
      "רשת עם 8 ביטים לרשת בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "255.255.255.0 היא מסכה של /24, כלומר 24 ביטים לרשת ו-8 ביטים לתחנות בתוך הסאבנט."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה זה CIDR?",
    "a": [
      "כתיב קצר למספר ביטים של רשת בסביבת רשת",
      "שרת DNS בסביבת רשת בצורה מורחבת",
      "סוג פרוטוקול בסביבת רשת",
      "שיטת הצפנה בסביבת רשת"
    ],
    "c": 0,
    "exp": "CIDR הוא כתיב מקוצר כמו /24 שמציין כמה ביטים מוקדשים לרשת במקום לכתוב מסכה מלאה."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "כמה תחנות יש ב-/24?",
    "a": [
      "255 תחנות בסביבת רשת",
      "256 תחנות בסביבת רשת בצורה מורחבת",
      "254 תחנות בסביבת רשת",
      "128 תחנות בסביבת רשת"
    ],
    "c": 2,
    "exp": "ב-/24 יש 256 כתובות בסך הכל, אבל Network ו-Broadcast לא שמישים, לכן נשארים 254 Hosts."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה זה Network Address?",
    "a": [
      "כתובת DNS בסביבת רשת",
      "כתובת שמייצגת את הרשת עצמה בסביבת רשת",
      "כתובת Gateway בסביבת רשת בצורה מורחבת",
      "כתובת של תחנה בסביבת רשת"
    ],
    "c": 1,
    "exp": "Network Address היא הכתובת הראשונה בסאבנט שמייצגת את הרשת כולה ומשמשת לניתוב, ולכן לא מוקצת לתחנה."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה זה Broadcast Address?",
    "a": [
      "כתובת DNS בסביבת רשת",
      "כתובת Gateway בסביבת רשת",
      "כתובת לשליחה לכל התחנות ברשת בסביבת רשת",
      "כתובת תחנה ראשונה בסביבת רשת בצורה מורחבת"
    ],
    "c": 2,
    "exp": "Broadcast Address היא הכתובת האחרונה בסאבנט, ומשמשת לשליחה לכל התחנות באותה רשת בו זמנית."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "איזו מסכה נפוצה ברשת ביתית?",
    "a": [
      "255.255.255.0 בסביבת רשת",
      "255.255.0.0 בסביבת רשת",
      "255.255.255.252 בסביבת רשת בצורה מורחבת",
      "255.0.0.0 בסביבת רשת"
    ],
    "c": 0,
    "exp": "ברוב הרשתות הביתיות משתמשים ב-/24 (255.255.255.0) כי זה פשוט ומספיק למספר מכשירים סטנדרטי."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה יקרה אם המסכה שגויה?",
    "a": [
      "השרת יכבה בסביבת רשת",
      "לא תהיה תקשורת תקינה בסביבת רשת",
      "ה-RAID ייפגע בסביבת רשת",
      "ה-DNS ייפול בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "מסכה שגויה גורמת לתחנה לחשוב שמכשירים הם באותו סאבנט או מחוץ לו, וזה שובר תקשורת וניתוב בצורה מוזרה."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "מה זה Host Bits?",
    "a": [
      "החלק שמייצג תחנות ברשת בסביבת רשת",
      "החלק שמייצג Gateway בסביבת רשת",
      "החלק שמייצג DNS בסביבת רשת בצורה מורחבת",
      "החלק שמייצג את הרשת בסביבת רשת"
    ],
    "c": 0,
    "exp": "Host Bits הם הביטים שנותנים את מספר התחנה בתוך הסאבנט (כלומר 'מי אתה' בתוך הרשת)."
  },
  {
    "cat": "Subnet Mask",
    "diff": "easy",
    "q": "Subnet Mask קשור לאיזה שכבה?",
    "a": [
      "Layer 2 בסביבת רשת",
      "Layer 7 בסביבת רשת",
      "Layer 3 בסביבת רשת",
      "Layer 1 בסביבת רשת בצורה מורחבת"
    ],
    "c": 2,
    "exp": "Subnet Mask עובד בשכבת הרשת (Layer 3) יחד עם כתובות IP וניתוב בין רשתות."
  },

  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "מה המשמעות של /26?",
    "a": [
      "26 תחנות בלבד בסביבת רשת בצורה מורחבת",
      "26 רשתות בסביבת רשת",
      "6 ביטים לרשת בסביבת רשת",
      "26 ביטים לרשת ו-6 לתחנות בסביבת רשת"
    ],
    "c": 3,
    "exp": "/26 אומר ש-26 ביטים שייכים לרשת, ונשארים 6 ביטים ל-Hosts. זה קובע כמה כתובות יהיו בכל סאבנט."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "כמה תחנות יש ב-/26?",
    "a": [
      "62 תחנות בסביבת רשת",
      "60 תחנות בסביבת רשת",
      "64 תחנות בסביבת רשת",
      "30 תחנות בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "ב-/26 יש 2^(32-26)=64 כתובות, פחות Network ו-Broadcast, לכן יש 62 תחנות שמישות."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "מה זה Subnetting?",
    "a": [
      "חלוקת רשת גדולה לרשתות קטנות בסביבת רשת",
      "איחוד רשתות בסביבת רשת",
      "ניהול DNS בסביבת רשת",
      "הצפנת תעבורה בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Subnetting הוא תהליך חלוקה של טווח IP גדול למספר רשתות קטנות כדי לשפר ניהול, אבטחה וביצועים."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "למה עושים Subnetting?",
    "a": [
      "כדי להגדיל DNS בסביבת רשת",
      "כדי לחסוך RAID בסביבת רשת",
      "שליטה וביצועים טובים יותר בסביבת רשת",
      "כדי להחליף DHCP בסביבת רשת בצורה מורחבת"
    ],
    "c": 2,
    "exp": "Subnetting מאפשר להפריד מחלקות/סביבות, לצמצם Broadcast, ולשלוט טוב יותר בתעבורה ובאבטחה."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "מה זה Supernetting?",
    "a": [
      "הצפנה בסביבת רשת",
      "איחוד כמה רשתות לרשת אחת בסביבת רשת",
      "ניתוב DNS בסביבת רשת",
      "חלוקת רשת בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Supernetting הוא איחוד של כמה רשתות סמוכות לטווח גדול יותר (פחות ספציפי), לרוב כדי לצמצם ערכי ניתוב."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "מה זה VLSM?",
    "a": [
      "מסכות משתנות לפי צורך בסביבת רשת",
      "סוג DNS בסביבת רשת",
      "סוג RAID בסביבת רשת",
      "פרוטוקול רשת בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "VLSM מאפשר להשתמש במסכות שונות בתוך אותו מרחב כתובות כדי להתאים את גודל הסאבנט לצורך האמיתי ולחסוך כתובות."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "מה ההבדל בין /30 ל-/24?",
    "a": [
      "/30 יותר תחנות בסביבת רשת בצורה מורחבת",
      "/24 מיועד ל-DNS בסביבת רשת",
      "/30 מעט תחנות, /24 הרבה בסביבת רשת",
      "אין הבדל בסביבת רשת"
    ],
    "c": 2,
    "exp": "/30 נותן סאבנט קטן מאוד (מעט Hosts), בעוד /24 נותן סאבנט גדול. זה משפיע על כמות תחנות וגבולות ניתוב."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "איזו מסכה מתאימה ל-2 תחנות?",
    "a": [
      "255.255.255.248 בסביבת רשת",
      "255.255.255.252 בסביבת רשת",
      "255.255.255.128 בסביבת רשת בצורה מורחבת",
      "255.255.255.0 בסביבת רשת"
    ],
    "c": 1,
    "exp": "/30 (255.255.255.252) נותן 4 כתובות, שמתוכן 2 שמישות ל-Hosts, ולכן מתאים לקישור קטן כמו Point-to-Point."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "כמה תחנות יש ב-/30?",
    "a": [
      "4 תחנות בסביבת רשת",
      "2 תחנות בסביבת רשת",
      "1 תחנה בסביבת רשת",
      "6 תחנות בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "ב-/30 יש 4 כתובות בסך הכול, אבל 2 לא שמישות (Network/Broadcast), לכן נשארות 2 כתובות לתחנות."
  },
  {
    "cat": "Subnet Mask",
    "diff": "medium",
    "q": "מה זה Subnet Boundary?",
    "a": [
      "Gateway בסביבת רשת בצורה מורחבת",
      "כתובת DNS בסביבת רשת",
      "נקודת התחלה של סאבנט בסביבת רשת",
      "כתובת תחנה בסביבת רשת"
    ],
    "c": 2,
    "exp": "Subnet Boundary הוא הגבול שבו סאבנט חדש מתחיל — כלומר ה'קפיצות' בטווח לפי המסכה (כמו 0,64,128,192)."
  },

  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "מה המסכה של /27?",
    "a": [
      "255.255.255.240 בסביבת רשת",
      "255.255.255.224 בסביבת רשת",
      "255.255.255.128 בסביבת רשת",
      "255.255.255.192 בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "/27 אומר 3 ביטים ל-Hosts באוקטט האחרון (32 כתובות), ולכן המסכה היא 255.255.255.224."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "כמה תחנות יש ב-/27?",
    "a": [
      "32 תחנות בסביבת רשת בצורה מורחבת",
      "30 תחנות בסביבת רשת",
      "28 תחנות בסביבת רשת",
      "16 תחנות בסביבת רשת"
    ],
    "c": 1,
    "exp": "ב-/27 יש 32 כתובות סה\"כ, פחות Network ו-Broadcast, לכן יש 30 Hosts שמישים."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "מה קורה אם שתי תחנות עם מסכות שונות?",
    "a": [
      "הכל יעבוד בסביבת רשת",
      "רק DNS ייפול בסביבת רשת בצורה מורחבת",
      "לא תמיד יוכלו לתקשר בסביבת רשת",
      "רק Gateway ייפגע בסביבת רשת"
    ],
    "c": 2,
    "exp": "אם תחנות מחשבות אחרת מי 'מקומי' ומי 'מרוחק', הן עלולות לשלוח תעבורה בדרך שגויה ותקשורת תישבר חלקית."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "מה היתרון ב-CIDR?",
    "a": [
      "חיסכון בכתובות וניתוב יעיל בסביבת רשת",
      "הצפנה בסביבת רשת",
      "אבטחה גבוהה בסביבת רשת בצורה מורחבת",
      "RAID בסביבת רשת"
    ],
    "c": 0,
    "exp": "CIDR מאפשר גמישות במסכות, חיסכון בכתובות, וסיכום נתיבים (route summarization) שמפשט טבלאות ניתוב."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "מה ההבדל בין Network ל-Broadcast?",
    "a": [
      "Network זה תחנה בסביבת רשת בצורה מורחבת",
      "Broadcast זה Gateway בסביבת רשת",
      "אין הבדל בסביבת רשת",
      "Network מזהה רשת, Broadcast לכל התחנות"
    ],
    "c": 3,
    "exp": "Network Address מזהה את הסאבנט לצרכי ניתוב, בעוד Broadcast Address משמש לשליחה לכל המכשירים באותו סאבנט."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "למה /31 לא נפוץ?",
    "a": [
      "אין מספיק כתובות תחנה בסביבת רשת",
      "כי DHCP לא עובד בסביבת רשת",
      "כי DNS לא תומך בסביבת רשת בצורה מורחבת",
      "כי RAID לא תומך בסביבת רשת"
    ],
    "c": 0,
    "exp": "ב-/31 אין מקום ל-Network/Broadcast במבנה הקלאסי, ולכן בעבר לא היה שימושי לרוב הסביבות (למעט שימושים מיוחדים)."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "מתי כן משתמשים ב-/31?",
    "a": [
      "רשת ביתית בסביבת רשת",
      "קישורי Point-to-Point בסביבת רשת",
      "שרת קבצים בסביבת רשת",
      "רשת WiFi בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "בקישורי Point-to-Point אפשר להשתמש ב-/31 כדי לחסוך כתובות, כי צריך רק שתי נקודות קצה בלבד."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "מה קורה אם משתמש שם /24 במקום /26?",
    "a": [
      "הוא יראה יותר תחנות ממה שיש בסביבת רשת",
      "ה-DNS יקרוס בסביבת רשת",
      "ה-Gateway יכבה בסביבת רשת בצורה מורחבת",
      "ה-RAID ייפול בסביבת רשת"
    ],
    "c": 0,
    "exp": "מסכה רחבה יותר תגרום לתחנה לחשוב שטווח גדול יותר הוא 'מקומי', מה שעלול לשבש תקשורת ולגרום לניתוב שגוי."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "איך מזהים Subnet נכון במהירות?",
    "a": [
      "בדיקת RAID בסביבת רשת",
      "בדיקת קפיצות בינאריות בסביבת רשת",
      "בדיקת DNS בסביבת רשת בצורה מורחבת",
      "בדיקת DHCP בסביבת רשת"
    ],
    "c": 1,
    "exp": "מזהים לפי 'קפיצות' (block size) באוקטט הרלוונטי, שנגזר מהמסכה—זה חוסך זמן בחישוב ידני."
  },
  {
    "cat": "Subnet Mask",
    "diff": "hard",
    "q": "למה Subnet Mask חשוב ב-Routing?",
    "a": [
      "קובע DNS בסביבת רשת",
      "קובע לאן תעבורה נשלחת בסביבת רשת",
      "קובע הרשאות בסביבת רשת",
      "קובע RAID בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "המסכה קובעת האם היעד נמצא באותו סאבנט (שליחה ישירה) או מחוץ לו (שליחה ל-Default Gateway) ולכן קריטית לניתוב."
  },

  //Default Gateway

    {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "מה התפקיד של Default Gateway?",
    "a": [
      "לאחסן קבצים בסביבת רשת",
      "לאפשר יציאה מהרשת המקומית לרשתות אחרות",
      "לתרגם שמות DNS בסביבת רשת",
      "לחלק כתובות IP בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Default Gateway הוא ה'דלת החוצה' של התחנה: כל יעד שלא נמצא בסאבנט המקומי נשלח אליו כדי להמשיך לניתוב לרשתות אחרות."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "איפה מוגדר Default Gateway בתחנה?",
    "a": [
      "ב-Switch בסביבת רשת",
      "בהגדרות הרשת של כרטיס הרשת בסביבת רשת",
      "ב-DNS Server בסביבת רשת בצורה מורחבת",
      "ב-GPO בלבד בסביבת רשת"
    ],
    "c": 1,
    "exp": "ה-Gateway מוגדר בפרטי ה-IP של כרטיס הרשת (ידני או דרך DHCP), יחד עם IP, Subnet Mask ו-DNS."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "מה קורה אם Gateway שגוי?",
    "a": [
      "אין יציאה לרשת חיצונית בסביבת רשת",
      "DNS ייפול בסביבת רשת",
      "הדיסק ייכשל בסביבת רשת",
      "השרת יכבה בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Gateway שגוי גורם לכך שהתחנה לא תדע לאן לשלוח תעבורה החוצה, ולכן אינטרנט/רשתות אחרות לא יעבדו למרות ש-LAN מקומי יכול לעבוד."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "Gateway הוא בדרך כלל מה?",
    "a": [
      "נתב או Firewall בסביבת רשת",
      "שרת קבצים בסביבת רשת",
      "שרת DNS בסביבת רשת בצורה מורחבת",
      "Domain Controller בסביבת רשת"
    ],
    "c": 0,
    "exp": "בדרך כלל ה-Gateway הוא Router או Firewall שמבצע ניתוב בין רשתות ולעיתים גם NAT ו-Policy של תעבורה."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "האם Gateway חייב להיות באותו סאבנט?",
    "a": [
      "כן, אחרת אין ניתוב בסביבת רשת",
      "רק ב-IPv6 בסביבת רשת",
      "לא חובה בסביבת רשת בצורה מורחבת",
      "רק ב-WAN בסביבת רשת"
    ],
    "c": 0,
    "exp": "כן—התחנה חייבת להגיע ל-Gateway בשכבה 2 (ARP), ולכן הכתובת של ה-Gateway חייבת להיות באותו סאבנט כדי שזה יעבוד."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "כמה Default Gateway יש בדרך כלל?",
    "a": [
      "אחד בסביבת רשת",
      "אחד לכל אפליקציה בסביבת רשת בצורה מורחבת",
      "שניים תמיד בסביבת רשת",
      "אינסוף בסביבת רשת"
    ],
    "c": 0,
    "exp": "בדרך כלל מגדירים Default Gateway אחד. אם יש יותר מאחד, המערכת תבחר לפי Metric וזה עלול לגרום להתנהגות לא צפויה."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "Default Gateway פועל באיזה שכבה?",
    "a": [
      "Layer 2 בסביבת רשת",
      "Layer 3 בסביבת רשת",
      "Layer 7 בסביבת רשת",
      "Layer 1 בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Gateway קשור לניתוב בין רשתות (IP Routing), ולכן זה Layer 3 במודל OSI."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "מה יקרה אם אין Default Gateway?",
    "a": [
      "DNS יקרוס בסביבת רשת",
      "רק תקשורת מקומית תעבוד בסביבת רשת",
      "DHCP לא יעבוד בסביבת רשת בצורה מורחבת",
      "שום דבר לא יעבוד בסביבת רשת"
    ],
    "c": 1,
    "exp": "בלי Gateway תוכל לדבר רק עם מכשירים באותו סאבנט. כל ניסיון להגיע לרשת אחרת/אינטרנט ייכשל כי אין 'יציאה החוצה'."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "מה הקשר בין Gateway ל-Routing?",
    "a": [
      "Gateway הוא היעד ל-Routes חיצוניים",
      "Gateway מחליף DNS בסביבת רשת בצורה מורחבת",
      "Gateway מנהל DHCP בסביבת רשת",
      "Gateway מנהל GPO בסביבת רשת"
    ],
    "c": 0,
    "exp": "כאשר אין Route ספציפי ליעד, התחנה משתמשת ב-Default Route ששולח את התעבורה ל-Default Gateway כ-Hop הראשון."
  },
  {
    "cat": "Default Gateway",
    "diff": "easy",
    "q": "איזה פרוטוקול משתמש ב-Gateway?",
    "a": [
      "FTP בסביבת רשת",
      "DNS בסביבת רשת",
      "IP Routing בסביבת רשת",
      "SMB בסביבת רשת בצורה מורחבת"
    ],
    "c": 2,
    "exp": "Gateway מבצע ניתוב IP (Layer 3). הוא לא פרוטוקול כמו DNS/SMB אלא מנגנון של Routing על בסיס כתובות IP."
  },

  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "מה זה Default Route?",
    "a": [
      "Route פנימי בסביבת רשת",
      "Route לכל יעד לא מוכר בסביבת רשת",
      "Route זמני בסביבת רשת",
      "Route ל-DNS בלבד בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Default Route הוא נתיב ברירת מחדל: אם היעד לא תואם אף Route ספציפי, שולחים אותו ל-Gateway כדי שימשיך את הניתוב."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "איך נראית Default Route בטבלה?",
    "a": [
      "169.254.0.0 בסביבת רשת",
      "0.0.0.0/0 בסביבת רשת",
      "127.0.0.1 בסביבת רשת בצורה מורחבת",
      "255.255.255.0 בסביבת רשת"
    ],
    "c": 1,
    "exp": "0.0.0.0/0 מייצג 'כל יעד'. זה הכלל שתופס כל דבר שלא נתפס על ידי Route מדויק יותר."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "למה תחנה עם IP תקין לא יוצאת לאינטרנט?",
    "a": [
      "Gateway לא מוגדר או שגוי בסביבת רשת",
      "RAID לא תקין בסביבת רשת",
      "DNS עובד טוב מדי בסביבת רשת בצורה מורחבת",
      "GPO חוסם בסביבת רשת"
    ],
    "c": 0,
    "exp": "גם אם יש IP, בלי Gateway תקין אין ניתוב החוצה. זו אחת התקלות הכי נפוצות בתחנות שלא יוצאות לאינטרנט."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "מה ההבדל בין Gateway ל-DNS?",
    "a": [
      "DNS מנתב תעבורה בסביבת רשת",
      "Gateway מנתב תעבורה, DNS מתרגם שמות",
      "Gateway מנהל שמות בסביבת רשת בצורה מורחבת",
      "אין הבדל בסביבת רשת"
    ],
    "c": 1,
    "exp": "Gateway מחליט לאן לשלוח חבילות בין רשתות, בעוד DNS רק מתרגם שם (example.com) לכתובת IP."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "מה קורה אם שני Gateways מוגדרים?",
    "a": [
      "המערכת תבחר לפי Metric בסביבת רשת",
      "אין השפעה בסביבת רשת",
      "המערכת תקרוס בסביבת רשת בצורה מורחבת",
      "שניהם יפעלו תמיד בסביבת רשת"
    ],
    "c": 0,
    "exp": "כאשר מוגדרים שני Gateways, Windows בוחר נתיב לפי Metric/עדיפות. זה עלול ליצור ניתוב לא יציב אם הערכים משתנים."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "מה זה Metric ב-Routing?",
    "a": [
      "Subnet Mask בסביבת רשת",
      "עדיפות לנתיב מסוים בסביבת רשת",
      "כתובת Gateway בסביבת רשת",
      "סוג פרוטוקול בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Metric הוא מספר שמייצג 'עדיפות/עלות'. לרוב, Metric נמוך יותר אומר שהמערכת תעדיף את הנתיב הזה."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "מתי צריך Gateway פנימי?",
    "a": [
      "ברשת ביתית תמיד בסביבת רשת",
      "כשיש יותר מסאבנט אחד בסביבת רשת",
      "רק ב-IPv6 בסביבת רשת",
      "רק ב-WDS בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "כשיש כמה רשתות פנימיות (כמה סאבנטים/VLANs), צריך Gateway שמנתב ביניהן כדי לאפשר תקשורת בין רשתות."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "איך בודקים Gateway ב-Windows?",
    "a": [
      "diskpart בסביבת רשת",
      "ipconfig בסביבת רשת",
      "gpupdate בסביבת רשת",
      "nslookup בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "ipconfig /all מציג את Default Gateway יחד עם כתובת IP, מסכה ושרתי DNS — זו בדיקה בסיסית לאבחון מהיר."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "איך בודקים ניתוב בפועל?",
    "a": [
      "arp -a בסביבת רשת",
      "tracert בסביבת רשת",
      "ping localhost בסביבת רשת בצורה מורחבת",
      "net use בסביבת רשת"
    ],
    "c": 1,
    "exp": "tracert מראה את הנתיב (hops) שהחבילה עוברת, וכך אפשר לראות איפה היציאה נתקעת והאם ה-Gateway הוא hop ראשון."
  },
  {
    "cat": "Default Gateway",
    "diff": "medium",
    "q": "מה קורה אם Gateway לא מגיב?",
    "a": [
      "ה-GPO יימחק בסביבת רשת",
      "אין יציאה החוצה בסביבת רשת",
      "DNS יקרוס בסביבת רשת",
      "ה-VM ייכבה בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "אם ה-Gateway לא נגיש (נפל/כתובת לא נכונה/חסימה), התחנה לא תוכל לצאת מהסאבנט ולכן כל גישה חיצונית תיכשל."
  },

  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "מה ההבדל בין Static Route ל-Default Gateway?",
    "a": [
      "Static יעד ספציפי, Gateway כללי בסביבת רשת",
      "Gateway יותר מהיר בסביבת רשת",
      "Static משמש רק DNS בסביבת רשת",
      "אין הבדל בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "Static Route מפנה יעד/רשת מסוימת ל-next hop מסוים, בעוד Default Gateway הוא נתיב כללי לכל מה שאין לו Route ספציפי."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "למה Ping ל-Gateway חשוב?",
    "a": [
      "בודק זמינות נתיב ראשון בסביבת רשת",
      "בודק DHCP בסביבת רשת",
      "בודק DNS בסביבת רשת בצורה מורחבת",
      "בודק GPO בסביבת רשת"
    ],
    "c": 0,
    "exp": "Ping ל-Gateway בודק שה-hop הראשון זמין. אם זה נכשל, אין טעם לבדוק אינטרנט לפני שמטפלים בקישור ליציאה מהסאבנט."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "יש Gateway תקין אבל אין גלישה. מה עמוק?",
    "a": [
      "RAID תקול בסביבת רשת",
      "Firewall חוסם בסביבת רשת",
      "PXE בסביבת רשת",
      "DNS Cache בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "יכול להיות שה-Gateway עובד אבל Firewall/Policy חוסם יציאה (למשל חסימת פורטים, חסימת NAT, או כללים שמונעים תעבורה החוצה)."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "מה זה Asymmetric Routing?",
    "a": [
      "Failover בסביבת רשת",
      "כניסה ויציאה בנתיבים שונים בסביבת רשת",
      "שכפול Gateway בסביבת רשת",
      "ניתוב DNS בסביבת רשת בצורה מורחבת"
    ],
    "c": 1,
    "exp": "Asymmetric Routing קורה כשהתעבורה יוצאת דרך נתיב אחד וחוזרת דרך נתיב אחר, מה שעלול לשבור State ב-Firewall ולגרום לניתוקים."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "למה שני Gateways מסוכנים?",
    "a": [
      "גורמים לניתוב לא צפוי בסביבת רשת",
      "מגבים תעבורה בסביבת רשת",
      "משפרים ביצועים בסביבת רשת",
      "מאיצים DNS בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "שני Gateways יכולים לגרום לתעבורה 'לקפוץ' בין נתיבים לפי Metric, ליצור ניתוב א-סימטרי ובעיות יציבות שקשה לאבחן."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "מתי כן מגדירים שני Gateways?",
    "a": [
      "רק ב-WDS בסביבת רשת",
      "כמעט אף פעם בתחנות קצה בסביבת רשת",
      "רק ב-DHCP בסביבת רשת בצורה מורחבת",
      "תמיד בשרתים בסביבת רשת"
    ],
    "c": 1,
    "exp": "Best Practice: בתחנות קצה כמעט לא מגדירים שני Gateways. ריבוי נתיבים פותרים עם Routing נכון, לא עם שני Gateways באותו NIC."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "מה הקשר בין Gateway ל-NAT?",
    "a": [
      "Gateway מבצע או מפנה ל-NAT בסביבת רשת",
      "Gateway מחליף NAT בסביבת רשת בצורה מורחבת",
      "אין קשר בסביבת רשת",
      "NAT מבצע DNS בסביבת רשת"
    ],
    "c": 0,
    "exp": "במקרים רבים ה-Gateway הוא גם ה-Device שמבצע NAT כדי לאפשר לכתובות פרטיות לצאת לאינטרנט באמצעות כתובת ציבורית."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "איך Gateway משתלב ב-VLANs?",
    "a": [
      "רק VLAN 1 בסביבת רשת",
      "כל VLAN צריך Gateway משלו בסביבת רשת",
      "VLAN לא צריך Gateway בסביבת רשת בצורה מורחבת",
      "רק ב-WAN בסביבת רשת"
    ],
    "c": 1,
    "exp": "כל VLAN הוא סאבנט נפרד, ולכן כדי לצאת ממנו או לדבר עם VLAN אחר צריך Gateway (SVI/Router/Firewall) שמבצע Inter-VLAN Routing."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "מה קורה אם Gateway בסאבנט אחר?",
    "a": [
      "לא תהיה תקשורת בסביבת רשת",
      "הכל יעבוד בסביבת רשת",
      "רק DHCP בסביבת רשת",
      "רק DNS ייפול בסביבת רשת בצורה מורחבת"
    ],
    "c": 0,
    "exp": "התחנה תנסה לבצע ARP ל-Gateway ולא תמצא אותו כי הוא לא באותו סאבנט, ולכן לא תהיה יציאה החוצה בכלל."
  },
  {
    "cat": "Default Gateway",
    "diff": "hard",
    "q": "איך מזהים בעיית Gateway במהירות?",
    "a": [
      "Ping ו-tracert בסביבת רשת",
      "DNS Flush בסביבת רשת בצורה מורחבת",
      "gpupdate בסביבת רשת",
      "Rebuild RAID בסביבת רשת"
    ],
    "c": 0,
    "exp": "Ping ל-Gateway בודק את hop ראשון, ו-tracert מראה איפה הנתיב נעצר. זו הדרך הכי מהירה להוכיח בעיית ניתוב/יציאה."
  },

  // VLAN

// ================= VLAN – 30 Clear Questions =================

  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "מה המשמעות של המונח VLAN?",
    "a": [
      "פרוטוקול ניתוב בין רשתות",
      "כבל רשת מתקדם",
      "רשת מקומית וירטואלית (Virtual LAN)",
      "שיטת הצפנה ברשת"
    ],
    "c": 2,
    "exp": "VLAN הוא Virtual LAN: חלוקה לוגית של רשת אחת למספר רשתות נפרדות על אותו ציוד פיזי."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "מה המטרה העיקרית של שימוש ב-VLAN בארגון?",
    "a": [
      "להפריד רשתות בצורה לוגית על אותו Switch",
      "להצפין את כל התעבורה",
      "להחליף ראוטר",
      "להגדיל מהירות אינטרנט"
    ],
    "c": 0,
    "exp": "VLAN מאפשר הפרדה לוגית (Segmentation): כל מחלקה/שירות יכול להיות מבודד בלי לקנות סוויץ' נפרד לכל אחד."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "מה זה Access Port?",
    "a": [
      "פורט שמבצע ניתוב",
      "פורט שמעביר מספר VLANים",
      "פורט שמוגדר ל-VLAN אחד בלבד",
      "פורט להצפנה"
    ],
    "c": 2,
    "exp": "Access Port שייך ל-VLAN יחיד בלבד, בדרך כלל לחיבור מחשב קצה/מדפסת/טלפון."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "מה זה Trunk Port?",
    "a": [
      "פורט שמוגדר ל-VLAN אחד בלבד",
      "פורט שמעביר כמה VLANים על אותו כבל",
      "פורט DHCP",
      "פורט למחשב קצה"
    ],
    "c": 1,
    "exp": "Trunk מעביר תעבורה של כמה VLANים יחד, לרוב בין Switchים או בין Switch לראוטר/Firewall."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "איזה תקן משמש להוספת תגית VLAN למסגרת?",
    "a": [
      "ARP",
      "802.1Q",
      "802.11",
      "802.3"
    ],
    "c": 1,
    "exp": "802.1Q מוסיף VLAN Tag למסגרת Ethernet כדי לסמן לאיזה VLAN היא שייכת על Trunk."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "האם כל VLAN יוצר Broadcast Domain נפרד?",
    "a": [
      "רק אם יש DHCP",
      "לא",
      "כן",
      "רק אם יש Router"
    ],
    "c": 2,
    "exp": "כן. כל VLAN הוא Broadcast Domain נפרד—ברודקאסט לא אמור לעבור בין VLANים בלי ניתוב."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "האם מחשבים ב-VLAN שונה יכולים לתקשר ישירות?",
    "a": [
      "כן תמיד",
      "כן אם יש DNS",
      "לא, נדרש ניתוב ביניהם",
      "כן אם הם באותו Switch"
    ],
    "c": 2,
    "exp": "לא ישירות. בשביל תקשורת בין VLANים צריך Inter-VLAN Routing (Router או Layer 3 Switch)."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "באיזו שכבה במודל OSI פועל VLAN?",
    "a": [
      "שכבה 3",
      "שכבה 2",
      "שכבה 4",
      "שכבה 1"
    ],
    "c": 1,
    "exp": "VLAN הוא Layer 2: הוא קשור למסגרות Ethernet ותגיות 802.1Q, לא לכתובות IP."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "כמה VLANים ניתן להגדיר לפי תקן 802.1Q?",
    "a": [
      "1024",
      "4094",
      "256",
      "ללא הגבלה"
    ],
    "c": 1,
    "exp": "802.1Q מאפשר IDs בטווח 1–4094 (0 ו-4095 שמורים/לא לשימוש רגיל)."
  },
  {
    "cat": "VLAN",
    "diff": "easy",
    "q": "למה נהוג להגדיר Guest WiFi ב-VLAN נפרד?",
    "a": [
      "כדי לשפר מהירות",
      "כדי להגדיל MTU",
      "כדי לבודד גישה מהרשת הארגונית",
      "כדי לשנות Subnet Mask"
    ],
    "c": 2,
    "exp": "כדי לבודד אורחים מהרשת הארגונית: שלא תהיה להם גישה לשרתים/מדפסות/שיתופים פנימיים."
  },

  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה נדרש כדי לאפשר תקשורת בין שני VLANים שונים?",
    "a": [
      "DHCP Server",
      "Router או Layer 3 Switch",
      "Access Port",
      "Switch רגיל בלבד"
    ],
    "c": 1,
    "exp": "נדרש רכיב Layer 3 שיבצע Routing בין סאבנטים/VLANים (ראוטר או L3 Switch עם SVI)."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה זה Native VLAN?",
    "a": [
      "VLAN שמועבר ללא Tag על Trunk",
      "VLAN לשרתים בלבד",
      "VLAN מהיר יותר",
      "VLAN מוצפן"
    ],
    "c": 0,
    "exp": "Native VLAN הוא ה-VLAN שנשלח בלי Tag על Trunk (מסגרות untagged). חשוב שיתאים משני הצדדים."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה יקרה אם Trunk לא מוגדר בין שני Switchים?",
    "a": [
      "MTU ישתנה",
      "VLANים לא יעברו ביניהם",
      "DHCP יכבה",
      "DNS יפסיק לעבוד"
    ],
    "c": 1,
    "exp": "בלי Trunk, תעבור רק תעבורה של VLAN אחד (Access) — VLANים אחרים לא יעברו בין הסוויצ'ים."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה היתרון העיקרי של VLAN מבחינת ביצועים?",
    "a": [
      "ביטול Collision Domain",
      "הפחתת Broadcast מיותר",
      "הגדלת מהירות פיזית",
      "הצפנה אוטומטית"
    ],
    "c": 1,
    "exp": "VLAN מצמצם Broadcast Domain ולכן מפחית רעש ברשת—פחות Broadcast = פחות עומס ויותר סדר."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה זה Management VLAN?",
    "a": [
      "VLAN ל-DNS",
      "VLAN המיועד לניהול ציוד רשת בצורה מבודדת",
      "VLAN לאינטרנט",
      "VLAN להצפנה"
    ],
    "c": 1,
    "exp": "Management VLAN מיועד לניהול (SSH/HTTPS/SNMP) של ציוד רשת, מופרד כדי להקטין סיכון ולהקל על בקרה."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה זה Voice VLAN?",
    "a": [
      "VLAN לשרתים",
      "VLAN שמיועד לטלפוני IP",
      "VLAN ל-NAT",
      "VLAN להצפנה"
    ],
    "c": 1,
    "exp": "Voice VLAN מפריד תעבורה של VoIP כדי לאפשר QoS ושירות יציב לטלפונים, בלי להיפגע מעומסים רגילים."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "אם פורט מוגדר כ-Access ל-VLAN 30, מה הוא יעביר?",
    "a": [
      "רק Native VLAN",
      "רק DHCP",
      "רק תעבורה של VLAN 30",
      "כל VLAN"
    ],
    "c": 2,
    "exp": "Access Port משתייך ל-VLAN אחד, לכן תעבור דרכו רק תעבורה של אותו VLAN."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "למה לא מומלץ להשתמש ב-VLAN 1 כברירת מחדל?",
    "a": [
      "כי הוא ברירת מחדל ורגיש יותר לאיומי אבטחה",
      "כי אינו תומך ב-IP",
      "כי הוא איטי",
      "כי הוא לא תומך ב-Trunk"
    ],
    "c": 0,
    "exp": "VLAN 1 הוא ברירת מחדל בהרבה ציוד, ולעיתים משמש לניהול—עדיף להגדיר VLAN ניהול ייעודי ולהימנע מהסתמכות על VLAN 1."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה יקרה אם Native VLAN לא תואם בין שני Switchים?",
    "a": [
      "DHCP יפסיק",
      "עלולות להתרחש בעיות תעבורה",
      "לא תהיה השפעה",
      "IP ישתנה"
    ],
    "c": 1,
    "exp": "Mismatch ב-Native VLAN יכול לגרום למסגרות untagged להיכנס ל-VLAN לא נכון—תוצאה: תקלות מוזרות וקשות לאבחון."
  },
  {
    "cat": "VLAN",
    "diff": "medium",
    "q": "מה קורה אם שני מחשבים באותו VLAN אך ב-Subnet שונה?",
    "a": [
      "Switch יפתור זאת לבד",
      "לא תהיה תקשורת ללא Router",
      "יעבדו רגיל",
      "DHCP יתקן"
    ],
    "c": 1,
    "exp": "VLAN הוא Layer 2 אבל IP הוא Layer 3: אם הם בסאבנטים שונים—צריך Routing, גם אם הם באותו VLAN."
  },

  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה זה Inter-VLAN Routing?",
    "a": [
      "שכפול DNS",
      "ניתוב בין VLANים שונים",
      "ניהול MAC Address",
      "חסימת Broadcast"
    ],
    "c": 1,
    "exp": "Inter-VLAN Routing הוא תהליך ניתוב שמאפשר ל-VLANים שונים לתקשר דרך Layer 3 (SVI/Router/Firewall)."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה זה VLAN Hopping?",
    "a": [
      "שדרוג VLAN",
      "תהליך DHCP",
      "מעבר תקין בין VLANים",
      "התקפה שמאפשרת גישה ל-VLAN אחר"
    ],
    "c": 3,
    "exp": "VLAN Hopping הוא סוג תקיפה שמנסה 'לקפוץ' בין VLANים (לרוב דרך Trunk/Native VLAN/Double-Tagging) כדי לעקוף בידוד."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה תפקיד ה-Tag ב-802.1Q?",
    "a": [
      "לשנות כתובת IP",
      "לסמן לאיזה VLAN שייכת המסגרת",
      "להצפין תעבורה",
      "לשנות כתובת MAC"
    ],
    "c": 1,
    "exp": "ה-Tag מוסיף מזהה VLAN למסגרת כדי שסוויצ'ים על Trunk ידעו לאיזה VLAN לשייך אותה."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "איך VLAN משפיע על Broadcast Storm?",
    "a": [
      "לא משפיע",
      "מבטל Broadcast לחלוטין",
      "מבודד Broadcast לכל VLAN",
      "מגדיל Broadcast"
    ],
    "c": 2,
    "exp": "VLAN מגביל Broadcast Domain. אם יש Broadcast Storm—הוא לרוב יישאר בתוך אותו VLAN ולא יפיל את כל הארגון."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה ההבדל בין Broadcast Domain ל-Collision Domain?",
    "a": [
      "VLAN מחלק Collision בלבד",
      "Switch מחלק Collision לפי פורט, VLAN מחלק Broadcast",
      "Router מחלק Collision בלבד",
      "אין הבדל"
    ],
    "c": 1,
    "exp": "Collision Domain מחולק ברמת פורט (Switch). Broadcast Domain מחולק ברמת VLAN/Router—ברודקאסט לא עובר בין VLANים."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "למה VLAN לא מחליף Firewall?",
    "a": [
      "כי הוא לא שולט בתעבורה בין VLANים ללא חוקים",
      "כי הוא איטי",
      "כי הוא משנה Subnet",
      "כי אינו עובד ב-L3"
    ],
    "c": 0,
    "exp": "VLAN נותן בידוד לוגי, אבל כדי לסנן/לאכוף חוקים בין VLANים צריך Firewall/ACLs—אחרת Routing יכול לאפשר מעבר חופשי."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה זה Private VLAN?",
    "a": [
      "VLAN ל-DHCP",
      "VLAN שמאפשר בידוד פנימי בתוך אותו VLAN",
      "VLAN לשרתים",
      "VLAN מוצפן"
    ],
    "c": 1,
    "exp": "Private VLAN מאפשר לבודד Hosts גם בתוך אותו VLAN (למשל שרתים שלא אמורים לדבר אחד עם השני), שימושי ב-DMZ/Hosting."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה יקרה אם תבטל Tagging על Trunk?",
    "a": [
      "DNS יקרוס",
      "רק Native VLAN יעבור",
      "כל VLAN יעבור",
      "DHCP יפסיק"
    ],
    "c": 1,
    "exp": "בלי Tagging, רק תעבורה לא מתויגת תעבור—כלומר לרוב רק ה-Native VLAN. שאר ה-VLANים 'ייעלמו'."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "מה יקרה אם תגדיר פורט כ-Trunk אך לא תאפשר עליו את ה-VLAN הרלוונטי?",
    "a": [
      "Switch יבצע ניתוב אוטומטי",
      "התעבורה של אותו VLAN לא תעבור דרך הפורט",
      "כל התעבורה תעבור רגיל",
      "רק Native VLAN יעבור"
    ],
    "c": 1,
    "exp": "ב-Trunk יש רשימת VLANים מותרים. אם VLAN לא מותר, המסגרות שלו ייחסמו ולא יגיעו לצד השני."
  },
  {
    "cat": "VLAN",
    "diff": "hard",
    "q": "בתרחיש של Router-on-a-Stick, מה תפקיד ה-Subinterfaces בראוטר?",
    "a": [
      "להגדיל MTU",
      "להצפין תעבורה",
      "לבטל Broadcast",
      "לשייך כל VLAN ל-Interface לוגי עם Tag מתאים"
    ],
    "c": 3,
    "exp": "Router-on-a-Stick משתמש ב-Subinterfaces: כל אחד מייצג VLAN אחר, מקבל IP משלו ומטפל בתיוג 802.1Q על אותו קו Trunk."
  },



];
;

function achValue(a){
  try { return Number(a.get?.()) || 0; } catch(e){ return 0; }
}

function achUnlocked(a){
  const v = achValue(a);
  return a.invert ? (v <= a.target) : (v >= a.target);
}

function achProgress(a){
  const v = achValue(a);
  if(a.invert){
    // invert: no classic progress; show state
    return achUnlocked(a) ? 1 : 0;
  }
  return Math.max(0, Math.min(1, v / a.target));
}





const CATEGORIES = [
  { key:"Networking", label:"Networking", emoji:"🌐" },
  { key:"DHCP", label:"DHCP", emoji:"📡" },
  { key:"DNS", label:"DNS", emoji:"🧭" },
  { key:"Active Directory", label:"Active Directory", emoji:"🏢" },
  { key:"GPO", label:"GPO", emoji:"🧩" },
  { key:"File Server", label:"File Server", emoji:"🗂️" },
  { key:"RAID", label:"RAID", emoji:"💾" },
  { key:"WDS", label:"WDS", emoji:"🖥️" },
  { key:"Troubleshooting", label:"Troubleshooting", emoji:"🧰" },
  { key: "NSX", label: "NSX", emoji: "🧱" },
  { key: "Subnet Mask", label: "Subnet Mask", emoji: "🧮" },
  { key: "Default Gateway", label: "Default Gateway", emoji: "🚪" },
  { key: "VLAN", label: "VLAN", emoji: "🔀" },


];

const $ = (sel) => document.querySelector(sel);

const screenHome = $("#screenHome");
const screenGame = $("#screenGame");
const screenResult = $("#screenResult");

const playerNameEl = $("#playerName");
const modeEl = $("#mode");
const difficultyEl = $("#difficulty");
const questionCountEl = $("#questionCount");
const chipsWrap = $("#categoryChips");

const btnStart = $("#btnStart");
const btnHighscores = $("#btnHighscores");
const btnShowHighscores2 = $("#btnShowHighscores2");
const btnHow = $("#btnHow");
const btnTheme = $("#btnTheme");
const btnAch = $("#btnAch");
const dlgAch = $("#dlgAch");
const achList = $("#achList");
const toastStack = $("#toastStack");

const levelEl = $("#level");
const xpFill = $("#xpFill");
const xpNowEl = $("#xpNow");
const xpNeedEl = $("#xpNeed");

const bestTimeEl = $("#bestTime");
const runTimeEl = $("#runTime");

const qIndexEl = $("#qIndex");
const qTotalEl = $("#qTotal");
const scoreEl = $("#score");
const comboEl = $("#combo");
const timeLeftEl = $("#timeLeft");
const ringFg = $("#ringFg");

const pillCategory = $("#pillCategory");
const pillDifficulty = $("#pillDifficulty");
const pillMode = $("#pillMode");

const questionTextEl = $("#questionText");
const answersEl = $("#answers");

const feedbackEl = $("#feedback");
const feedbackTitleEl = $("#feedbackTitle");
const feedbackPointsEl = $("#feedbackPoints");
const explanationEl = $("#explanation");
const btnNext = $("#btnNext");

const btnQuitTop = $("#btnQuitTop");

const finalScoreEl = $("#finalScore");
const finalCorrectEl = $("#finalCorrect");
const finalTotalEl = $("#finalTotal");
const finalAccuracyEl = $("#finalAccuracy");
const btnPlayAgain = $("#btnPlayAgain");
const btnBackHome = $("#btnBackHome");

const dlgHow = $("#dlgHow");
const dlgScores = $("#dlgScores");
const scoresBody = $("#scoresBody");
const btnClearScores = $("#btnClearScores");

const dlgAnalysis = $("#dlgAnalysis");
const analysisList = $("#analysisList");
const btnOpenAnalysis = $("#btnOpenAnalysis");

const life5050 = $("#life5050");
const lifeHint  = $("#lifeHint");
const lifeSkip  = $("#lifeSkip");
const lifeAudience = $("#lifeAudience");
const lifePhone = $("#lifePhone");

const life5050Count = $("#life5050Count");
const lifeHintCount  = $("#lifeHintCount");
const lifeSkipCount  = $("#lifeSkipCount");
const lifeAudienceCount = $("#lifeAudienceCount");
const lifePhoneCount = $("#lifePhoneCount");

const assistPanel = $("#assistPanel");
let state = {
  player: "Player",
  mode: "test",
  diff: "mix",
  selectedCats: new Set(),
  qCount: 10,
  deck: [],
  idx: 0,
  score: 0,
  combo: 0,
  correct: 0,
  timerSec: 30,
  timeLeft: 30,
  timerId: null,
  locked: false,
  life: { fifty: 1, hint: 1, skip: 1, audience: 1, phone: 1 },
  mistakes: [],
  feedbackTimeoutId: null,
};

const SCORE_KEY = "syslab_trivia_highscores_v2";

const PROFILE_KEY = "syslab_trivia_profile_v1";

/* ------------------------------
   PROFILE (Levels / XP / Achievements / Best Times)
------------------------------ */
function loadProfile(){
  try{
    const raw = localStorage.getItem(PROFILE_KEY);
    if(!raw) throw new Error("no profile");
    const p = JSON.parse(raw);
    // minimal hardening
    if(typeof p.level !== "number") p.level = 0;
    if(typeof p.xp !== "number") p.xp = 0;
    p.bestTimes = p.bestTimes || {};
    p.unlocked = p.unlocked || {};
    p.stats = p.stats || {};
    p.stats.games = Number(p.stats.games || 0);
    p.stats.totalCorrect = Number(p.stats.totalCorrect || 0);
    p.stats.totalWrong = Number(p.stats.totalWrong || 0);
    p.stats.bestCombo = Number(p.stats.bestCombo || 0);
    p.stats.fastestMs = (p.stats.fastestMs == null) ? null : Number(p.stats.fastestMs);
    p.stats.perfectGames = Number(p.stats.perfectGames || 0);
    p.stats.lifelinesUsed = Number(p.stats.lifelinesUsed || 0);
    p.stats.catsPlayed = p.stats.catsPlayed || {};
    p.stats.totalAnswered = Number(p.stats.totalAnswered || 0);
    p.stats.totalTimeMs = Number(p.stats.totalTimeMs || 0);
    p.stats.lastAccuracy = Number(p.stats.lastAccuracy || 0);
    p.stats.winStreakCurrent = Number(p.stats.winStreakCurrent || 0);
    p.stats.winStreakBest = Number(p.stats.winStreakBest || 0);
    p.stats.noHelpWins = Number(p.stats.noHelpWins || 0);
    p.stats.catCorrect = p.stats.catCorrect || {};

    return p;
  }catch(e){
    return {
      level: 0,
      xp: 0,
      bestTimes: {},        // { [qKey]: ms }
      unlocked: {},         // { [achId]: true }
      stats: {
        games: 0,
        totalCorrect: 0,
        totalWrong: 0,
        bestCombo: 0,
        fastestMs: null,
        perfectGames: 0,
        lifelinesUsed: 0,
        catsPlayed: {}
        ,totalAnswered: 0,
        totalTimeMs: 0,
        lastAccuracy: 0,
        winStreakCurrent: 0,
        winStreakBest: 0,
        noHelpWins: 0,
        catCorrect: {}

      }
    };
  }
}
function saveProfile(){
  localStorage.setItem(PROFILE_KEY, JSON.stringify(profile));
}
function xpNeed(level){
  // curve that feels good: 200, 340, 480, ...
  return Math.round(200 + (level - 1) * 140);
}
function updateLevelUI(){
  const need = xpNeed(profile.level);
  levelEl.textContent = String(profile.level);
  xpNowEl.textContent = String(profile.xp);
  xpNeedEl.textContent = String(need);
  const pct = need ? clamp(profile.xp / need, 0, 1) : 0;
  xpFill.style.width = `${Math.round(pct * 100)}%`;
}
function toast(kind, title, body, ms=2600){
  if(!toastStack) return;
  const t = document.createElement("div");
  t.className = `toast ${kind || ""}`.trim();
  t.innerHTML = `<div class="toastTitle">${escapeHtml(title)}</div><div class="toastBody">${escapeHtml(body || "")}</div>`;
  toastStack.appendChild(t);
  setTimeout(() => { t.style.opacity = "0"; t.style.transform = "translateY(6px)"; }, ms - 350);
  setTimeout(() => { t.remove(); }, ms);
}
function popFx(text, kind, anchorEl){
  const el = document.createElement("div");
  el.className = `popFx ${kind || ""}`.trim();
  el.textContent = text;
  document.body.appendChild(el);

  // place near anchor (stat card / button), fallback to center
  let x = window.innerWidth / 2, y = window.innerHeight / 2;
  try{
    const r = (anchorEl || document.body).getBoundingClientRect();
    x = r.left + r.width * 0.5;
    y = r.top + 10;
  }catch(_){}
  el.style.left = `${x}px`;
  el.style.top = `${y}px`;

  setTimeout(() => el.remove(), 950);
}
function addXP(amount, reason, anchorEl){
  amount = Math.max(0, Math.round(amount));
  if(!amount) return;
  popFx(`+${amount} XP`, "xp", anchorEl);
  profile.xp += amount;

  let leveled = false;
  while(profile.xp >= xpNeed(profile.level)){
    profile.xp -= xpNeed(profile.level);
    profile.level += 1;
    leveled = true;
  }
  saveProfile();
  updateLevelUI();

  if(leveled){
    // small premium glow on the level stat
    const card = document.querySelector(".levelStat");
    if(card){
      card.classList.remove("levelUpGlow");
      // force reflow so animation restarts
      void card.offsetWidth;
      card.classList.add("levelUpGlow");
    }
    toast("xp", "עלית רמה! 🎉", `רמה ${profile.level} — ממשיכים לשבור שיאים.`);
  } else if(reason){
    toast("xp", "XP", reason, 1600);
  }
}

/* stable key per question (so best times persist across games) */
function qKey(q){
  const s = `${q.cat}||${q.diff}||${q.q}`;
  let h = 0;
  for(let i=0;i<s.length;i++){
    h = ((h << 5) - h) + s.charCodeAt(i);
    h |= 0;
  }
  return `q_${(h >>> 0).toString(36)}`;
}

let profile = loadProfile();
updateLevelUI();

/* ------------------------------
   ACHIEVEMENTS (lots of them)
------------------------------ */
const ACH = [

  // =========================
  // 🎮 Games
  // =========================
  { type:"header", title:"🎮 Games (משחקים)" },
  { id:"games_1",   title:"התחלה חזקה", desc:"שחק משחק אחד.", kind:"Games", target:1, get: () => profile.stats.games || 0 },
  { id:"games_10",  title:"התמדה", desc:"שחק 10 משחקים.", kind:"Games", target:10, get: () => profile.stats.games || 0 },
  { id:"games_15",  title:"עוד קצת", desc:"שחק 15 משחקים.", kind:"Games", target:15, get: () => profile.stats.games || 0 },
  { id:"games_25",  title:"רציני פה", desc:"שחק 25 משחקים.", kind:"Games", target:25, get: () => profile.stats.games || 0 },
  { id:"games_35",  title:"קצב טוב", desc:"שחק 35 משחקים.", kind:"Games", target:35, get: () => profile.stats.games || 0 },
  { id:"games_50",  title:"מכונת טריוויה", desc:"שחק 50 משחקים.", kind:"Games", target:50, get: () => profile.stats.games || 0 },
  { id:"games_100", title:"100 משחקים", desc:"שחק 100 משחקים.", kind:"Games", target:100, get: () => profile.stats.games || 0 },
  { id:"games_300", title:"300 משחקים", desc:"שחק 300 משחקים.", kind:"Games", target:300, get: () => profile.stats.games || 0 },
  { id:"games_500", title:"500 משחקים", desc:"שחק 500 משחקים.", kind:"Games", target:500, get: () => profile.stats.games || 0 },
  { id:"games_1000", title:"1000 משחקים", desc:"שחק 1000 משחקים.", kind:"Games", target:1000, get: () => profile.stats.games || 0 },

  // =========================
  // ✅ Correct (סה"כ נכונות)
  // =========================
  { type:"header", title:"✅ Correct (תשובות נכונות בסה״כ)" },
  { id:"correct_10",   title:"10 נכונות", desc:"צבור 10 תשובות נכונות בסה״כ.", kind:"Correct", target:10, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_15",   title:"15 נכונות", desc:"צבור 15 תשובות נכונות בסה״כ.", kind:"Correct", target:15, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_25",   title:"25 נכונות", desc:"צבור 25 תשובות נכונות בסה״כ.", kind:"Correct", target:25, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_35",   title:"35 נכונות", desc:"צבור 35 תשובות נכונות בסה״כ.", kind:"Correct", target:35, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_50",   title:"50 נכונות", desc:"צבור 50 תשובות נכונות בסה״כ.", kind:"Correct", target:50, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_100",  title:"100 נכונות", desc:"צבור 100 תשובות נכונות בסה״כ.", kind:"Correct", target:100, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_300",  title:"300 נכונות", desc:"צבור 300 תשובות נכונות בסה״כ.", kind:"Correct", target:300, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_500",  title:"500 נכונות", desc:"צבור 500 תשובות נכונות בסה״כ.", kind:"Correct", target:500, get: () => profile.stats.totalCorrect || 0 },
  { id:"correct_1000", title:"1000 נכונות", desc:"צבור 1000 תשובות נכונות בסה״כ.", kind:"Correct", target:1000, get: () => profile.stats.totalCorrect || 0 },

  // =========================
  // 🧾 Questions Answered (סה"כ נענו)
  // =========================
  { type:"header", title:"🧾 Questions (שאלות שנענו בסה״כ)" },
  { id:"answered_10",   title:"10 שאלות", desc:"ענה על 10 שאלות בסה״כ.", kind:"Questions", target:10, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_15",   title:"15 שאלות", desc:"ענה על 15 שאלות בסה״כ.", kind:"Questions", target:15, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_25",   title:"25 שאלות", desc:"ענה על 25 שאלות בסה״כ.", kind:"Questions", target:25, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_35",   title:"35 שאלות", desc:"ענה על 35 שאלות בסה״כ.", kind:"Questions", target:35, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_50",   title:"50 שאלות", desc:"ענה על 50 שאלות בסה״כ.", kind:"Questions", target:50, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_100",  title:"100 שאלות", desc:"ענה על 100 שאלות בסה״כ.", kind:"Questions", target:100, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_300",  title:"300 שאלות", desc:"ענה על 300 שאלות בסה״כ.", kind:"Questions", target:300, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_500",  title:"500 שאלות", desc:"ענה על 500 שאלות בסה״כ.", kind:"Questions", target:500, get: () => profile.stats.totalAnswered || 0 },
  { id:"answered_1000", title:"1000 שאלות", desc:"ענה על 1000 שאלות בסה״כ.", kind:"Questions", target:1000, get: () => profile.stats.totalAnswered || 0 },

  // =========================
  // 🏆 Perfect (ללא טעויות)
  // =========================
  { type:"header", title:"🏆 Perfect (משחקים בלי טעויות)" },
  { id:"perfect_1",   title:"אפס טעויות", desc:"סיים משחק בלי טעויות (100%).", kind:"Perfect", target:1, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_10",  title:"מושלם ×10", desc:"סיים 10 משחקים בלי טעויות.", kind:"Perfect", target:10, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_15",  title:"מושלם ×15", desc:"סיים 15 משחקים בלי טעויות.", kind:"Perfect", target:15, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_25",  title:"מושלם ×25", desc:"סיים 25 משחקים בלי טעויות.", kind:"Perfect", target:25, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_35",  title:"מושלם ×35", desc:"סיים 35 משחקים בלי טעויות.", kind:"Perfect", target:35, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_50",  title:"מושלם ×50", desc:"סיים 50 משחקים בלי טעויות.", kind:"Perfect", target:50, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_100", title:"מושלם ×100", desc:"סיים 100 משחקים בלי טעויות.", kind:"Perfect", target:100, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_300", title:"מושלם ×300", desc:"סיים 300 משחקים בלי טעויות.", kind:"Perfect", target:300, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_500", title:"מושלם ×500", desc:"סיים 500 משחקים בלי טעויות.", kind:"Perfect", target:500, get: () => profile.stats.perfectGames || 0 },
  { id:"perfect_1000", title:"מושלם ×1000", desc:"סיים 1000 משחקים בלי טעויות.", kind:"Perfect", target:1000, get: () => profile.stats.perfectGames || 0 },

  // =========================
  // 🛟 Lifelines
  // =========================
  { type:"header", title:"🛟 Lifelines (שימוש בעזרות)" },
  { id:"lifeline_1",   title:"עם קצת עזרה", desc:"השתמש בעזרה אחת לפחות.", kind:"Lifelines", target:1, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_10",  title:"10 עזרות", desc:"השתמש ב-10 עזרות סה״כ.", kind:"Lifelines", target:10, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_15",  title:"15 עזרות", desc:"השתמש ב-15 עזרות סה״כ.", kind:"Lifelines", target:15, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_25",  title:"25 עזרות", desc:"השתמש ב-25 עזרות סה״כ.", kind:"Lifelines", target:25, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_35",  title:"35 עזרות", desc:"השתמש ב-35 עזרות סה״כ.", kind:"Lifelines", target:35, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_50",  title:"50 עזרות", desc:"השתמש ב-50 עזרות סה״כ.", kind:"Lifelines", target:50, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_100", title:"100 עזרות", desc:"השתמש ב-100 עזרות סה״כ.", kind:"Lifelines", target:100, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_300", title:"300 עזרות", desc:"השתמש ב-300 עזרות סה״כ.", kind:"Lifelines", target:300, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_500", title:"500 עזרות", desc:"השתמש ב-500 עזרות סה״כ.", kind:"Lifelines", target:500, get: () => profile.stats.lifelinesUsed || 0 },
  { id:"lifeline_1000", title:"1000 עזרות", desc:"השתמש ב-1000 עזרות סה״כ.", kind:"Lifelines", target:1000, get: () => profile.stats.lifelinesUsed || 0 },

  // =========================
  // 🧠 No Help Wins
  // =========================
  { type:"header", title:"🧠 No-Help Wins (נצחונות בלי עזרות)" },
  { id:"nohelp_1",   title:"סולו ×1", desc:"נצח משחק אחד בלי להשתמש בעזרות.", kind:"NoHelp", target:1, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_10",  title:"סולו ×10", desc:"נצח 10 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:10, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_15",  title:"סולו ×15", desc:"נצח 15 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:15, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_25",  title:"סולו ×25", desc:"נצח 25 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:25, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_35",  title:"סולו ×35", desc:"נצח 35 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:35, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_50",  title:"סולו ×50", desc:"נצח 50 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:50, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_100", title:"סולו ×100", desc:"נצח 100 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:100, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_300", title:"סולו ×300", desc:"נצח 300 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:300, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_500", title:"סולו ×500", desc:"נצח 500 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:500, get: () => profile.stats.noHelpWins || 0 },
  { id:"nohelp_1000", title:"סולו ×1000", desc:"נצח 1000 משחקים בלי להשתמש בעזרות.", kind:"NoHelp", target:1000, get: () => profile.stats.noHelpWins || 0 },

  // =========================
  // 🎯 Accuracy (אחוז דיוק)
  // =========================
  { type:"header", title:"🎯 Accuracy (דיוק במשחק האחרון)" },
  { id:"acc_70", title:"דיוק 70%", desc:"סיים משחק עם דיוק של 70% ומעלה.", kind:"Accuracy", target:70, get: () => profile.stats.lastAccuracy || 0 },
  { id:"acc_80", title:"דיוק 80%", desc:"סיים משחק עם דיוק של 80% ומעלה.", kind:"Accuracy", target:80, get: () => profile.stats.lastAccuracy || 0 },
  { id:"acc_85", title:"דיוק 85%", desc:"סיים משחק עם דיוק של 85% ומעלה.", kind:"Accuracy", target:85, get: () => profile.stats.lastAccuracy || 0 },
  { id:"acc_90", title:"דיוק 90%", desc:"סיים משחק עם דיוק של 90% ומעלה.", kind:"Accuracy", target:90, get: () => profile.stats.lastAccuracy || 0 },
  { id:"acc_95", title:"דיוק 95%", desc:"סיים משחק עם דיוק של 95% ומעלה.", kind:"Accuracy", target:95, get: () => profile.stats.lastAccuracy || 0 },
  { id:"acc_100", title:"דיוק 100%", desc:"סיים משחק עם דיוק של 100% ומעלה.", kind:"Accuracy", target:100, get: () => profile.stats.lastAccuracy || 0 },

  // =========================
  // 🧩 Categories Played
  // =========================
  { type:"header", title:"🧩 Categories Played (קטגוריות ששיחקת)" },
  { id:"cats_1",   title:"התחלה מגוונת", desc:"שחק בקטגוריה אחת.", kind:"Categories", target:1, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_3",   title:"גיוון", desc:"שחק ב-3 קטגוריות שונות.", kind:"Categories", target:3, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_5",   title:"רב-כיווני", desc:"שחק ב-5 קטגוריות שונות.", kind:"Categories", target:5, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_8",   title:"רב-תחומי", desc:"שחק ב-8 קטגוריות שונות.", kind:"Categories", target:8, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_10",  title:"10 קטגוריות", desc:"שחק ב-10 קטגוריות שונות.", kind:"Categories", target:10, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_12",  title:"12 קטגוריות", desc:"שחק ב-12 קטגוריות שונות.", kind:"Categories", target:12, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_15",  title:"15 קטגוריות", desc:"שחק ב-15 קטגוריות שונות.", kind:"Categories", target:15, get: () => Object.keys(profile.stats.catsPlayed || {}).length },
  { id:"cats_20",  title:"20 קטגוריות", desc:"שחק ב-20 קטגוריות שונות.", kind:"Categories", target:20, get: () => Object.keys(profile.stats.catsPlayed || {}).length },

  // =========================
  // 🔥 Combo
  // =========================
  { type:"header", title:"🔥 Combo (קומבו במשחק אחד)" },
  { id:"combo_5",   title:"קומבו 5×", desc:"הגע לקומבו 5 במשחק אחד.", kind:"Combo", target:5, get: () => profile.stats.bestCombo || 0 },
  { id:"combo_10",  title:"קומבו 10×", desc:"הגע לקומבו 10 במשחק אחד.", kind:"Combo", target:10, get: () => profile.stats.bestCombo || 0 },
  { id:"combo_15",  title:"קומבו 15×", desc:"הגע לקומבו 15 במשחק אחד.", kind:"Combo", target:15, get: () => profile.stats.bestCombo || 0 },
  { id:"combo_25",  title:"קומבו 25×", desc:"הגע לקומבו 25 במשחק אחד.", kind:"Combo", target:25, get: () => profile.stats.bestCombo || 0 },
  { id:"combo_35",  title:"קומבו 35×", desc:"הגע לקומבו 35 במשחק אחד.", kind:"Combo", target:35, get: () => profile.stats.bestCombo || 0 },
  { id:"combo_50",  title:"קומבו 50×", desc:"הגע לקומבו 50 במשחק אחד.", kind:"Combo", target:50, get: () => profile.stats.bestCombo || 0 },
  { id:"combo_100", title:"קומבו 100×", desc:"הגע לקומבו 100 במשחק אחד.", kind:"Combo", target:100, get: () => profile.stats.bestCombo || 0 },

  // =========================
  // ⚡ Speed (invert) - נשאר הגיוני כמו שהיה
  // =========================
  { type:"header", title:"⚡ Speed (מהירות תשובה נכונה)" },
  { id:"speed_8000ms", title:"זריז", desc:"ענה נכון על שאלה בפחות מ-8 שניות.", kind:"Speed", target:8000, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_6000ms", title:"מהיר", desc:"ענה נכון על שאלה בפחות מ-6 שניות.", kind:"Speed", target:6000, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_4000ms", title:"טורבו", desc:"ענה נכון על שאלה בפחות מ-4 שניות.", kind:"Speed", target:4000, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_2500ms", title:"מהירות NVMe", desc:"ענה נכון על שאלה בפחות מ-2.5 שניות.", kind:"Speed", target:2500, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_2000ms", title:"מהירות RAM", desc:"ענה נכון על שאלה בפחות מ-2 שניות.", kind:"Speed", target:2000, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_1500ms", title:"טיל בליסטי", desc:"ענה נכון על שאלה בפחות מ-1.5 שניות.", kind:"Speed", target:1500, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_1200ms", title:"כמעט על-אנושי", desc:"ענה נכון על שאלה בפחות מ-1.2 שניות.", kind:"Speed", target:1200, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },
  { id:"speed_1000ms", title:"1 שנייה!", desc:"ענה נכון על שאלה בפחות מ-1 שנייה.", kind:"Speed", target:1000, get: () => profile.stats.fastestMs == null ? 999999 : profile.stats.fastestMs, invert:true },

  // =========================
  // ⏱ Time Played (השארתי כמו שהיה כי זה זמן במילישניות)
  // =========================
  { type:"header", title:"⏱ Time Played (זמן משחק מצטבר)" },
  { id:"time_900000", title:"רבע שעה", desc:"שחק זמן מצטבר של רבע שעה.", kind:"Time", target:900000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_1800000", title:"חצי שעה", desc:"שחק זמן מצטבר של חצי שעה.", kind:"Time", target:1800000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_3600000", title:"שעה", desc:"שחק זמן מצטבר של שעה.", kind:"Time", target:3600000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_7200000", title:"שעתיים", desc:"שחק זמן מצטבר של שעתיים.", kind:"Time", target:7200000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_18000000", title:"5 שעות", desc:"שחק זמן מצטבר של 5 שעות.", kind:"Time", target:18000000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_36000000", title:"10 שעות", desc:"שחק זמן מצטבר של 10 שעות.", kind:"Time", target:36000000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_90000000", title:"יום שלם", desc:"שחק זמן מצטבר של יום שלם.", kind:"Time", target:90000000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_180000000", title:"שני ימים", desc:"שחק זמן מצטבר של שני ימים.", kind:"Time", target:180000000, get: () => profile.stats.totalTimeMs || 0 },
  { id:"time_360000000", title:"100 שעות", desc:"שחק זמן מצטבר של 100 שעות.", kind:"Time", target:360000000, get: () => profile.stats.totalTimeMs || 0 },

  // =========================
  // 🏅 Win Streak
  // =========================
  { type:"header", title:"🏅 Win Streak (רצף ניצחונות)" },
  { id:"winstreak_3",  title:"רצף 3", desc:"השג רצף של 3 נצחונות.", kind:"WinStreak", target:3, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_5",  title:"רצף 5", desc:"השג רצף של 5 נצחונות.", kind:"WinStreak", target:5, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_7",  title:"רצף 7", desc:"השג רצף של 7 נצחונות.", kind:"WinStreak", target:7, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_10", title:"רצף 10", desc:"השג רצף של 10 נצחונות.", kind:"WinStreak", target:10, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_15", title:"רצף 15", desc:"השג רצף של 15 נצחונות.", kind:"WinStreak", target:15, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_20", title:"רצף 20", desc:"השג רצף של 20 נצחונות.", kind:"WinStreak", target:20, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_30", title:"רצף 30", desc:"השג רצף של 30 נצחונות.", kind:"WinStreak", target:30, get: () => profile.stats.winStreakBest || 0 },
  { id:"winstreak_50", title:"רצף 50", desc:"השג רצף של 50 נצחונות.", kind:"WinStreak", target:50, get: () => profile.stats.winStreakBest || 0 },

  // =========================
  // ⭐ XP (השארתי כמו שהיה — סולם XP אחר הגיוני)
  // =========================
  { type:"header", title:"⭐ XP (נקודות ניסיון)" },
  { id:"xp_250", title:"250 XP", desc:"הגע ל-250 XP.", kind:"XP", target:250, get: () => profile.xp || 0 },
  { id:"xp_500", title:"500 XP", desc:"הגע ל-500 XP.", kind:"XP", target:500, get: () => profile.xp || 0 },
  { id:"xp_1000", title:"1000 XP", desc:"הגע ל-1000 XP.", kind:"XP", target:1000, get: () => profile.xp || 0 },
  { id:"xp_2000", title:"2000 XP", desc:"הגע ל-2000 XP.", kind:"XP", target:2000, get: () => profile.xp || 0 },
  { id:"xp_5000", title:"5000 XP", desc:"הגע ל-5000 XP.", kind:"XP", target:5000, get: () => profile.xp || 0 },
  { id:"xp_10000", title:"10000 XP", desc:"הגע ל-10000 XP.", kind:"XP", target:10000, get: () => profile.xp || 0 },
  { id:"xp_25000", title:"25000 XP", desc:"הגע ל-25000 XP.", kind:"XP", target:25000, get: () => profile.xp || 0 },
  { id:"xp_50000", title:"50000 XP", desc:"הגע ל-50000 XP.", kind:"XP", target:50000, get: () => profile.xp || 0 },

  // =========================
  // 🧬 Level (השארתי כמו שהיה — רמות לא חייבות להיות לפי הסולם הזה)
  // =========================
  { type:"header", title:"🧬 Level (רמות)" },
  { id:"level_2",  title:"Level 2",  desc:"הגע לרמה 2.",  kind:"Level", target:2,  get: () => (profile.level ?? 0) },
  { id:"level_5",  title:"Level 5",  desc:"הגע לרמה 5.",  kind:"Level", target:5,  get: () => (profile.level ?? 0) },
  { id:"level_10", title:"Level 10", desc:"הגע לרמה 10.", kind:"Level", target:10, get: () => (profile.level ?? 0) },
  { id:"level_15", title:"Level 15", desc:"הגע לרמה 15.", kind:"Level", target:15, get: () => (profile.level ?? 0) },
  { id:"level_20", title:"Level 20", desc:"הגע לרמה 20.", kind:"Level", target:20, get: () => (profile.level ?? 0) },
  { id:"level_25", title:"Level 25", desc:"הגע לרמה 25.", kind:"Level", target:25, get: () => (profile.level ?? 0) },
  { id:"level_30", title:"Level 30", desc:"הגע לרמה 30.", kind:"Level", target:30, get: () => (profile.level ?? 0) },
  { id:"level_40", title:"Level 40", desc:"הגע לרמה 40.", kind:"Level", target:40, get: () => (profile.level ?? 0) },
  { id:"level_50", title:"Level 50", desc:"הגע לרמה 50.", kind:"Level", target:50, get: () => (profile.level ?? 0) },

  // =========================
  // 📌 Category Correct (לפי קטגוריה) — לפי הסולם שביקשת
  // =========================
  { type:"header", title:"📌 Category Correct (נכונות לפי קטגוריה)" },

  // Helper: במקום לשכפל get — נשארים עקביים עם המבנה שלך
  // Networking
  { id:"cat_networking_10", title:"Networking ×10", desc:"ענה נכון על 10 שאלות ב-Networking.", kind:"Cat Networking", target:10, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_15", title:"Networking ×15", desc:"ענה נכון על 15 שאלות ב-Networking.", kind:"Cat Networking", target:15, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_25", title:"Networking ×25", desc:"ענה נכון על 25 שאלות ב-Networking.", kind:"Cat Networking", target:25, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_35", title:"Networking ×35", desc:"ענה נכון על 35 שאלות ב-Networking.", kind:"Cat Networking", target:35, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_50", title:"Networking ×50", desc:"ענה נכון על 50 שאלות ב-Networking.", kind:"Cat Networking", target:50, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_100", title:"Networking ×100", desc:"ענה נכון על 100 שאלות ב-Networking.", kind:"Cat Networking", target:100, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_300", title:"Networking ×300", desc:"ענה נכון על 300 שאלות ב-Networking.", kind:"Cat Networking", target:300, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_500", title:"Networking ×500", desc:"ענה נכון על 500 שאלות ב-Networking.", kind:"Cat Networking", target:500, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },
  { id:"cat_networking_1000", title:"Networking ×1000", desc:"ענה נכון על 1000 שאלות ב-Networking.", kind:"Cat Networking", target:1000, get: () => (profile.stats.catCorrect?.["Networking"] || 0) },

  // DHCP
  { id:"cat_dhcp_10", title:"DHCP ×10", desc:"ענה נכון על 10 שאלות ב-DHCP.", kind:"Cat DHCP", target:10, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_15", title:"DHCP ×15", desc:"ענה נכון על 15 שאלות ב-DHCP.", kind:"Cat DHCP", target:15, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_25", title:"DHCP ×25", desc:"ענה נכון על 25 שאלות ב-DHCP.", kind:"Cat DHCP", target:25, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_35", title:"DHCP ×35", desc:"ענה נכון על 35 שאלות ב-DHCP.", kind:"Cat DHCP", target:35, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_50", title:"DHCP ×50", desc:"ענה נכון על 50 שאלות ב-DHCP.", kind:"Cat DHCP", target:50, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_100", title:"DHCP ×100", desc:"ענה נכון על 100 שאלות ב-DHCP.", kind:"Cat DHCP", target:100, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_300", title:"DHCP ×300", desc:"ענה נכון על 300 שאלות ב-DHCP.", kind:"Cat DHCP", target:300, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_500", title:"DHCP ×500", desc:"ענה נכון על 500 שאלות ב-DHCP.", kind:"Cat DHCP", target:500, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },
  { id:"cat_dhcp_1000", title:"DHCP ×1000", desc:"ענה נכון על 1000 שאלות ב-DHCP.", kind:"Cat DHCP", target:1000, get: () => (profile.stats.catCorrect?.["DHCP"] || 0) },

  // DNS
  { id:"cat_dns_10", title:"DNS ×10", desc:"ענה נכון על 10 שאלות ב-DNS.", kind:"Cat DNS", target:10, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_15", title:"DNS ×15", desc:"ענה נכון על 15 שאלות ב-DNS.", kind:"Cat DNS", target:15, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_25", title:"DNS ×25", desc:"ענה נכון על 25 שאלות ב-DNS.", kind:"Cat DNS", target:25, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_35", title:"DNS ×35", desc:"ענה נכון על 35 שאלות ב-DNS.", kind:"Cat DNS", target:35, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_50", title:"DNS ×50", desc:"ענה נכון על 50 שאלות ב-DNS.", kind:"Cat DNS", target:50, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_100", title:"DNS ×100", desc:"ענה נכון על 100 שאלות ב-DNS.", kind:"Cat DNS", target:100, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_300", title:"DNS ×300", desc:"ענה נכון על 300 שאלות ב-DNS.", kind:"Cat DNS", target:300, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_500", title:"DNS ×500", desc:"ענה נכון על 500 שאלות ב-DNS.", kind:"Cat DNS", target:500, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },
  { id:"cat_dns_1000", title:"DNS ×1000", desc:"ענה נכון על 1000 שאלות ב-DNS.", kind:"Cat DNS", target:1000, get: () => (profile.stats.catCorrect?.["DNS"] || 0) },

  // Active Directory
  { id:"cat_active_directory_10", title:"Active Directory ×10", desc:"ענה נכון על 10 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:10, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_15", title:"Active Directory ×15", desc:"ענה נכון על 15 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:15, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_25", title:"Active Directory ×25", desc:"ענה נכון על 25 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:25, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_35", title:"Active Directory ×35", desc:"ענה נכון על 35 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:35, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_50", title:"Active Directory ×50", desc:"ענה נכון על 50 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:50, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_100", title:"Active Directory ×100", desc:"ענה נכון על 100 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:100, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_300", title:"Active Directory ×300", desc:"ענה נכון על 300 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:300, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_500", title:"Active Directory ×500", desc:"ענה נכון על 500 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:500, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },
  { id:"cat_active_directory_1000", title:"Active Directory ×1000", desc:"ענה נכון על 1000 שאלות ב-Active Directory.", kind:"Cat Active Directory", target:1000, get: () => (profile.stats.catCorrect?.["Active Directory"] || 0) },

  // GPO
  { id:"cat_gpo_10", title:"GPO ×10", desc:"ענה נכון על 10 שאלות ב-GPO.", kind:"Cat GPO", target:10, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_15", title:"GPO ×15", desc:"ענה נכון על 15 שאלות ב-GPO.", kind:"Cat GPO", target:15, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_25", title:"GPO ×25", desc:"ענה נכון על 25 שאלות ב-GPO.", kind:"Cat GPO", target:25, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_35", title:"GPO ×35", desc:"ענה נכון על 35 שאלות ב-GPO.", kind:"Cat GPO", target:35, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_50", title:"GPO ×50", desc:"ענה נכון על 50 שאלות ב-GPO.", kind:"Cat GPO", target:50, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_100", title:"GPO ×100", desc:"ענה נכון על 100 שאלות ב-GPO.", kind:"Cat GPO", target:100, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_300", title:"GPO ×300", desc:"ענה נכון על 300 שאלות ב-GPO.", kind:"Cat GPO", target:300, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_500", title:"GPO ×500", desc:"ענה נכון על 500 שאלות ב-GPO.", kind:"Cat GPO", target:500, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },
  { id:"cat_gpo_1000", title:"GPO ×1000", desc:"ענה נכון על 1000 שאלות ב-GPO.", kind:"Cat GPO", target:1000, get: () => (profile.stats.catCorrect?.["GPO"] || 0) },

  // File Server
  { id:"cat_file_server_10", title:"File Server ×10", desc:"ענה נכון על 10 שאלות ב-File Server.", kind:"Cat File Server", target:10, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_15", title:"File Server ×15", desc:"ענה נכון על 15 שאלות ב-File Server.", kind:"Cat File Server", target:15, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_25", title:"File Server ×25", desc:"ענה נכון על 25 שאלות ב-File Server.", kind:"Cat File Server", target:25, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_35", title:"File Server ×35", desc:"ענה נכון על 35 שאלות ב-File Server.", kind:"Cat File Server", target:35, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_50", title:"File Server ×50", desc:"ענה נכון על 50 שאלות ב-File Server.", kind:"Cat File Server", target:50, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_100", title:"File Server ×100", desc:"ענה נכון על 100 שאלות ב-File Server.", kind:"Cat File Server", target:100, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_300", title:"File Server ×300", desc:"ענה נכון על 300 שאלות ב-File Server.", kind:"Cat File Server", target:300, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_500", title:"File Server ×500", desc:"ענה נכון על 500 שאלות ב-File Server.", kind:"Cat File Server", target:500, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },
  { id:"cat_file_server_1000", title:"File Server ×1000", desc:"ענה נכון על 1000 שאלות ב-File Server.", kind:"Cat File Server", target:1000, get: () => (profile.stats.catCorrect?.["File Server"] || 0) },

  // RAID
  { id:"cat_raid_10", title:"RAID ×10", desc:"ענה נכון על 10 שאלות ב-RAID.", kind:"Cat RAID", target:10, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_15", title:"RAID ×15", desc:"ענה נכון על 15 שאלות ב-RAID.", kind:"Cat RAID", target:15, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_25", title:"RAID ×25", desc:"ענה נכון על 25 שאלות ב-RAID.", kind:"Cat RAID", target:25, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_35", title:"RAID ×35", desc:"ענה נכון על 35 שאלות ב-RAID.", kind:"Cat RAID", target:35, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_50", title:"RAID ×50", desc:"ענה נכון על 50 שאלות ב-RAID.", kind:"Cat RAID", target:50, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_100", title:"RAID ×100", desc:"ענה נכון על 100 שאלות ב-RAID.", kind:"Cat RAID", target:100, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_300", title:"RAID ×300", desc:"ענה נכון על 300 שאלות ב-RAID.", kind:"Cat RAID", target:300, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_500", title:"RAID ×500", desc:"ענה נכון על 500 שאלות ב-RAID.", kind:"Cat RAID", target:500, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },
  { id:"cat_raid_1000", title:"RAID ×1000", desc:"ענה נכון על 1000 שאלות ב-RAID.", kind:"Cat RAID", target:1000, get: () => (profile.stats.catCorrect?.["RAID"] || 0) },

  // WDS
  { id:"cat_wds_10", title:"WDS ×10", desc:"ענה נכון על 10 שאלות ב-WDS.", kind:"Cat WDS", target:10, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_15", title:"WDS ×15", desc:"ענה נכון על 15 שאלות ב-WDS.", kind:"Cat WDS", target:15, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_25", title:"WDS ×25", desc:"ענה נכון על 25 שאלות ב-WDS.", kind:"Cat WDS", target:25, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_35", title:"WDS ×35", desc:"ענה נכון על 35 שאלות ב-WDS.", kind:"Cat WDS", target:35, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_50", title:"WDS ×50", desc:"ענה נכון על 50 שאלות ב-WDS.", kind:"Cat WDS", target:50, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_100", title:"WDS ×100", desc:"ענה נכון על 100 שאלות ב-WDS.", kind:"Cat WDS", target:100, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_300", title:"WDS ×300", desc:"ענה נכון על 300 שאלות ב-WDS.", kind:"Cat WDS", target:300, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_500", title:"WDS ×500", desc:"ענה נכון על 500 שאלות ב-WDS.", kind:"Cat WDS", target:500, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },
  { id:"cat_wds_1000", title:"WDS ×1000", desc:"ענה נכון על 1000 שאלות ב-WDS.", kind:"Cat WDS", target:1000, get: () => (profile.stats.catCorrect?.["WDS"] || 0) },

  // Troubleshooting
  { id:"cat_troubleshooting_10", title:"Troubleshooting ×10", desc:"ענה נכון על 10 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:10, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_15", title:"Troubleshooting ×15", desc:"ענה נכון על 15 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:15, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_25", title:"Troubleshooting ×25", desc:"ענה נכון על 25 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:25, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_35", title:"Troubleshooting ×35", desc:"ענה נכון על 35 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:35, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_50", title:"Troubleshooting ×50", desc:"ענה נכון על 50 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:50, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_100", title:"Troubleshooting ×100", desc:"ענה נכון על 100 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:100, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_300", title:"Troubleshooting ×300", desc:"ענה נכון על 300 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:300, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_500", title:"Troubleshooting ×500", desc:"ענה נכון על 500 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:500, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },
  { id:"cat_troubleshooting_1000", title:"Troubleshooting ×1000", desc:"ענה נכון על 1000 שאלות ב-Troubleshooting.", kind:"Cat Troubleshooting", target:1000, get: () => (profile.stats.catCorrect?.["Troubleshooting"] || 0) },

  // NSX
  { id:"cat_nsx_10", title:"NSX ×10", desc:"ענה נכון על 10 שאלות ב-NSX.", kind:"Cat NSX", target:10, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_15", title:"NSX ×15", desc:"ענה נכון על 15 שאלות ב-NSX.", kind:"Cat NSX", target:15, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_25", title:"NSX ×25", desc:"ענה נכון על 25 שאלות ב-NSX.", kind:"Cat NSX", target:25, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_35", title:"NSX ×35", desc:"ענה נכון על 35 שאלות ב-NSX.", kind:"Cat NSX", target:35, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_50", title:"NSX ×50", desc:"ענה נכון על 50 שאלות ב-NSX.", kind:"Cat NSX", target:50, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_100", title:"NSX ×100", desc:"ענה נכון על 100 שאלות ב-NSX.", kind:"Cat NSX", target:100, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_300", title:"NSX ×300", desc:"ענה נכון על 300 שאלות ב-NSX.", kind:"Cat NSX", target:300, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_500", title:"NSX ×500", desc:"ענה נכון על 500 שאלות ב-NSX.", kind:"Cat NSX", target:500, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },
  { id:"cat_nsx_1000", title:"NSX ×1000", desc:"ענה נכון על 1000 שאלות ב-NSX.", kind:"Cat NSX", target:1000, get: () => (profile.stats.catCorrect?.["NSX"] || 0) },

  // Subnet Mask
  { id:"cat_subnet_mask_10", title:"Subnet Mask ×10", desc:"ענה נכון על 10 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:10, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_15", title:"Subnet Mask ×15", desc:"ענה נכון על 15 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:15, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_25", title:"Subnet Mask ×25", desc:"ענה נכון על 25 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:25, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_35", title:"Subnet Mask ×35", desc:"ענה נכון על 35 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:35, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_50", title:"Subnet Mask ×50", desc:"ענה נכון על 50 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:50, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_100", title:"Subnet Mask ×100", desc:"ענה נכון על 100 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:100, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_300", title:"Subnet Mask ×300", desc:"ענה נכון על 300 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:300, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_500", title:"Subnet Mask ×500", desc:"ענה נכון על 500 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:500, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },
  { id:"cat_subnet_mask_1000", title:"Subnet Mask ×1000", desc:"ענה נכון על 1000 שאלות ב-Subnet Mask.", kind:"Cat Subnet Mask", target:1000, get: () => (profile.stats.catCorrect?.["Subnet Mask"] || 0) },

  // Default Gateway
  { id:"cat_default_gateway_10", title:"Default Gateway ×10", desc:"ענה נכון על 10 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:10, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_15", title:"Default Gateway ×15", desc:"ענה נכון על 15 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:15, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_25", title:"Default Gateway ×25", desc:"ענה נכון על 25 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:25, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_35", title:"Default Gateway ×35", desc:"ענה נכון על 35 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:35, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_50", title:"Default Gateway ×50", desc:"ענה נכון על 50 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:50, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_100", title:"Default Gateway ×100", desc:"ענה נכון על 100 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:100, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_300", title:"Default Gateway ×300", desc:"ענה נכון על 300 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:300, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_500", title:"Default Gateway ×500", desc:"ענה נכון על 500 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:500, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },
  { id:"cat_default_gateway_1000", title:"Default Gateway ×1000", desc:"ענה נכון על 1000 שאלות ב-Default Gateway.", kind:"Cat Default Gateway", target:1000, get: () => (profile.stats.catCorrect?.["Default Gateway"] || 0) },

  // VLAN
  { id:"cat_vlan_10", title:"VLAN ×10", desc:"ענה נכון על 10 שאלות ב-VLAN.", kind:"Cat VLAN", target:10, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_15", title:"VLAN ×15", desc:"ענה נכון על 15 שאלות ב-VLAN.", kind:"Cat VLAN", target:15, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_25", title:"VLAN ×25", desc:"ענה נכון על 25 שאלות ב-VLAN.", kind:"Cat VLAN", target:25, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_35", title:"VLAN ×35", desc:"ענה נכון על 35 שאלות ב-VLAN.", kind:"Cat VLAN", target:35, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_50", title:"VLAN ×50", desc:"ענה נכון על 50 שאלות ב-VLAN.", kind:"Cat VLAN", target:50, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_100", title:"VLAN ×100", desc:"ענה נכון על 100 שאלות ב-VLAN.", kind:"Cat VLAN", target:100, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_300", title:"VLAN ×300", desc:"ענה נכון על 300 שאלות ב-VLAN.", kind:"Cat VLAN", target:300, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_500", title:"VLAN ×500", desc:"ענה נכון על 500 שאלות ב-VLAN.", kind:"Cat VLAN", target:500, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },
  { id:"cat_vlan_1000", title:"VLAN ×1000", desc:"ענה נכון על 1000 שאלות ב-VLAN.", kind:"Cat VLAN", target:1000, get: () => (profile.stats.catCorrect?.["VLAN"] || 0) },

];


function isAchUnlocked(id){ return !!profile.unlocked[id]; }

function computeAchProgress(ach){
  const val = Number(ach.get());
  if(ach.invert){
    // "lower is better" (speed)
    const done = val <= ach.target;
    // progress: map 0..1, where target or below = 1
    const prog = done ? 1 : clamp(ach.target / val, 0, 1);
    return { done, prog };
  }
  const done = val >= ach.target;
  const prog = clamp(val / ach.target, 0, 1);
  return { done, prog };
}

function unlockAch(id){
  if(isAchUnlocked(id)) return;
  profile.unlocked[id] = true;
  saveProfile();
  const ach = ACH.find(a => a.id === id);
  if(ach){
    toast("good", "השג נפתח 🏆", ach.title, 2600);
  }
}

function checkAchievements(){
  ACH.forEach(ach => {
    if(ach.type === "header") return; // מדלג על כותרות

    const { done } = computeAchProgress(ach);
    if(done) unlockAch(ach.id);
  });
  renderAchievements();
}


function renderAchievements(){
  const achievementsList = document.getElementById("achList");
  if(!achievementsList) return;

  const fmtMs = (ms) => {
    if(ms == null || !isFinite(ms)) return "--";
    const s = ms / 1000;
    return (s < 10) ? s.toFixed(1) : s.toFixed(0);
  };

  const progressLabel = (a) => {
    const v = achValue(a);

    // Speed / invert: נמוך יותר טוב
    if(a.invert){
      // אם אין עדיין זמן — תציג "--"
      if(v == null || !isFinite(v) || v <= 0) return `-- / ≤${fmtMs(a.target)}s`;
      return `${fmtMs(v)}s / ≤${fmtMs(a.target)}s`;
    }

    // רגיל: X / Target
    const cur = Math.max(0, Math.floor(v || 0));
    return `${Math.min(cur, a.target)} / ${a.target}`;
  };

  achievementsList.innerHTML = ACH.map(a => {
    // 1) כותרת קטגוריה
    if (a.type === "header") {
      return `<div class="achHeader">${a.title}</div>`;
    }

    // 2) הישג רגיל
    const unlocked = achUnlocked(a);
    const p = achProgress(a); // חייב להיות הפונקציה שלך שמטפלת ב-invert (כמו שביקשת)

    const pct = Math.round(p * 100);

    return `
      <div class="achCard ${unlocked ? "unlocked" : "locked"}">
        <div class="achTop">
          <div class="achTitle">${a.title}</div>
          <div class="achKind">${a.kind}</div>
        </div>

        <div class="achDesc">${a.desc}</div>

        <div class="achBar">
          <div class="achBarFill" style="width:${pct}%"></div>
        </div>

        <div class="achMeta">
          <span>${progressLabel(a)}</span>
          <span>${unlocked ? "✅ נפתח" : "🔒 נעול"} • ${pct}%</span>
        </div>
      </div>
    `;
  }).join("");
}




/* ------------------------------
   PER-QUESTION RUN TIMER + BEST
------------------------------ */
let qStartMs = 0;
let gameStartMs = 0;
let runTimerId = null;
let currentQKey = null;

function fmtSec(ms){
  const s = ms / 1000;
  return s.toFixed(s < 10 ? 1 : 0);
}
function getBestMs(qk){
  const v = profile.bestTimes?.[qk];
  return (typeof v === "number") ? v : null;
}
function updateBestUI(){
  if(!bestTimeEl || !runTimeEl) return;
  const best = currentQKey ? getBestMs(currentQKey) : null;
  bestTimeEl.textContent = best == null ? "--" : fmtSec(best);
}
function startRunTimerForQuestion(q){
  currentQKey = qKey(q);
  updateBestUI();
  qStartMs = performance.now();
  if(runTimerId) clearInterval(runTimerId);
  runTimeEl.textContent = "0.0";
  runTimerId = setInterval(() => {
    const ms = performance.now() - qStartMs;
    runTimeEl.textContent = fmtSec(ms);
  }, 100);
}
function stopRunTimer(){
  if(runTimerId){
    clearInterval(runTimerId);
    runTimerId = null;
  }
}
function commitBestTimeIfNeeded(q, elapsedMs, isCorrect){
  if(!isCorrect) return;
  const qk = qKey(q);
  const cur = getBestMs(qk);
  if(cur == null || elapsedMs < cur){
    profile.bestTimes[qk] = elapsedMs;
    saveProfile();
    updateBestUI();
    toast("good", "שיא חדש ⚡", `שיא לשאלה: ${fmtSec(elapsedMs)}s`);
  }
}

/* init achievements UI */
renderAchievements();
checkAchievements();


const FEEDBACK_AUTO_NEXT_MS = 10000; // 10 seconds
function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

function normalizeName(s){
  s = (s || "").trim();
  if(!s) return "";
  s = s.replace(/[^\u0590-\u05FFa-zA-Z0-9 _-]/g, "");
  s = s.replace(/\s+/g, " ").trim();
  if(!s) return "";
  if(/^[a-z]/.test(s)) s = s.charAt(0).toUpperCase() + s.slice(1);
  return s.slice(0, 18);
}

function shuffle(arr){
  const a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function mapDiffLabel(d){
  if(d==="easy") return "קל";
  if(d==="medium") return "בינוני";
  if(d==="hard") return "קשה";
  return "מעורבב";
}

function show(el){ el.classList.remove("hidden"); }
function hide(el){ el.classList.add("hidden"); }
function goto(screen){ hide(screenHome); hide(screenGame); hide(screenResult); show(screen); }

function setTheme(theme){
  if(theme === "light") document.documentElement.setAttribute("data-theme","light");
  else document.documentElement.removeAttribute("data-theme");
  localStorage.setItem("syslab_theme", theme);
}
function getTheme(){ return localStorage.getItem("syslab_theme") || "dark"; }

function renderCategoryChips(){
  chipsWrap.innerHTML = "";
  CATEGORIES.forEach(cat => {
    const id = `cat_${cat.key.replace(/\s+/g,"_")}`;
    const chip = document.createElement("label");
    chip.className = "chip";
    chip.setAttribute("for", id);
    chip.innerHTML = `
      <input id="${id}" type="checkbox" />
      <span>${cat.emoji} ${cat.label}</span>
    `;
    const cb = chip.querySelector("input");
    cb.addEventListener("change", () => {
      if(cb.checked) state.selectedCats.add(cat.key);
      else state.selectedCats.delete(cat.key);
      chip.classList.toggle("active", cb.checked);
    });
    chipsWrap.appendChild(chip);
  });
}

function getSelectedCatsOrAll(){
  if(state.selectedCats.size === 0) return new Set(CATEGORIES.map(c=>c.key));
  return new Set(state.selectedCats);
}

function buildDeck(){
  const cats = getSelectedCatsOrAll();

  // פילטר לפי קטגוריה ורמת קושי
  let pool = QUESTION_BANK.filter(q => cats.has(q.cat));
  if(state.diff !== "mix"){
    pool = pool.filter(q => q.diff === state.diff);
  }

  // מניעת כפילויות
  const seen = new Set();
  const uniquePool = [];
  for(const q of pool){
    const key = `${q.cat}||${q.q}`.trim();
    if(seen.has(key)) continue;
    seen.add(key);
    uniquePool.push(q);
  }

  // ערבוב
  const shuffled = shuffle(uniquePool);

  // 🔥 פה הקסם — לא יותר ממה שקיים
  const finalCount = Math.min(state.qCount, shuffled.length);

  state.deck = shuffled.slice(0, finalCount);
}


function stopTimer(){ if(state.timerId){ clearInterval(state.timerId); state.timerId = null; } }


function clearFeedbackAutoNext(){
  if(state.feedbackTimeoutId){
    clearTimeout(state.feedbackTimeoutId);
    state.feedbackTimeoutId = null;
  }
}

function scheduleFeedbackAutoNext(){
  clearFeedbackAutoNext();
  state.feedbackTimeoutId = setTimeout(() => {
    // advance only if we're still showing feedback for the current question
    if(state.locked && !feedbackEl.classList.contains("hidden")){
      nextStep();
    }
  }, FEEDBACK_AUTO_NEXT_MS);
}

function startTimer(){
  stopTimer();
  state.timeLeft = state.timerSec;
  updateTimerUI();

  state.timerId = setInterval(() => {
    state.timeLeft -= 1;
    updateTimerUI();
    if(state.timeLeft <= 0){ stopTimer(); onTimeUp(); }
  }, 1000);
}

function updateTimerUI(){
  timeLeftEl.textContent = String(state.timeLeft);
  const progress = clamp(state.timeLeft / state.timerSec, 0, 1);
  const offset = (1 - progress) * 113.097;
  ringFg.style.strokeDashoffset = String(offset);
  if(progress <= 0.25) ringFg.style.stroke = "rgba(251,191,36,0.95)";
  else ringFg.style.stroke = "rgba(125,211,252,0.85)";
}

function onTimeUp(){
  stopRunTimer();
  if(state.locked) return;
  const q = state.deck[state.idx];
  const elapsedMs = Math.max(0, performance.now() - qStartMs);
  profile.stats.totalWrong += 1;
    profile.stats.totalAnswered += 1;
profile.stats.catsPlayed[q.cat] = true;
  saveProfile();
  addXP(4, "נגמר הזמן ⏱️", scoreEl);
  checkAchievements();
  lockAnswers(true);
  revealCorrectAnswer(-1);
  registerMistake(-1, true);
  showFeedback(false, true);
  show(btnNext);
  scheduleFeedbackAutoNext();
}

function updateLifelinesUI(){
  const lock = state.locked;

  const fifty = Number(state.life?.fifty ?? 0);
  const hint  = Number(state.life?.hint ?? 0);
  const skip  = Number(state.life?.skip ?? 0);
  const audience = Number(state.life?.audience ?? 0);
  const phone = Number(state.life?.phone ?? 0);

  life5050Count.textContent = String(fifty);
  lifeHintCount.textContent  = String(hint);
  lifeSkipCount.textContent  = String(skip);
  if(lifeAudienceCount) lifeAudienceCount.textContent = String(audience);
  if(lifePhoneCount) lifePhoneCount.textContent = String(phone);

  life5050.disabled = fifty <= 0 || lock;
  lifeHint.disabled  = hint  <= 0 || lock;
  lifeSkip.disabled  = skip  <= 0 || lock;
  if(lifeAudience) lifeAudience.disabled = audience <= 0 || lock;
  if(lifePhone) lifePhone.disabled = phone <= 0 || lock;
}

function use5050(){
  if(state.life.fifty <= 0 || state.locked) return;
  state.life.fifty -= 1;
  profile.stats.lifelinesUsed += 1;
    state.usedLifelinesThisGame = Number(state.usedLifelinesThisGame || 0) + 1;
saveProfile();
  checkAchievements();
  updateLifelinesUI();

  const q = state.deck[state.idx];
  const wrongIdxs = [0,1,2,3].filter(i => i !== q.c);
  const toDisable = shuffle(wrongIdxs).slice(0,2);

  const btns = Array.from(answersEl.querySelectorAll("button"));
  toDisable.forEach(i => {
    btns[i].disabled = true;
    btns[i].style.opacity = "0.35";
  });
}

function useHint(){
  if(state.life.hint <= 0 || state.locked) return;
  state.life.hint -= 1;
  profile.stats.lifelinesUsed += 1;
    state.usedLifelinesThisGame = Number(state.usedLifelinesThisGame || 0) + 1;
saveProfile();
  checkAchievements();
  updateLifelinesUI();

  const q = state.deck[state.idx];
  const hint = ((q.exp || "").split(/[\.\n]/)[0] || "").trim();
  if(typeof showAssist === "function"){
    showAssist("💡 רמז", hint ? escapeHtml(hint) : "תחשוב מה הדבר הראשון שבודקים במצב כזה.");
  }
}

function useSkip(){
  if(state.life.skip <= 0 || state.locked) return;
  state.life.skip -= 1;
  profile.stats.lifelinesUsed += 1;
    state.usedLifelinesThisGame = Number(state.usedLifelinesThisGame || 0) + 1;
saveProfile();
  checkAchievements();
  updateLifelinesUI();

  state.combo = 0;
  comboEl.textContent = "0";

  if(state.mode === "test") stopTimer();
  stopRunTimer();

  registerMistake(-2, false);
  nextStep();
}

function clearAssist(){
  if(!assistPanel) return;
  assistPanel.classList.add("hidden");
  assistPanel.innerHTML = "";
  assistPanel.classList.remove("animateIn");
}

function showAssist(title, html){
  if(!assistPanel) return;
  assistPanel.classList.remove("animateIn");
  assistPanel.innerHTML = `
    <div class="assistTitle">${escapeHtml(title)}</div>
    <div class="assistText">${html}</div>
  `;
  assistPanel.classList.remove("hidden");
  requestAnimationFrame(() => assistPanel.classList.add("animateIn"));
}

function buildAudiencePoll(q){
  const base = ({ easy: 0.72, medium: 0.60, hard: 0.48 }[q.diff] ?? 0.60);
  let w = Array.from({length:4}, () => 0.2 + Math.random()*0.8);
  w[q.c] *= (1.0 + base*2.0);

  const sum = w.reduce((a,b)=>a+b,0);
  let pct = w.map(x => Math.round((x/sum)*100));

  let s = pct.reduce((a,b)=>a+b,0);
  while(s !== 100){
    const i = s > 100 ? pct.indexOf(Math.max(...pct)) : pct.indexOf(Math.min(...pct));
    pct[i] += (s > 100 ? -1 : 1);
    s = pct.reduce((a,b)=>a+b,0);
  }

  const maxI = pct.indexOf(Math.max(...pct));
  const want = Math.random() < base;
  if(want && maxI !== q.c){
    const tmp = pct[maxI];
    pct[maxI] = pct[q.c];
    pct[q.c] = tmp;
  }
  return pct;
}

function buildPhoneSuggestion(q){
  const letters = ["א","ב","ג","ד"];
  const confidence = ({ easy: 0.80, medium: 0.68, hard: 0.55 }[q.diff] ?? 0.65);

  let pick = q.c;
  if(Math.random() > confidence){
    const opts = [0,1,2,3].filter(i => i !== q.c);
    pick = opts[Math.floor(Math.random()*opts.length)];
  }

  const answerText = escapeHtml(q.a[pick] || "");
  const exp = (q.exp || "").split(/[\n]/)[0].trim();
  const rationale = exp ? escapeHtml(exp) : "זה נשמע לי הכי הגיוני לפי העקרונות שלמדנו.";

  return `
    <div><b>אני חושב שהתשובה היא:</b> <span style="font-weight:950;">${letters[pick]}</span></div>
    <div style="margin-top:6px; opacity:.95;">${answerText}</div>
    <div style="margin-top:10px; opacity:.9;"><b>למה:</b> ${rationale}</div>
    <div style="margin-top:8px; opacity:.75; font-size:14px;">(זה חבר טלפוני, לא CTO 😄)</div>
  `;
}

function useAudience(){
  if(state.life.audience <= 0 || state.locked) return;
  state.life.audience -= 1;
  profile.stats.lifelinesUsed += 1;
    state.usedLifelinesThisGame = Number(state.usedLifelinesThisGame || 0) + 1;
saveProfile();
  checkAchievements();
  updateLifelinesUI();

  const q = state.deck[state.idx];
  const dist = buildAudiencePoll(q);
  const letters = ["א","ב","ג","ד"];

  const rows = dist.map((pct, i) => `
    <div class="pollRow">
      <div class="pollLbl">${letters[i]}</div>
      <div class="pollBar"><div class="pollFill" data-pct="${pct}" style="width:0%"></div></div>
      <div class="pollPct">${pct}%</div>
    </div>
  `).join("");

  showAssist("🧑‍🤝‍🧑 עזרת קהל", `
    <div>הקהל מצביע (לא תמיד צודק 😉):</div>
    <div class="poll">${rows}</div>
  `);

  requestAnimationFrame(() => {
    assistPanel.querySelectorAll(".pollFill").forEach(el => {
      const pct = el.getAttribute("data-pct") || "0";
      el.style.width = pct + "%";
    });
  });
}

function usePhone(){
  if(state.life.phone <= 0 || state.locked) return;
  state.life.phone -= 1;
  profile.stats.lifelinesUsed += 1;
    state.usedLifelinesThisGame = Number(state.usedLifelinesThisGame || 0) + 1;
saveProfile();
  checkAchievements();
  updateLifelinesUI();

  const q = state.deck[state.idx];
  showAssist("📞 חבר טלפוני", buildPhoneSuggestion(q));
}


function resetGame(){
  gameStartMs = performance.now();
  state.usedLifelinesThisGame = 0;
  state.idx = 0;
  state.score = 0;
  state.combo = 0;
  state.correct = 0;
  state.locked = false;
  state.mistakes = [];
  state.life = { fifty: 1, hint: 1, skip: 1, audience: 1, phone: 1 };

  scoreEl.textContent = "0";
  comboEl.textContent = "0";
  updateLifelinesUI();
}

function loadQuestion(){
  state.locked = false;
  hide(feedbackEl);
  if(typeof clearAssist === 'function') clearAssist();

  const q = state.deck[state.idx];
  qIndexEl.textContent = String(state.idx + 1);
  qTotalEl.textContent = String(state.deck.length);

  pillCategory.textContent = q.cat;
  pillDifficulty.textContent = mapDiffLabel(q.diff);
  pillMode.textContent = state.mode === "test" ? "מבחן" : "תרגול";

  questionTextEl.textContent = q.q;

  answersEl.innerHTML = "";
  q.a.forEach((text, i) => {
    const btn = document.createElement("button");
    btn.className = "answerBtn";
    btn.type = "button";
    btn.innerHTML = `<span>${escapeHtml(text)}</span><span class="badge">${String.fromCharCode(0x05D0 + i)}</span>`; // א ב ג ד
    btn.addEventListener("click", () => onPick(i));
    answersEl.appendChild(btn);
  });

  // start per-question stopwatch (for best-time records)
  startRunTimerForQuestion(q);

  if(state.mode === "test") startTimer();
  else {
    stopTimer();
    state.timeLeft = state.timerSec;
    updateTimerUI();
  }

  updateLifelinesUI();
}

function lockAnswers(locked){
  state.locked = locked;
  answersEl.querySelectorAll("button").forEach(b => b.disabled = locked);
  updateLifelinesUI();
}

function revealCorrectAnswer(pickedIdx){
  const q = state.deck[state.idx];
  const btns = Array.from(answersEl.querySelectorAll("button"));
  btns.forEach((b, i) => {
    if(i === q.c) b.classList.add("correct");
    if(pickedIdx !== -1 && pickedIdx !== -2 && i === pickedIdx && pickedIdx !== q.c) b.classList.add("wrong");
  });
}

function registerMistake(pickedIdx, timeUp){
  const q = state.deck[state.idx];
  if(pickedIdx === q.c) return;
  state.mistakes.push({
    qIndex: state.idx + 1,
    cat: q.cat,
    diff: q.diff,
    question: q.q,
    answers: q.a,
    correctIdx: q.c,
    pickedIdx,
    exp: q.exp,
    timeUp: !!timeUp
  });
}

function calcPoints(isCorrect){
  const q = state.deck[state.idx];
  const base = q.diff === "easy" ? 80 : (q.diff === "medium" ? 120 : 160);
  if(!isCorrect) return 0;
  const comboMultiplier = 1 + clamp(state.combo, 0, 6) * 0.15;
  const timeBonus = (state.mode === "test") ? (0.75 + 0.25 * (state.timeLeft / state.timerSec)) : 1.0;
  return Math.round(base * comboMultiplier * timeBonus);
}

function showFeedback(isCorrect, timeUp=false){
  // ✅ מובייל בלבד: לא להשאיר "פאנל עזרות" שתופס מקום מעל ההסבר
  if (window.matchMedia("(max-width: 540px)").matches) {
    assistPanel.innerHTML = "";
    assistPanel.classList.add("hidden");
  }

  const q = state.deck[state.idx];
  show(feedbackEl);
  explanationEl.textContent = q.exp;

  if(isCorrect){
    feedbackTitleEl.textContent = "נכון ✅";
    feedbackPointsEl.textContent = `+${calcPoints(true)}`;
  } else {
    feedbackTitleEl.textContent = timeUp ? "נגמר הזמן ⏱️" : "לא נכון ❌";
    feedbackPointsEl.textContent = "+0";
  }
}


function onPick(i){
  if(state.locked) return;
  const q = state.deck[state.idx];
  const isCorrect = (i === q.c);
  const elapsedMs = Math.max(0, performance.now() - qStartMs);
  if(state.mode === "test") stopTimer();

  lockAnswers(true);
  revealCorrectAnswer(i);

  if(isCorrect){
    state.correct += 1;
    state.combo += 1;
    // profile stats
    profile.stats.totalCorrect += 1;
        profile.stats.totalAnswered += 1;
    profile.stats.catCorrect[q.cat] = Number(profile.stats.catCorrect[q.cat] || 0) + 1;
profile.stats.catsPlayed[q.cat] = true;
    const pts = calcPoints(true);
    state.score += pts;
    scoreEl.textContent = String(state.score);
    popFx(`+${pts} נק׳`, "good", scoreEl);
    comboEl.textContent = String(state.combo);
    profile.stats.bestCombo = Math.max(profile.stats.bestCombo, state.combo);
    profile.stats.fastestMs = (profile.stats.fastestMs == null) ? elapsedMs : Math.min(profile.stats.fastestMs, elapsedMs);
    saveProfile();

    // XP (fast + premium)
    const xpBase = 28 + (q.diff === "easy" ? 0 : (q.diff === "medium" ? 10 : 18));
    const speedBonus = clamp((state.timerSec*1000 - elapsedMs) / (state.timerSec*1000), 0, 1);
    const xpGain = Math.round(xpBase + speedBonus * 18 + clamp(state.combo,0,10) * 2);
    addXP(xpGain, "נכון ✅", scoreEl);
    commitBestTimeIfNeeded(q, elapsedMs, true);
    checkAchievements();

    showFeedback(true, false);
    // AUTO_NEXT_ON_CORRECT
    show(btnNext);
    scheduleFeedbackAutoNext();
    } else {
    profile.stats.totalWrong += 1;
        profile.stats.totalAnswered += 1;
profile.stats.catsPlayed[q.cat] = true;
    saveProfile();
    addXP(6, "ניסיון גם שווה XP 🙂", scoreEl);
    checkAchievements();

    state.combo = 0;
    comboEl.textContent = "0";
    registerMistake(i, false);
    showFeedback(false, false);
    // AUTO_NEXT_ON_WRONG (לא עוצרים על טעות)
    show(btnNext);
    scheduleFeedbackAutoNext();
    }
}

function nextStep(){
  clearFeedbackAutoNext();
  state.idx += 1;
  if(state.idx >= state.deck.length) endGame();
  else loadQuestion();
}

function endGame(){
  stopTimer();
  stopRunTimer();
  goto(screenResult);

  finalScoreEl.textContent = String(state.score);
  finalCorrectEl.textContent = String(state.correct);
  finalTotalEl.textContent = String(state.deck.length);

  const acc = state.deck.length ? Math.round((state.correct / state.deck.length) * 100) : 0;
  finalAccuracyEl.textContent = `${acc}%`;

  // profile stats (end of game)
  profile.stats.games += 1;
  if(acc === 100) profile.stats.perfectGames += 1;
  
  // store last accuracy for Accuracy achievements
  profile.stats.lastAccuracy = acc;

  // total time played (ms) for Time achievements
  const gameMs = Math.max(0, performance.now() - (gameStartMs || performance.now()));
  profile.stats.totalTimeMs += Math.round(gameMs);

  // define "win" for streaks: 70%+ accuracy
  const isWin = acc >= 70;

  if(isWin){
    profile.stats.winStreakCurrent = Number(profile.stats.winStreakCurrent || 0) + 1;
    profile.stats.winStreakBest = Math.max(Number(profile.stats.winStreakBest || 0), profile.stats.winStreakCurrent);
  } else {
    profile.stats.winStreakCurrent = 0;
  }

  // NoHelp wins: win without using any lifeline in this game
  if(isWin && Number(state.usedLifelinesThisGame || 0) === 0){
    profile.stats.noHelpWins = Number(profile.stats.noHelpWins || 0) + 1;
  }
profile.stats.bestCombo = Math.max(profile.stats.bestCombo, state.combo);
  saveProfile();
  checkAchievements();

  saveHighscore({
    name: state.player,
    score: state.score,
    correct: state.correct,
    total: state.deck.length,
    acc,
    ts: Date.now(),
  });

  renderAnalysis();
}

function renderAnalysis(){
  analysisList.innerHTML = "";
  if(state.mistakes.length === 0){
    analysisList.innerHTML = `<div class="mistake"><div class="mistakeQ">אין טעויות 🎯</div><div class="mistakeBody">מטורף. זה כבר רמה של סיסטם אמיתי.</div></div>`;
    return;
  }

  state.mistakes.forEach(m => {
    const pickedText =
      (m.pickedIdx === -1) ? "לא ענית (זמן נגמר)"
      : (m.pickedIdx === -2) ? "דילגת"
      : m.answers[m.pickedIdx];

    const correctText = m.answers[m.correctIdx];

    const el = document.createElement("div");
    el.className = "mistake";
    el.innerHTML = `
      <div class="mistakeTop">
        <div class="mistakeQ">${escapeHtml(m.qIndex + ". " + m.question)}</div>
        <div class="mistakeMeta">${escapeHtml(m.cat)} • ${mapDiffLabel(m.diff)}</div>
      </div>
      <div class="mistakeBody">
        <div><b>ענית:</b> ${escapeHtml(pickedText)}</div>
        <div><b>נכון:</b> ${escapeHtml(correctText)}</div>
        <div style="margin-top:6px;"><b>הסבר:</b> ${escapeHtml(m.exp)}</div>
      </div>
    `;
    analysisList.appendChild(el);
  });
}

function loadHighscores(){
  try{
    const raw = localStorage.getItem(SCORE_KEY);
    if(!raw) return [];
    const arr = JSON.parse(raw);
    if(!Array.isArray(arr)) return [];
    return arr;
  } catch { return []; }
}

function saveHighscore(entry){
  const list = loadHighscores();
  list.push(entry);
  list.sort((a,b) => b.score - a.score);
  localStorage.setItem(SCORE_KEY, JSON.stringify(list.slice(0, 10)));
}

function renderHighscores(){
  const list = loadHighscores();
  scoresBody.innerHTML = "";

  if(list.length === 0){
    const tr = document.createElement("tr");
    tr.innerHTML = `<td colspan="5" style="color:var(--muted);">אין עדיין שיאים. תן בראש 😄</td>`;
    scoresBody.appendChild(tr);
    return;
  }

  list.forEach((e, idx) => {
    const d = new Date(e.ts);
    const dateStr = d.toLocaleDateString("he-IL");
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${idx+1}</td>
      <td>${escapeHtml(e.name || "Player")}</td>
      <td>${e.score}</td>
      <td>${e.acc}%</td>
      <td>${dateStr}</td>
    `;
    scoresBody.appendChild(tr);
  });
}

function escapeHtml(s){
  return String(s).replace(/[&<>"']/g, (m) => ({
    "&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#039;"
  }[m]));
}

function validateAndStart(){
  const name = normalizeName(playerNameEl.value);
  if(!name){
    playerNameEl.focus();
    playerNameEl.classList.add("shake");
    setTimeout(()=>playerNameEl.classList.remove("shake"), 220);
    return;
  }

  state.player = name;
  state.mode = modeEl.value;
  state.diff = difficultyEl.value;
  state.qCount = parseInt(questionCountEl.value, 10) || 10;
  state.timerSec = 30;

  buildDeck();
  if(!state.deck || state.deck.length === 0){
    toast("bad", "אין שאלות", "בקטגוריות/קושי שבחרת אין שאלות בבנק. תבחר קטגוריות אחרות או תדביק את הבנק המלא.");
    return;
  }
  resetGame();
  goto(screenGame);
  loadQuestion();
}

btnStart.addEventListener("click", validateAndStart);

function syncQuestionCountByDifficulty(){
  const d = difficultyEl.value; // "mix" | "easy" | "medium" | "hard"

  // לשמור את כל האופציות המקוריות פעם אחת
  if(!questionCountEl.dataset.allOptions){
    questionCountEl.dataset.allOptions = questionCountEl.innerHTML;
  }

  if(d !== "mix"){
    // ברמה ספציפית – מאפשרים רק 10
    questionCountEl.innerHTML = `<option value="10">10</option>`;
    questionCountEl.value = "10";
    questionCountEl.disabled = true; // שלא יבחרו משהו אחר
  } else {
    // במעורבב – מחזירים את כל האופציות
    questionCountEl.innerHTML = questionCountEl.dataset.allOptions;
    if(!questionCountEl.value) questionCountEl.value = "10";
    questionCountEl.disabled = false;
  }
}

// ברגע שמשנים רמה
difficultyEl.addEventListener("change", () => {
  syncQuestionCountByDifficulty();
});

// להפעיל גם בעת טעינת הדף כדי שיתיישר למצב הנוכחי
syncQuestionCountByDifficulty();


btnNext.addEventListener("click", () => { clearFeedbackAutoNext(); nextStep(); });
btnQuitTop.addEventListener("click", () => {
  clearFeedbackAutoNext();
  stopTimer();
  goto(screenHome);
});

btnPlayAgain.addEventListener("click", () => goto(screenHome));
btnBackHome.addEventListener("click", () => goto(screenHome));

btnHow.addEventListener("click", () => dlgHow.showModal());
btnAch.addEventListener("click", () => { renderAchievements(); dlgAch.showModal(); });

btnHighscores.addEventListener("click", () => { renderHighscores(); dlgScores.showModal(); });
btnShowHighscores2.addEventListener("click", () => { renderHighscores(); dlgScores.showModal(); });

btnClearScores.addEventListener("click", () => { localStorage.removeItem(SCORE_KEY); renderHighscores(); });

btnTheme.addEventListener("click", () => {
  const cur = getTheme();
  setTheme(cur === "dark" ? "light" : "dark");
});

btnOpenAnalysis.addEventListener("click", () => {
  renderAnalysis();
  dlgAnalysis.showModal();
});

playerNameEl.addEventListener("input", () => {
  const fixed = normalizeName(playerNameEl.value);
  if(fixed !== playerNameEl.value) playerNameEl.value = fixed;
});

playerNameEl.addEventListener("keydown", (e) => {
  if(e.key === "Enter"){ e.preventDefault(); validateAndStart(); }
});

life5050.addEventListener("click", use5050);
lifeHint.addEventListener("click", useHint);
lifeSkip.addEventListener("click", useSkip);
if(lifeAudience) lifeAudience.addEventListener("click", useAudience);
if(lifePhone) lifePhone.addEventListener("click", usePhone);

document.addEventListener("keydown", (e) => {
  if(screenGame.classList.contains("hidden")) return;
  if(state.locked && !feedbackEl.classList.contains("hidden")){
    if(e.key === "Enter"){ clearFeedbackAutoNext(); nextStep(); }
}
});

(function init(){
  setTheme(getTheme());
  renderCategoryChips();
  state.timeLeft = state.timerSec;
  updateTimerUI();
})();

function resetAchievements(){
  const ok = confirm("⚠️ זה יאפס את כל ההתקדמות, הרמות, ה-XP והשיאים.\nאתה בטוח?");
  if(!ok) return;

  localStorage.clear();   // מוחק הכל מהמשחק
  location.reload();      // טוען מחדש
}


